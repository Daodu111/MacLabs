function cI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function i_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bm={exports:{}},ac={},Em={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function uI(){if(b0)return Ge;b0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function R(B,ne,_e){this.props=B,this.context=ne,this.refs=I,this.updater=_e||k}R.prototype.isReactComponent={},R.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function $(){}$.prototype=R.prototype;function H(B,ne,_e){this.props=B,this.context=ne,this.refs=I,this.updater=_e||k}var W=H.prototype=new $;W.constructor=H,O(W,R.prototype),W.isPureReactComponent=!0;var U=Array.isArray,q=Object.prototype.hasOwnProperty,ee={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(B,ne,_e){var xe,je={},Le=null,le=null;if(ne!=null)for(xe in ne.ref!==void 0&&(le=ne.ref),ne.key!==void 0&&(Le=""+ne.key),ne)q.call(ne,xe)&&!C.hasOwnProperty(xe)&&(je[xe]=ne[xe]);var Ie=arguments.length-2;if(Ie===1)je.children=_e;else if(1<Ie){for(var De=Array(Ie),Ue=0;Ue<Ie;Ue++)De[Ue]=arguments[Ue+2];je.children=De}if(B&&B.defaultProps)for(xe in Ie=B.defaultProps,Ie)je[xe]===void 0&&(je[xe]=Ie[xe]);return{$$typeof:n,type:B,key:Le,ref:le,props:je,_owner:ee.current}}function A(B,ne){return{$$typeof:n,type:B.type,key:ne,ref:B.ref,props:B.props,_owner:B._owner}}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function M(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(_e){return ne[_e]})}var L=/\/+/g;function P(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):ne.toString(36)}function Z(B,ne,_e,xe,je){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var le=!1;if(B===null)le=!0;else switch(Le){case"string":case"number":le=!0;break;case"object":switch(B.$$typeof){case n:case e:le=!0}}if(le)return le=B,je=je(le),B=xe===""?"."+P(le,0):xe,U(je)?(_e="",B!=null&&(_e=B.replace(L,"$&/")+"/"),Z(je,ne,_e,"",function(Ue){return Ue})):je!=null&&(D(je)&&(je=A(je,_e+(!je.key||le&&le.key===je.key?"":(""+je.key).replace(L,"$&/")+"/")+B)),ne.push(je)),1;if(le=0,xe=xe===""?".":xe+":",U(B))for(var Ie=0;Ie<B.length;Ie++){Le=B[Ie];var De=xe+P(Le,Ie);le+=Z(Le,ne,_e,De,je)}else if(De=E(B),typeof De=="function")for(B=De.call(B),Ie=0;!(Le=B.next()).done;)Le=Le.value,De=xe+P(Le,Ie++),le+=Z(Le,ne,_e,De,je);else if(Le==="object")throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return le}function ue(B,ne,_e){if(B==null)return B;var xe=[],je=0;return Z(B,xe,"","",function(Le){return ne.call(_e,Le,je++)}),xe}function ge(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(_e){(B._status===0||B._status===-1)&&(B._status=1,B._result=_e)},function(_e){(B._status===0||B._status===-1)&&(B._status=2,B._result=_e)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var ae={current:null},F={transition:null},fe={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:F,ReactCurrentOwner:ee};function he(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:ue,forEach:function(B,ne,_e){ue(B,function(){ne.apply(this,arguments)},_e)},count:function(B){var ne=0;return ue(B,function(){ne++}),ne},toArray:function(B){return ue(B,function(ne){return ne})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ge.Component=R,Ge.Fragment=t,Ge.Profiler=o,Ge.PureComponent=H,Ge.StrictMode=r,Ge.Suspense=m,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ge.act=he,Ge.cloneElement=function(B,ne,_e){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var xe=O({},B.props),je=B.key,Le=B.ref,le=B._owner;if(ne!=null){if(ne.ref!==void 0&&(Le=ne.ref,le=ee.current),ne.key!==void 0&&(je=""+ne.key),B.type&&B.type.defaultProps)var Ie=B.type.defaultProps;for(De in ne)q.call(ne,De)&&!C.hasOwnProperty(De)&&(xe[De]=ne[De]===void 0&&Ie!==void 0?Ie[De]:ne[De])}var De=arguments.length-2;if(De===1)xe.children=_e;else if(1<De){Ie=Array(De);for(var Ue=0;Ue<De;Ue++)Ie[Ue]=arguments[Ue+2];xe.children=Ie}return{$$typeof:n,type:B.type,key:je,ref:Le,props:xe,_owner:le}},Ge.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ge.createElement=T,Ge.createFactory=function(B){var ne=T.bind(null,B);return ne.type=B,ne},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(B){return{$$typeof:f,render:B}},Ge.isValidElement=D,Ge.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:ge}},Ge.memo=function(B,ne){return{$$typeof:g,type:B,compare:ne===void 0?null:ne}},Ge.startTransition=function(B){var ne=F.transition;F.transition={};try{B()}finally{F.transition=ne}},Ge.unstable_act=he,Ge.useCallback=function(B,ne){return ae.current.useCallback(B,ne)},Ge.useContext=function(B){return ae.current.useContext(B)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(B){return ae.current.useDeferredValue(B)},Ge.useEffect=function(B,ne){return ae.current.useEffect(B,ne)},Ge.useId=function(){return ae.current.useId()},Ge.useImperativeHandle=function(B,ne,_e){return ae.current.useImperativeHandle(B,ne,_e)},Ge.useInsertionEffect=function(B,ne){return ae.current.useInsertionEffect(B,ne)},Ge.useLayoutEffect=function(B,ne){return ae.current.useLayoutEffect(B,ne)},Ge.useMemo=function(B,ne){return ae.current.useMemo(B,ne)},Ge.useReducer=function(B,ne,_e){return ae.current.useReducer(B,ne,_e)},Ge.useRef=function(B){return ae.current.useRef(B)},Ge.useState=function(B){return ae.current.useState(B)},Ge.useSyncExternalStore=function(B,ne,_e){return ae.current.useSyncExternalStore(B,ne,_e)},Ge.useTransition=function(){return ae.current.useTransition()},Ge.version="18.3.1",Ge}var E0;function Hp(){return E0||(E0=1,Em.exports=uI()),Em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function dI(){if(T0)return ac;T0=1;var n=Hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,m,g){var x,_={},E=null,k=null;g!==void 0&&(E=""+g),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(k=m.ref);for(x in m)r.call(m,x)&&!a.hasOwnProperty(x)&&(_[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)_[x]===void 0&&(_[x]=m[x]);return{$$typeof:e,type:f,key:E,ref:k,props:_,_owner:o.current}}return ac.Fragment=t,ac.jsx=u,ac.jsxs=u,ac}var S0;function hI(){return S0||(S0=1,bm.exports=dI()),bm.exports}var c=hI(),dd={},Tm={exports:{}},Sn={},Sm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function fI(){return I0||(I0=1,(function(n){function e(F,fe){var he=F.length;F.push(fe);e:for(;0<he;){var B=he-1>>>1,ne=F[B];if(0<o(ne,fe))F[B]=fe,F[he]=ne,he=B;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var fe=F[0],he=F.pop();if(he!==fe){F[0]=he;e:for(var B=0,ne=F.length,_e=ne>>>1;B<_e;){var xe=2*(B+1)-1,je=F[xe],Le=xe+1,le=F[Le];if(0>o(je,he))Le<ne&&0>o(le,je)?(F[B]=le,F[Le]=he,B=Le):(F[B]=je,F[xe]=he,B=xe);else if(Le<ne&&0>o(le,he))F[B]=le,F[Le]=he,B=Le;else break e}}return fe}function o(F,fe){var he=F.sortIndex-fe.sortIndex;return he!==0?he:F.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],g=[],x=1,_=null,E=3,k=!1,O=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(F){for(var fe=t(g);fe!==null;){if(fe.callback===null)r(g);else if(fe.startTime<=F)r(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=t(g)}}function U(F){if(I=!1,W(F),!O)if(t(m)!==null)O=!0,ge(q);else{var fe=t(g);fe!==null&&ae(U,fe.startTime-F)}}function q(F,fe){O=!1,I&&(I=!1,$(T),T=-1),k=!0;var he=E;try{for(W(fe),_=t(m);_!==null&&(!(_.expirationTime>fe)||F&&!M());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var ne=B(_.expirationTime<=fe);fe=n.unstable_now(),typeof ne=="function"?_.callback=ne:_===t(m)&&r(m),W(fe)}else r(m);_=t(m)}if(_!==null)var _e=!0;else{var xe=t(g);xe!==null&&ae(U,xe.startTime-fe),_e=!1}return _e}finally{_=null,E=he,k=!1}}var ee=!1,C=null,T=-1,A=5,D=-1;function M(){return!(n.unstable_now()-D<A)}function L(){if(C!==null){var F=n.unstable_now();D=F;var fe=!0;try{fe=C(!0,F)}finally{fe?P():(ee=!1,C=null)}}else ee=!1}var P;if(typeof H=="function")P=function(){H(L)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ue=Z.port2;Z.port1.onmessage=L,P=function(){ue.postMessage(null)}}else P=function(){R(L,0)};function ge(F){C=F,ee||(ee=!0,P())}function ae(F,fe){T=R(function(){F(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){O||k||(O=!0,ge(q))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(F){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var he=E;E=fe;try{return F()}finally{E=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,fe){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var he=E;E=F;try{return fe()}finally{E=he}},n.unstable_scheduleCallback=function(F,fe,he){var B=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?B+he:B):he=B,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=he+ne,F={id:x++,callback:fe,priorityLevel:F,startTime:he,expirationTime:ne,sortIndex:-1},he>B?(F.sortIndex=he,e(g,F),t(m)===null&&F===t(g)&&(I?($(T),T=-1):I=!0,ae(U,he-B))):(F.sortIndex=ne,e(m,F),O||k||(O=!0,ge(q))),F},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(F){var fe=E;return function(){var he=E;E=fe;try{return F.apply(this,arguments)}finally{E=he}}}})(Im)),Im}var N0;function mI(){return N0||(N0=1,Sm.exports=fI()),Sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function pI(){if(C0)return Sn;C0=1;var n=Hp(),e=mI();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},_={};function E(s){return m.call(_,s)?!0:m.call(x,s)?!1:g.test(s)?_[s]=!0:(x[s]=!0,!1)}function k(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,i,l,h){if(i===null||typeof i>"u"||k(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function I(s,i,l,h,p,y,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=b}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];R[i]=new I(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace($,H);R[i]=new I(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace($,H);R[i]=new I(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace($,H);R[i]=new I(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function W(s,i,l,h){var p=R.hasOwnProperty(i)?R[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,l,p,h)&&(l=null),h||p===null?E(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,h=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),ee=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),F=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var he=Object.assign,B;function ne(s){if(B===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);B=i&&i[1]||""}return`
`+B+s}var _e=!1;function xe(s,i){if(!s||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Y){var h=Y}Reflect.construct(s,[],i)}else{try{i.call()}catch(Y){h=Y}s.call(i.prototype)}else{try{throw Error()}catch(Y){h=Y}s()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),y=h.stack.split(`
`),b=p.length-1,j=y.length-1;1<=b&&0<=j&&p[b]!==y[j];)j--;for(;1<=b&&0<=j;b--,j--)if(p[b]!==y[j]){if(b!==1||j!==1)do if(b--,j--,0>j||p[b]!==y[j]){var V=`
`+p[b].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=b&&0<=j);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?ne(s):""}function je(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case ee:return"Portal";case A:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case Z:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case L:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ue:return i=s.displayName||null,i!==null?i:Le(s.type)||"Memo";case ge:i=s._payload,s=s._init;try{return Le(s(i))}catch{}}return null}function le(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function De(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ue(s){var i=De(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){h=""+b,y.call(this,b)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Ke(s){s._valueTracker||(s._valueTracker=Ue(s))}function et(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=De(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function wt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function rn(s,i){var l=i.checked;return he({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Er(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=Ie(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Wn(s,i){i=i.checked,i!=null&&W(s,"checked",i,!1)}function at(s,i){Wn(s,i);var l=Ie(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?It(s,i.type,l):i.hasOwnProperty("defaultValue")&&It(s,i.type,Ie(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Os(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function It(s,i,l){(i!=="number"||wt(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var _t=Array.isArray;function Cn(s,i,l,h){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Ie(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Ls(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Hi(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(_t(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Ie(l)}}function Uo(s,i){var l=Ie(i.value),h=Ie(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function Tr(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Wi(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vs(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Wi(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Sr,J=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Sr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function se(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];Object.keys(Ce).forEach(function(s){Me.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Ce[i]=Ce[s]})});function ze(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Ce.hasOwnProperty(s)&&Ce[s]?(""+i).trim():i+"px"}function ft(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=ze(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,p):s[l]=p}}var ut=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nt(s,i){if(i){if(ut[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function pn(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kn=null;function zo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,os=null,Ct=null;function xl(s){if(s=ql(s)){if(typeof is!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Iu(i),is(s.stateNode,s.type,i))}}function Fs(s){os?Ct?Ct.push(s):Ct=[s]:os=s}function Us(){if(os){var s=os,i=Ct;if(Ct=os=null,xl(s),i)for(s=0;s<i.length;s++)xl(i[s])}}function eu(s,i){return s(i)}function tu(){}var Ir=!1;function nu(s,i,l){if(Ir)return s(i,l);Ir=!0;try{return eu(s,i,l)}finally{Ir=!1,(os!==null||Ct!==null)&&(tu(),Us())}}function qi(s,i){var l=s.stateNode;if(l===null)return null;var h=Iu(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var zs=!1;if(f)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{zs=!1}function ru(s,i,l,h,p,y,b,j,V){var Y=Array.prototype.slice.call(arguments,3);try{i.apply(l,Y)}catch(oe){this.onError(oe)}}var as=!1,Nr=null,Bo=!1,qn=null,su={onError:function(s){as=!0,Nr=s}};function iu(s,i,l,h,p,y,b,j,V){as=!1,Nr=null,ru.apply(su,arguments)}function wl(s,i,l,h,p,y,b,j,V){if(iu.apply(this,arguments),as){if(as){var Y=Nr;as=!1,Nr=null}else throw Error(t(198));Bo||(Bo=!0,qn=Y)}}function ir(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function _l(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function ou(s){if(ir(s)!==s)throw Error(t(188))}function au(s){var i=s.alternate;if(!i){if(i=ir(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return ou(p),s;if(y===h)return ou(p),i;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var b=!1,j=p.child;j;){if(j===l){b=!0,l=p,h=y;break}if(j===h){b=!0,h=p,l=y;break}j=j.sibling}if(!b){for(j=y.child;j;){if(j===l){b=!0,l=y,h=p;break}if(j===h){b=!0,h=y,l=p;break}j=j.sibling}if(!b)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function lu(s){return s=au(s),s!==null?Gi(s):null}function Gi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Gi(s);if(i!==null)return i;s=s.sibling}return null}var bl=e.unstable_scheduleCallback,$o=e.unstable_cancelCallback,Ki=e.unstable_shouldYield,ls=e.unstable_requestPaint,mt=e.unstable_now,Jh=e.unstable_getCurrentPriorityLevel,Ho=e.unstable_ImmediatePriority,El=e.unstable_UserBlockingPriority,Qi=e.unstable_NormalPriority,Tl=e.unstable_LowPriority,Wo=e.unstable_IdlePriority,Yi=null,An=null;function cu(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Yi,s,void 0,(s.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Xi,Cr=Math.log,Gn=Math.LN2;function Xi(s){return s>>>=0,s===0?32:31-(Cr(s)/Gn|0)|0}var kr=64,$s=4194304;function rt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function cs(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,p=s.suspendedLanes,y=s.pingedLanes,b=l&268435455;if(b!==0){var j=b&~p;j!==0?h=rt(j):(y&=b,y!==0&&(h=rt(y)))}else b=l&~p,b!==0?h=rt(b):y!==0&&(h=rt(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-Pn(i),p=1<<l,h|=s[l],i&=~p;return h}function Ji(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var b=31-Pn(y),j=1<<b,V=p[b];V===-1?((j&l)===0||(j&h)!==0)&&(p[b]=Ji(j,i)):V<=i&&(s.expiredLanes|=j),y&=~j}}function Sl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Il(){var s=kr;return kr<<=1,(kr&4194240)===0&&(kr=64),s}function Nl(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function eo(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Pn(i),s[i]=l}function Zh(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Pn(l),y=1<<p;i[p]=0,h[p]=-1,s[p]=-1,l&=~y}}function Cl(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-Pn(l),p=1<<h;p&i|s[h]&i&&(s[h]|=i),l&=~p}}var Je=0;function Ar(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var kl,qo,Al,Pl,Rl,Pr=!1,Go=[],Rr=null,jr=null,Yt=null,to=new Map,us=new Map,Rn=[],uu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hs(s,i){switch(s){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":to.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(i.pointerId)}}function or(s,i,l,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},i!==null&&(i=ql(i),i!==null&&qo(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function du(s,i,l,h,p){switch(i){case"focusin":return Rr=or(Rr,s,i,l,h,p),!0;case"dragenter":return jr=or(jr,s,i,l,h,p),!0;case"mouseover":return Yt=or(Yt,s,i,l,h,p),!0;case"pointerover":var y=p.pointerId;return to.set(y,or(to.get(y)||null,s,i,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,us.set(y,or(us.get(y)||null,s,i,l,h,p)),!0}return!1}function Ko(s){var i=io(s.target);if(i!==null){var l=ir(i);if(l!==null){if(i=l.tag,i===13){if(i=_l(l),i!==null){s.blockedOn=i,Rl(s.priority,function(){Al(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function lt(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Qo(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);kn=h,l.target.dispatchEvent(h),kn=null}else return i=ql(l),i!==null&&qo(i),s.blockedOn=l,!1;i.shift()}return!0}function hu(s,i,l){lt(s)&&l.delete(i)}function ef(){Pr=!1,Rr!==null&&lt(Rr)&&(Rr=null),jr!==null&&lt(jr)&&(jr=null),Yt!==null&&lt(Yt)&&(Yt=null),to.forEach(hu),us.forEach(hu)}function Ws(s,i){s.blockedOn===i&&(s.blockedOn=null,Pr||(Pr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ef)))}function qs(s){function i(p){return Ws(p,s)}if(0<Go.length){Ws(Go[0],s);for(var l=1;l<Go.length;l++){var h=Go[l];h.blockedOn===s&&(h.blockedOn=null)}}for(Rr!==null&&Ws(Rr,s),jr!==null&&Ws(jr,s),Yt!==null&&Ws(Yt,s),to.forEach(i),us.forEach(i),l=0;l<Rn.length;l++)h=Rn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<Rn.length&&(l=Rn[0],l.blockedOn===null);)Ko(l),l.blockedOn===null&&Rn.shift()}var ds=U.ReactCurrentBatchConfig,hs=!0;function Dr(s,i,l,h){var p=Je,y=ds.transition;ds.transition=null;try{Je=1,jl(s,i,l,h)}finally{Je=p,ds.transition=y}}function fu(s,i,l,h){var p=Je,y=ds.transition;ds.transition=null;try{Je=4,jl(s,i,l,h)}finally{Je=p,ds.transition=y}}function jl(s,i,l,h){if(hs){var p=Qo(s,i,l,h);if(p===null)hf(s,i,h,Mr,l),Hs(s,h);else if(du(p,s,i,l,h))h.stopPropagation();else if(Hs(s,h),i&4&&-1<uu.indexOf(s)){for(;p!==null;){var y=ql(p);if(y!==null&&kl(y),y=Qo(s,i,l,h),y===null&&hf(s,i,h,Mr,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else hf(s,i,h,null,l)}}var Mr=null;function Qo(s,i,l,h){if(Mr=null,s=zo(h),s=io(s),s!==null)if(i=ir(s),i===null)s=null;else if(l=i.tag,l===13){if(s=_l(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Mr=s,null}function Yo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jh()){case Ho:return 1;case El:return 4;case Qi:case Tl:return 16;case Wo:return 536870912;default:return 16}default:return 16}}var jn=null,Xo=null,fs=null;function mu(){if(fs)return fs;var s,i=Xo,l=i.length,h,p="value"in jn?jn.value:jn.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var b=l-s;for(h=1;h<=b&&i[l-h]===p[y-h];h++);return fs=p.slice(s,1<h?1-h:void 0)}function no(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Or(){return!0}function Dl(){return!1}function sn(s){function i(l,h,p,y,b){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(l=s[j],this[j]=l?l(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Or:Dl,this.isPropagationStopped=Dl,this}return he(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),i}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=sn(Lr),Gs=he({},Lr,{view:0,detail:0}),Jo=sn(Gs),Zo,ea,Dn,so=he({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:He,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Dn&&(Dn&&s.type==="mousemove"?(Zo=s.screenX-Dn.screenX,ea=s.screenY-Dn.screenY):ea=Zo=0,Dn=s),Zo)},movementY:function(s){return"movementY"in s?s.movementY:ea}}),Ml=sn(so),pu=he({},so,{dataTransfer:0}),gu=sn(pu),ta=he({},Gs,{relatedTarget:0}),Xt=sn(ta),yu=he({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=sn(yu),Ks=he({},Lr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=sn(Ks),v=he({},Lr,{data:0}),w=sn(v),N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=X[s])?!!i[s]:!1}function He(){return me}var At=he({},Gs,{key:function(s){if(s.key){var i=N[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=no(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?K[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:He,charCode:function(s){return s.type==="keypress"?no(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?no(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),it=sn(At),Mt=he({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mn=sn(Mt),ms=he({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:He}),Vr=sn(ms),Fr=he({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),na=sn(Fr),Ol=he({},so,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rS=sn(Ol),sS=[9,13,27,32],tf=f&&"CompositionEvent"in window,Ll=null;f&&"documentMode"in document&&(Ll=document.documentMode);var iS=f&&"TextEvent"in window&&!Ll,my=f&&(!tf||Ll&&8<Ll&&11>=Ll),py=" ",gy=!1;function yy(s,i){switch(s){case"keyup":return sS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ra=!1;function oS(s,i){switch(s){case"compositionend":return vy(i);case"keypress":return i.which!==32?null:(gy=!0,py);case"textInput":return s=i.data,s===py&&gy?null:s;default:return null}}function aS(s,i){if(ra)return s==="compositionend"||!tf&&yy(s,i)?(s=mu(),fs=Xo=jn=null,ra=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return my&&i.locale!=="ko"?null:i.data;default:return null}}var lS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!lS[s.type]:i==="textarea"}function wy(s,i,l,h){Fs(h),i=Eu(i,"onChange"),0<i.length&&(l=new ro("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var Vl=null,Fl=null;function cS(s){Vy(s,0)}function xu(s){var i=la(s);if(et(i))return s}function uS(s,i){if(s==="change")return i}var _y=!1;if(f){var nf;if(f){var rf="oninput"in document;if(!rf){var by=document.createElement("div");by.setAttribute("oninput","return;"),rf=typeof by.oninput=="function"}nf=rf}else nf=!1;_y=nf&&(!document.documentMode||9<document.documentMode)}function Ey(){Vl&&(Vl.detachEvent("onpropertychange",Ty),Fl=Vl=null)}function Ty(s){if(s.propertyName==="value"&&xu(Fl)){var i=[];wy(i,Fl,s,zo(s)),nu(cS,i)}}function dS(s,i,l){s==="focusin"?(Ey(),Vl=i,Fl=l,Vl.attachEvent("onpropertychange",Ty)):s==="focusout"&&Ey()}function hS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xu(Fl)}function fS(s,i){if(s==="click")return xu(i)}function mS(s,i){if(s==="input"||s==="change")return xu(i)}function pS(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ar=typeof Object.is=="function"?Object.is:pS;function Ul(s,i){if(ar(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!m.call(i,p)||!ar(s[p],i[p]))return!1}return!0}function Sy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Iy(s,i){var l=Sy(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sy(l)}}function Ny(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ny(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Cy(){for(var s=window,i=wt();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=wt(s.document)}return i}function sf(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function gS(s){var i=Cy(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Ny(l.ownerDocument.documentElement,l)){if(h!==null&&sf(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!s.extend&&y>h&&(p=h,h=y,y=p),p=Iy(l,y);var b=Iy(l,h);p&&b&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),y>h?(s.addRange(i),s.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yS=f&&"documentMode"in document&&11>=document.documentMode,sa=null,of=null,zl=null,af=!1;function ky(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;af||sa==null||sa!==wt(h)||(h=sa,"selectionStart"in h&&sf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),zl&&Ul(zl,h)||(zl=h,h=Eu(of,"onSelect"),0<h.length&&(i=new ro("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=sa)))}function wu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var ia={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},lf={},Ay={};f&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function _u(s){if(lf[s])return lf[s];if(!ia[s])return s;var i=ia[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Ay)return lf[s]=i[l];return s}var Py=_u("animationend"),Ry=_u("animationiteration"),jy=_u("animationstart"),Dy=_u("transitionend"),My=new Map,Oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(s,i){My.set(s,i),a(i,[s])}for(var cf=0;cf<Oy.length;cf++){var uf=Oy[cf],vS=uf.toLowerCase(),xS=uf[0].toUpperCase()+uf.slice(1);Qs(vS,"on"+xS)}Qs(Py,"onAnimationEnd"),Qs(Ry,"onAnimationIteration"),Qs(jy,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(Dy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function Ly(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,wl(h,i,void 0,s),s.currentTarget=null}function Vy(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var b=h.length-1;0<=b;b--){var j=h[b],V=j.instance,Y=j.currentTarget;if(j=j.listener,V!==y&&p.isPropagationStopped())break e;Ly(p,j,Y),y=V}else for(b=0;b<h.length;b++){if(j=h[b],V=j.instance,Y=j.currentTarget,j=j.listener,V!==y&&p.isPropagationStopped())break e;Ly(p,j,Y),y=V}}}if(Bo)throw s=qn,Bo=!1,qn=null,s}function pt(s,i){var l=i[vf];l===void 0&&(l=i[vf]=new Set);var h=s+"__bubble";l.has(h)||(Fy(i,s,2,!1),l.add(h))}function df(s,i,l){var h=0;i&&(h|=4),Fy(l,s,h,i)}var bu="_reactListening"+Math.random().toString(36).slice(2);function $l(s){if(!s[bu]){s[bu]=!0,r.forEach(function(l){l!=="selectionchange"&&(wS.has(l)||df(l,!1,s),df(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[bu]||(i[bu]=!0,df("selectionchange",!1,i))}}function Fy(s,i,l,h){switch(Yo(i)){case 1:var p=Dr;break;case 4:p=fu;break;default:p=jl}l=p.bind(null,i,l,s),p=void 0,!zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function hf(s,i,l,h,p){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var j=h.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(b===4)for(b=h.return;b!==null;){var V=b.tag;if((V===3||V===4)&&(V=b.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;b=b.return}for(;j!==null;){if(b=io(j),b===null)return;if(V=b.tag,V===5||V===6){h=y=b;continue e}j=j.parentNode}}h=h.return}nu(function(){var Y=y,oe=zo(l),ce=[];e:{var ie=My.get(s);if(ie!==void 0){var ye=ro,Ee=s;switch(s){case"keypress":if(no(l)===0)break e;case"keydown":case"keyup":ye=it;break;case"focusin":Ee="focus",ye=Xt;break;case"focusout":Ee="blur",ye=Xt;break;case"beforeblur":case"afterblur":ye=Xt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Vr;break;case Py:case Ry:case jy:ye=vu;break;case Dy:ye=na;break;case"scroll":ye=Jo;break;case"wheel":ye=rS;break;case"copy":case"cut":case"paste":ye=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Mn}var Ne=(i&4)!==0,Pt=!Ne&&s==="scroll",G=Ne?ie!==null?ie+"Capture":null:ie;Ne=[];for(var z=Y,Q;z!==null;){Q=z;var de=Q.stateNode;if(Q.tag===5&&de!==null&&(Q=de,G!==null&&(de=qi(z,G),de!=null&&Ne.push(Hl(z,de,Q)))),Pt)break;z=z.return}0<Ne.length&&(ie=new ye(ie,Ee,null,l,oe),ce.push({event:ie,listeners:Ne}))}}if((i&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",ie&&l!==kn&&(Ee=l.relatedTarget||l.fromElement)&&(io(Ee)||Ee[ps]))break e;if((ye||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ye?(Ee=l.relatedTarget||l.toElement,ye=Y,Ee=Ee?io(Ee):null,Ee!==null&&(Pt=ir(Ee),Ee!==Pt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=Y),ye!==Ee)){if(Ne=Ml,de="onMouseLeave",G="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=Mn,de="onPointerLeave",G="onPointerEnter",z="pointer"),Pt=ye==null?ie:la(ye),Q=Ee==null?ie:la(Ee),ie=new Ne(de,z+"leave",ye,l,oe),ie.target=Pt,ie.relatedTarget=Q,de=null,io(oe)===Y&&(Ne=new Ne(G,z+"enter",Ee,l,oe),Ne.target=Q,Ne.relatedTarget=Pt,de=Ne),Pt=de,ye&&Ee)t:{for(Ne=ye,G=Ee,z=0,Q=Ne;Q;Q=oa(Q))z++;for(Q=0,de=G;de;de=oa(de))Q++;for(;0<z-Q;)Ne=oa(Ne),z--;for(;0<Q-z;)G=oa(G),Q--;for(;z--;){if(Ne===G||G!==null&&Ne===G.alternate)break t;Ne=oa(Ne),G=oa(G)}Ne=null}else Ne=null;ye!==null&&Uy(ce,ie,ye,Ne,!1),Ee!==null&&Pt!==null&&Uy(ce,Pt,Ee,Ne,!0)}}e:{if(ie=Y?la(Y):window,ye=ie.nodeName&&ie.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ie.type==="file")var ke=uS;else if(xy(ie))if(_y)ke=mS;else{ke=hS;var Pe=dS}else(ye=ie.nodeName)&&ye.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ke=fS);if(ke&&(ke=ke(s,Y))){wy(ce,ke,l,oe);break e}Pe&&Pe(s,ie,Y),s==="focusout"&&(Pe=ie._wrapperState)&&Pe.controlled&&ie.type==="number"&&It(ie,"number",ie.value)}switch(Pe=Y?la(Y):window,s){case"focusin":(xy(Pe)||Pe.contentEditable==="true")&&(sa=Pe,of=Y,zl=null);break;case"focusout":zl=of=sa=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,ky(ce,l,oe);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":ky(ce,l,oe)}var Re;if(tf)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else ra?yy(s,l)&&(Be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(my&&l.locale!=="ko"&&(ra||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&ra&&(Re=mu()):(jn=oe,Xo="value"in jn?jn.value:jn.textContent,ra=!0)),Pe=Eu(Y,Be),0<Pe.length&&(Be=new w(Be,s,null,l,oe),ce.push({event:Be,listeners:Pe}),Re?Be.data=Re:(Re=vy(l),Re!==null&&(Be.data=Re)))),(Re=iS?oS(s,l):aS(s,l))&&(Y=Eu(Y,"onBeforeInput"),0<Y.length&&(oe=new w("onBeforeInput","beforeinput",null,l,oe),ce.push({event:oe,listeners:Y}),oe.data=Re))}Vy(ce,i)})}function Hl(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Eu(s,i){for(var l=i+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=qi(s,l),y!=null&&h.unshift(Hl(s,y,p)),y=qi(s,i),y!=null&&h.push(Hl(s,y,p))),s=s.return}return h}function oa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Uy(s,i,l,h,p){for(var y=i._reactName,b=[];l!==null&&l!==h;){var j=l,V=j.alternate,Y=j.stateNode;if(V!==null&&V===h)break;j.tag===5&&Y!==null&&(j=Y,p?(V=qi(l,y),V!=null&&b.unshift(Hl(l,V,j))):p||(V=qi(l,y),V!=null&&b.push(Hl(l,V,j)))),l=l.return}b.length!==0&&s.push({event:i,listeners:b})}var _S=/\r\n?/g,bS=/\u0000|\uFFFD/g;function zy(s){return(typeof s=="string"?s:""+s).replace(_S,`
`).replace(bS,"")}function Tu(s,i,l){if(i=zy(i),zy(s)!==i&&l)throw Error(t(425))}function Su(){}var ff=null,mf=null;function pf(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(s){return By.resolve(null).then(s).catch(SS)}:gf;function SS(s){setTimeout(function(){throw s})}function yf(s,i){var l=i,h=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){s.removeChild(p),qs(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);qs(i)}function Ys(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function $y(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var aa=Math.random().toString(36).slice(2),Ur="__reactFiber$"+aa,Wl="__reactProps$"+aa,ps="__reactContainer$"+aa,vf="__reactEvents$"+aa,IS="__reactListeners$"+aa,NS="__reactHandles$"+aa;function io(s){var i=s[Ur];if(i)return i;for(var l=s.parentNode;l;){if(i=l[ps]||l[Ur]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=$y(s);s!==null;){if(l=s[Ur])return l;s=$y(s)}return i}s=l,l=s.parentNode}return null}function ql(s){return s=s[Ur]||s[ps],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function la(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Iu(s){return s[Wl]||null}var xf=[],ca=-1;function Xs(s){return{current:s}}function gt(s){0>ca||(s.current=xf[ca],xf[ca]=null,ca--)}function dt(s,i){ca++,xf[ca]=s.current,s.current=i}var Js={},on=Xs(Js),wn=Xs(!1),oo=Js;function ua(s,i){var l=s.type.contextTypes;if(!l)return Js;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function _n(s){return s=s.childContextTypes,s!=null}function Nu(){gt(wn),gt(on)}function Hy(s,i,l){if(on.current!==Js)throw Error(t(168));dt(on,i),dt(wn,l)}function Wy(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,le(s)||"Unknown",p));return he({},l,h)}function Cu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Js,oo=on.current,dt(on,s),dt(wn,wn.current),!0}function qy(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=Wy(s,i,oo),h.__reactInternalMemoizedMergedChildContext=s,gt(wn),gt(on),dt(on,s)):gt(wn),dt(wn,l)}var gs=null,ku=!1,wf=!1;function Gy(s){gs===null?gs=[s]:gs.push(s)}function CS(s){ku=!0,Gy(s)}function Zs(){if(!wf&&gs!==null){wf=!0;var s=0,i=Je;try{var l=gs;for(Je=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}gs=null,ku=!1}catch(p){throw gs!==null&&(gs=gs.slice(s+1)),bl(Ho,Zs),p}finally{Je=i,wf=!1}}return null}var da=[],ha=0,Au=null,Pu=0,Kn=[],Qn=0,ao=null,ys=1,vs="";function lo(s,i){da[ha++]=Pu,da[ha++]=Au,Au=s,Pu=i}function Ky(s,i,l){Kn[Qn++]=ys,Kn[Qn++]=vs,Kn[Qn++]=ao,ao=s;var h=ys;s=vs;var p=32-Pn(h)-1;h&=~(1<<p),l+=1;var y=32-Pn(i)+p;if(30<y){var b=p-p%5;y=(h&(1<<b)-1).toString(32),h>>=b,p-=b,ys=1<<32-Pn(i)+p|l<<p|h,vs=y+s}else ys=1<<y|l<<p|h,vs=s}function _f(s){s.return!==null&&(lo(s,1),Ky(s,1,0))}function bf(s){for(;s===Au;)Au=da[--ha],da[ha]=null,Pu=da[--ha],da[ha]=null;for(;s===ao;)ao=Kn[--Qn],Kn[Qn]=null,vs=Kn[--Qn],Kn[Qn]=null,ys=Kn[--Qn],Kn[Qn]=null}var On=null,Ln=null,xt=!1,lr=null;function Qy(s,i){var l=Zn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Yy(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,On=s,Ln=Ys(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,On=s,Ln=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ao!==null?{id:ys,overflow:vs}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Zn(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,On=s,Ln=null,!0):!1;default:return!1}}function Ef(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Tf(s){if(xt){var i=Ln;if(i){var l=i;if(!Yy(s,i)){if(Ef(s))throw Error(t(418));i=Ys(l.nextSibling);var h=On;i&&Yy(s,i)?Qy(h,l):(s.flags=s.flags&-4097|2,xt=!1,On=s)}}else{if(Ef(s))throw Error(t(418));s.flags=s.flags&-4097|2,xt=!1,On=s}}}function Xy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function Ru(s){if(s!==On)return!1;if(!xt)return Xy(s),xt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!pf(s.type,s.memoizedProps)),i&&(i=Ln)){if(Ef(s))throw Jy(),Error(t(418));for(;i;)Qy(s,i),i=Ys(i.nextSibling)}if(Xy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){Ln=Ys(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}Ln=null}}else Ln=On?Ys(s.stateNode.nextSibling):null;return!0}function Jy(){for(var s=Ln;s;)s=Ys(s.nextSibling)}function fa(){Ln=On=null,xt=!1}function Sf(s){lr===null?lr=[s]:lr.push(s)}var kS=U.ReactCurrentBatchConfig;function Gl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var p=h,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(b){var j=p.refs;b===null?delete j[y]:j[y]=b},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function ju(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Zy(s){var i=s._init;return i(s._payload)}function ev(s){function i(G,z){if(s){var Q=G.deletions;Q===null?(G.deletions=[z],G.flags|=16):Q.push(z)}}function l(G,z){if(!s)return null;for(;z!==null;)i(G,z),z=z.sibling;return null}function h(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function p(G,z){return G=ai(G,z),G.index=0,G.sibling=null,G}function y(G,z,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<z?(G.flags|=2,z):Q):(G.flags|=2,z)):(G.flags|=1048576,z)}function b(G){return s&&G.alternate===null&&(G.flags|=2),G}function j(G,z,Q,de){return z===null||z.tag!==6?(z=gm(Q,G.mode,de),z.return=G,z):(z=p(z,Q),z.return=G,z)}function V(G,z,Q,de){var ke=Q.type;return ke===C?oe(G,z,Q.props.children,de,Q.key):z!==null&&(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ge&&Zy(ke)===z.type)?(de=p(z,Q.props),de.ref=Gl(G,z,Q),de.return=G,de):(de=rd(Q.type,Q.key,Q.props,null,G.mode,de),de.ref=Gl(G,z,Q),de.return=G,de)}function Y(G,z,Q,de){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=ym(Q,G.mode,de),z.return=G,z):(z=p(z,Q.children||[]),z.return=G,z)}function oe(G,z,Q,de,ke){return z===null||z.tag!==7?(z=yo(Q,G.mode,de,ke),z.return=G,z):(z=p(z,Q),z.return=G,z)}function ce(G,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=gm(""+z,G.mode,Q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return Q=rd(z.type,z.key,z.props,null,G.mode,Q),Q.ref=Gl(G,null,z),Q.return=G,Q;case ee:return z=ym(z,G.mode,Q),z.return=G,z;case ge:var de=z._init;return ce(G,de(z._payload),Q)}if(_t(z)||fe(z))return z=yo(z,G.mode,Q,null),z.return=G,z;ju(G,z)}return null}function ie(G,z,Q,de){var ke=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return ke!==null?null:j(G,z,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return Q.key===ke?V(G,z,Q,de):null;case ee:return Q.key===ke?Y(G,z,Q,de):null;case ge:return ke=Q._init,ie(G,z,ke(Q._payload),de)}if(_t(Q)||fe(Q))return ke!==null?null:oe(G,z,Q,de,null);ju(G,Q)}return null}function ye(G,z,Q,de,ke){if(typeof de=="string"&&de!==""||typeof de=="number")return G=G.get(Q)||null,j(z,G,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case q:return G=G.get(de.key===null?Q:de.key)||null,V(z,G,de,ke);case ee:return G=G.get(de.key===null?Q:de.key)||null,Y(z,G,de,ke);case ge:var Pe=de._init;return ye(G,z,Q,Pe(de._payload),ke)}if(_t(de)||fe(de))return G=G.get(Q)||null,oe(z,G,de,ke,null);ju(z,de)}return null}function Ee(G,z,Q,de){for(var ke=null,Pe=null,Re=z,Be=z=0,Kt=null;Re!==null&&Be<Q.length;Be++){Re.index>Be?(Kt=Re,Re=null):Kt=Re.sibling;var nt=ie(G,Re,Q[Be],de);if(nt===null){Re===null&&(Re=Kt);break}s&&Re&&nt.alternate===null&&i(G,Re),z=y(nt,z,Be),Pe===null?ke=nt:Pe.sibling=nt,Pe=nt,Re=Kt}if(Be===Q.length)return l(G,Re),xt&&lo(G,Be),ke;if(Re===null){for(;Be<Q.length;Be++)Re=ce(G,Q[Be],de),Re!==null&&(z=y(Re,z,Be),Pe===null?ke=Re:Pe.sibling=Re,Pe=Re);return xt&&lo(G,Be),ke}for(Re=h(G,Re);Be<Q.length;Be++)Kt=ye(Re,G,Be,Q[Be],de),Kt!==null&&(s&&Kt.alternate!==null&&Re.delete(Kt.key===null?Be:Kt.key),z=y(Kt,z,Be),Pe===null?ke=Kt:Pe.sibling=Kt,Pe=Kt);return s&&Re.forEach(function(li){return i(G,li)}),xt&&lo(G,Be),ke}function Ne(G,z,Q,de){var ke=fe(Q);if(typeof ke!="function")throw Error(t(150));if(Q=ke.call(Q),Q==null)throw Error(t(151));for(var Pe=ke=null,Re=z,Be=z=0,Kt=null,nt=Q.next();Re!==null&&!nt.done;Be++,nt=Q.next()){Re.index>Be?(Kt=Re,Re=null):Kt=Re.sibling;var li=ie(G,Re,nt.value,de);if(li===null){Re===null&&(Re=Kt);break}s&&Re&&li.alternate===null&&i(G,Re),z=y(li,z,Be),Pe===null?ke=li:Pe.sibling=li,Pe=li,Re=Kt}if(nt.done)return l(G,Re),xt&&lo(G,Be),ke;if(Re===null){for(;!nt.done;Be++,nt=Q.next())nt=ce(G,nt.value,de),nt!==null&&(z=y(nt,z,Be),Pe===null?ke=nt:Pe.sibling=nt,Pe=nt);return xt&&lo(G,Be),ke}for(Re=h(G,Re);!nt.done;Be++,nt=Q.next())nt=ye(Re,G,Be,nt.value,de),nt!==null&&(s&&nt.alternate!==null&&Re.delete(nt.key===null?Be:nt.key),z=y(nt,z,Be),Pe===null?ke=nt:Pe.sibling=nt,Pe=nt);return s&&Re.forEach(function(lI){return i(G,lI)}),xt&&lo(G,Be),ke}function Pt(G,z,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:e:{for(var ke=Q.key,Pe=z;Pe!==null;){if(Pe.key===ke){if(ke=Q.type,ke===C){if(Pe.tag===7){l(G,Pe.sibling),z=p(Pe,Q.props.children),z.return=G,G=z;break e}}else if(Pe.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ge&&Zy(ke)===Pe.type){l(G,Pe.sibling),z=p(Pe,Q.props),z.ref=Gl(G,Pe,Q),z.return=G,G=z;break e}l(G,Pe);break}else i(G,Pe);Pe=Pe.sibling}Q.type===C?(z=yo(Q.props.children,G.mode,de,Q.key),z.return=G,G=z):(de=rd(Q.type,Q.key,Q.props,null,G.mode,de),de.ref=Gl(G,z,Q),de.return=G,G=de)}return b(G);case ee:e:{for(Pe=Q.key;z!==null;){if(z.key===Pe)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){l(G,z.sibling),z=p(z,Q.children||[]),z.return=G,G=z;break e}else{l(G,z);break}else i(G,z);z=z.sibling}z=ym(Q,G.mode,de),z.return=G,G=z}return b(G);case ge:return Pe=Q._init,Pt(G,z,Pe(Q._payload),de)}if(_t(Q))return Ee(G,z,Q,de);if(fe(Q))return Ne(G,z,Q,de);ju(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(l(G,z.sibling),z=p(z,Q),z.return=G,G=z):(l(G,z),z=gm(Q,G.mode,de),z.return=G,G=z),b(G)):l(G,z)}return Pt}var ma=ev(!0),tv=ev(!1),Du=Xs(null),Mu=null,pa=null,If=null;function Nf(){If=pa=Mu=null}function Cf(s){var i=Du.current;gt(Du),s._currentValue=i}function kf(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function ga(s,i){Mu=s,If=pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(bn=!0),s.firstContext=null)}function Yn(s){var i=s._currentValue;if(If!==s)if(s={context:s,memoizedValue:i,next:null},pa===null){if(Mu===null)throw Error(t(308));pa=s,Mu.dependencies={lanes:0,firstContext:s}}else pa=pa.next=s;return i}var co=null;function Af(s){co===null?co=[s]:co.push(s)}function nv(s,i,l,h){var p=i.interleaved;return p===null?(l.next=l,Af(i)):(l.next=p.next,p.next=l),i.interleaved=l,xs(s,h)}function xs(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var ei=!1;function Pf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rv(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ws(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function ti(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(tt&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,xs(s,l)}return p=h.interleaved,p===null?(i.next=i,Af(h)):(i.next=p.next,p.next=i),h.interleaved=i,xs(s,l)}function Ou(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Cl(s,l)}}function sv(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=b:y=y.next=b,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function Lu(s,i,l,h){var p=s.updateQueue;ei=!1;var y=p.firstBaseUpdate,b=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var V=j,Y=V.next;V.next=null,b===null?y=Y:b.next=Y,b=V;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==b&&(j===null?oe.firstBaseUpdate=Y:j.next=Y,oe.lastBaseUpdate=V))}if(y!==null){var ce=p.baseState;b=0,oe=Y=V=null,j=y;do{var ie=j.lane,ye=j.eventTime;if((h&ie)===ie){oe!==null&&(oe=oe.next={eventTime:ye,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ee=s,Ne=j;switch(ie=i,ye=l,Ne.tag){case 1:if(Ee=Ne.payload,typeof Ee=="function"){ce=Ee.call(ye,ce,ie);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ne.payload,ie=typeof Ee=="function"?Ee.call(ye,ce,ie):Ee,ie==null)break e;ce=he({},ce,ie);break e;case 2:ei=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,ie=p.effects,ie===null?p.effects=[j]:ie.push(j))}else ye={eventTime:ye,lane:ie,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(Y=oe=ye,V=ce):oe=oe.next=ye,b|=ie;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;ie=j,j=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);if(oe===null&&(V=ce),p.baseState=V,p.firstBaseUpdate=Y,p.lastBaseUpdate=oe,i=p.shared.interleaved,i!==null){p=i;do b|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);fo|=b,s.lanes=b,s.memoizedState=ce}}function iv(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Kl={},zr=Xs(Kl),Ql=Xs(Kl),Yl=Xs(Kl);function uo(s){if(s===Kl)throw Error(t(174));return s}function Rf(s,i){switch(dt(Yl,i),dt(Ql,s),dt(zr,Kl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Vs(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Vs(i,s)}gt(zr),dt(zr,i)}function ya(){gt(zr),gt(Ql),gt(Yl)}function ov(s){uo(Yl.current);var i=uo(zr.current),l=Vs(i,s.type);i!==l&&(dt(Ql,s),dt(zr,l))}function jf(s){Ql.current===s&&(gt(zr),gt(Ql))}var bt=Xs(0);function Vu(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Df=[];function Mf(){for(var s=0;s<Df.length;s++)Df[s]._workInProgressVersionPrimary=null;Df.length=0}var Fu=U.ReactCurrentDispatcher,Of=U.ReactCurrentBatchConfig,ho=0,Et=null,zt=null,qt=null,Uu=!1,Xl=!1,Jl=0,AS=0;function an(){throw Error(t(321))}function Lf(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!ar(s[l],i[l]))return!1;return!0}function Vf(s,i,l,h,p,y){if(ho=y,Et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fu.current=s===null||s.memoizedState===null?DS:MS,s=l(h,p),Xl){y=0;do{if(Xl=!1,Jl=0,25<=y)throw Error(t(301));y+=1,qt=zt=null,i.updateQueue=null,Fu.current=OS,s=l(h,p)}while(Xl)}if(Fu.current=$u,i=zt!==null&&zt.next!==null,ho=0,qt=zt=Et=null,Uu=!1,i)throw Error(t(300));return s}function Ff(){var s=Jl!==0;return Jl=0,s}function Br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Et.memoizedState=qt=s:qt=qt.next=s,qt}function Xn(){if(zt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var i=qt===null?Et.memoizedState:qt.next;if(i!==null)qt=i,zt=s;else{if(s===null)throw Error(t(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},qt===null?Et.memoizedState=qt=s:qt=qt.next=s}return qt}function Zl(s,i){return typeof i=="function"?i(s):i}function Uf(s){var i=Xn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=zt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var b=p.next;p.next=y.next,y.next=b}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var j=b=null,V=null,Y=y;do{var oe=Y.lane;if((ho&oe)===oe)V!==null&&(V=V.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:s(h,Y.action);else{var ce={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};V===null?(j=V=ce,b=h):V=V.next=ce,Et.lanes|=oe,fo|=oe}Y=Y.next}while(Y!==null&&Y!==y);V===null?b=h:V.next=j,ar(h,i.memoizedState)||(bn=!0),i.memoizedState=h,i.baseState=b,i.baseQueue=V,l.lastRenderedState=h}if(s=l.interleaved,s!==null){p=s;do y=p.lane,Et.lanes|=y,fo|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function zf(s){var i=Xn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do y=s(y,b.action),b=b.next;while(b!==p);ar(y,i.memoizedState)||(bn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,h]}function av(){}function lv(s,i){var l=Et,h=Xn(),p=i(),y=!ar(h.memoizedState,p);if(y&&(h.memoizedState=p,bn=!0),h=h.queue,Bf(dv.bind(null,l,h,s),[s]),h.getSnapshot!==i||y||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,ec(9,uv.bind(null,l,h,p,i),void 0,null),Gt===null)throw Error(t(349));(ho&30)!==0||cv(l,i,p)}return p}function cv(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Et.updateQueue,i===null?(i={lastEffect:null,stores:null},Et.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function uv(s,i,l,h){i.value=l,i.getSnapshot=h,hv(i)&&fv(s)}function dv(s,i,l){return l(function(){hv(i)&&fv(s)})}function hv(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!ar(s,l)}catch{return!0}}function fv(s){var i=xs(s,1);i!==null&&hr(i,s,1,-1)}function mv(s){var i=Br();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:s},i.queue=s,s=s.dispatch=jS.bind(null,Et,s),[i.memoizedState,s]}function ec(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=Et.updateQueue,i===null?(i={lastEffect:null,stores:null},Et.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function pv(){return Xn().memoizedState}function zu(s,i,l,h){var p=Br();Et.flags|=s,p.memoizedState=ec(1|i,l,void 0,h===void 0?null:h)}function Bu(s,i,l,h){var p=Xn();h=h===void 0?null:h;var y=void 0;if(zt!==null){var b=zt.memoizedState;if(y=b.destroy,h!==null&&Lf(h,b.deps)){p.memoizedState=ec(i,l,y,h);return}}Et.flags|=s,p.memoizedState=ec(1|i,l,y,h)}function gv(s,i){return zu(8390656,8,s,i)}function Bf(s,i){return Bu(2048,8,s,i)}function yv(s,i){return Bu(4,2,s,i)}function vv(s,i){return Bu(4,4,s,i)}function xv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function wv(s,i,l){return l=l!=null?l.concat([s]):null,Bu(4,4,xv.bind(null,i,s),l)}function $f(){}function _v(s,i){var l=Xn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Lf(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function bv(s,i){var l=Xn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Lf(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function Ev(s,i,l){return(ho&21)===0?(s.baseState&&(s.baseState=!1,bn=!0),s.memoizedState=l):(ar(l,i)||(l=Il(),Et.lanes|=l,fo|=l,s.baseState=!0),i)}function PS(s,i){var l=Je;Je=l!==0&&4>l?l:4,s(!0);var h=Of.transition;Of.transition={};try{s(!1),i()}finally{Je=l,Of.transition=h}}function Tv(){return Xn().memoizedState}function RS(s,i,l){var h=ii(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Sv(s))Iv(i,l);else if(l=nv(s,i,l,h),l!==null){var p=yn();hr(l,s,h,p),Nv(l,i,h)}}function jS(s,i,l){var h=ii(s),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sv(s))Iv(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var b=i.lastRenderedState,j=y(b,l);if(p.hasEagerState=!0,p.eagerState=j,ar(j,b)){var V=i.interleaved;V===null?(p.next=p,Af(i)):(p.next=V.next,V.next=p),i.interleaved=p;return}}catch{}finally{}l=nv(s,i,p,h),l!==null&&(p=yn(),hr(l,s,h,p),Nv(l,i,h))}}function Sv(s){var i=s.alternate;return s===Et||i!==null&&i===Et}function Iv(s,i){Xl=Uu=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Nv(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Cl(s,l)}}var $u={readContext:Yn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},DS={readContext:Yn,useCallback:function(s,i){return Br().memoizedState=[s,i===void 0?null:i],s},useContext:Yn,useEffect:gv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,zu(4194308,4,xv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return zu(4194308,4,s,i)},useInsertionEffect:function(s,i){return zu(4,2,s,i)},useMemo:function(s,i){var l=Br();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=Br();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=RS.bind(null,Et,s),[h.memoizedState,s]},useRef:function(s){var i=Br();return s={current:s},i.memoizedState=s},useState:mv,useDebugValue:$f,useDeferredValue:function(s){return Br().memoizedState=s},useTransition:function(){var s=mv(!1),i=s[0];return s=PS.bind(null,s[1]),Br().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=Et,p=Br();if(xt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Gt===null)throw Error(t(349));(ho&30)!==0||cv(h,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,gv(dv.bind(null,h,y,s),[s]),h.flags|=2048,ec(9,uv.bind(null,h,y,l,i),void 0,null),l},useId:function(){var s=Br(),i=Gt.identifierPrefix;if(xt){var l=vs,h=ys;l=(h&~(1<<32-Pn(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Jl++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=AS++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},MS={readContext:Yn,useCallback:_v,useContext:Yn,useEffect:Bf,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:bv,useReducer:Uf,useRef:pv,useState:function(){return Uf(Zl)},useDebugValue:$f,useDeferredValue:function(s){var i=Xn();return Ev(i,zt.memoizedState,s)},useTransition:function(){var s=Uf(Zl)[0],i=Xn().memoizedState;return[s,i]},useMutableSource:av,useSyncExternalStore:lv,useId:Tv,unstable_isNewReconciler:!1},OS={readContext:Yn,useCallback:_v,useContext:Yn,useEffect:Bf,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:bv,useReducer:zf,useRef:pv,useState:function(){return zf(Zl)},useDebugValue:$f,useDeferredValue:function(s){var i=Xn();return zt===null?i.memoizedState=s:Ev(i,zt.memoizedState,s)},useTransition:function(){var s=zf(Zl)[0],i=Xn().memoizedState;return[s,i]},useMutableSource:av,useSyncExternalStore:lv,useId:Tv,unstable_isNewReconciler:!1};function cr(s,i){if(s&&s.defaultProps){i=he({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Hf(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:he({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Hu={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=yn(),p=ii(s),y=ws(h,p);y.payload=i,l!=null&&(y.callback=l),i=ti(s,y,p),i!==null&&(hr(i,s,p,h),Ou(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=yn(),p=ii(s),y=ws(h,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=ti(s,y,p),i!==null&&(hr(i,s,p,h),Ou(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=yn(),h=ii(s),p=ws(l,h);p.tag=2,i!=null&&(p.callback=i),i=ti(s,p,h),i!==null&&(hr(i,s,h,l),Ou(i,s,h))}};function Cv(s,i,l,h,p,y,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,b):i.prototype&&i.prototype.isPureReactComponent?!Ul(l,h)||!Ul(p,y):!0}function kv(s,i,l){var h=!1,p=Js,y=i.contextType;return typeof y=="object"&&y!==null?y=Yn(y):(p=_n(i)?oo:on.current,h=i.contextTypes,y=(h=h!=null)?ua(s,p):Js),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Hu,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),i}function Av(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&Hu.enqueueReplaceState(i,i.state,null)}function Wf(s,i,l,h){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Pf(s);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Yn(y):(y=_n(i)?oo:on.current,p.context=ua(s,y)),p.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Hf(s,i,y,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Hu.enqueueReplaceState(p,p.state,null),Lu(s,l,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function va(s,i){try{var l="",h=i;do l+=je(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:p,digest:null}}function qf(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Gf(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var LS=typeof WeakMap=="function"?WeakMap:Map;function Pv(s,i,l){l=ws(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){Xu||(Xu=!0,lm=h),Gf(s,i)},l}function Rv(s,i,l){l=ws(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;l.payload=function(){return h(p)},l.callback=function(){Gf(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Gf(s,i),typeof h!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),l}function jv(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new LS;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(p.add(l),s=XS.bind(null,s,i,l),i.then(s,s))}function Dv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Mv(s,i,l,h,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=ws(-1,1),i.tag=2,ti(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var VS=U.ReactCurrentOwner,bn=!1;function gn(s,i,l,h){i.child=s===null?tv(i,null,l,h):ma(i,s.child,l,h)}function Ov(s,i,l,h,p){l=l.render;var y=i.ref;return ga(i,p),h=Vf(s,i,l,h,y,p),l=Ff(),s!==null&&!bn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,_s(s,i,p)):(xt&&l&&_f(i),i.flags|=1,gn(s,i,h,p),i.child)}function Lv(s,i,l,h,p){if(s===null){var y=l.type;return typeof y=="function"&&!pm(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Vv(s,i,y,h,p)):(s=rd(l.type,null,h,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&p)===0){var b=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ul,l(b,h)&&s.ref===i.ref)return _s(s,i,p)}return i.flags|=1,s=ai(y,h),s.ref=i.ref,s.return=i,i.child=s}function Vv(s,i,l,h,p){if(s!==null){var y=s.memoizedProps;if(Ul(y,h)&&s.ref===i.ref)if(bn=!1,i.pendingProps=h=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(bn=!0);else return i.lanes=s.lanes,_s(s,i,p)}return Kf(s,i,l,h,p)}function Fv(s,i,l){var h=i.pendingProps,p=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(wa,Vn),Vn|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,dt(wa,Vn),Vn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,dt(wa,Vn),Vn|=h}else y!==null?(h=y.baseLanes|l,i.memoizedState=null):h=l,dt(wa,Vn),Vn|=h;return gn(s,i,p,l),i.child}function Uv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Kf(s,i,l,h,p){var y=_n(l)?oo:on.current;return y=ua(i,y),ga(i,p),l=Vf(s,i,l,h,y,p),h=Ff(),s!==null&&!bn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,_s(s,i,p)):(xt&&h&&_f(i),i.flags|=1,gn(s,i,l,p),i.child)}function zv(s,i,l,h,p){if(_n(l)){var y=!0;Cu(i)}else y=!1;if(ga(i,p),i.stateNode===null)qu(s,i),kv(i,l,h),Wf(i,l,h,p),h=!0;else if(s===null){var b=i.stateNode,j=i.memoizedProps;b.props=j;var V=b.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=Yn(Y):(Y=_n(l)?oo:on.current,Y=ua(i,Y));var oe=l.getDerivedStateFromProps,ce=typeof oe=="function"||typeof b.getSnapshotBeforeUpdate=="function";ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==h||V!==Y)&&Av(i,b,h,Y),ei=!1;var ie=i.memoizedState;b.state=ie,Lu(i,h,b,p),V=i.memoizedState,j!==h||ie!==V||wn.current||ei?(typeof oe=="function"&&(Hf(i,l,oe,h),V=i.memoizedState),(j=ei||Cv(i,l,j,h,ie,V,Y))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=V),b.props=h,b.state=V,b.context=Y,h=j):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{b=i.stateNode,rv(s,i),j=i.memoizedProps,Y=i.type===i.elementType?j:cr(i.type,j),b.props=Y,ce=i.pendingProps,ie=b.context,V=l.contextType,typeof V=="object"&&V!==null?V=Yn(V):(V=_n(l)?oo:on.current,V=ua(i,V));var ye=l.getDerivedStateFromProps;(oe=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==ce||ie!==V)&&Av(i,b,h,V),ei=!1,ie=i.memoizedState,b.state=ie,Lu(i,h,b,p);var Ee=i.memoizedState;j!==ce||ie!==Ee||wn.current||ei?(typeof ye=="function"&&(Hf(i,l,ye,h),Ee=i.memoizedState),(Y=ei||Cv(i,l,Y,h,ie,Ee,V)||!1)?(oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,Ee,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,Ee,V)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||j===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Ee),b.props=h,b.state=Ee,b.context=V,h=Y):(typeof b.componentDidUpdate!="function"||j===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),h=!1)}return Qf(s,i,l,h,y,p)}function Qf(s,i,l,h,p,y){Uv(s,i);var b=(i.flags&128)!==0;if(!h&&!b)return p&&qy(i,l,!1),_s(s,i,y);h=i.stateNode,VS.current=i;var j=b&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&b?(i.child=ma(i,s.child,null,y),i.child=ma(i,null,j,y)):gn(s,i,j,y),i.memoizedState=h.state,p&&qy(i,l,!0),i.child}function Bv(s){var i=s.stateNode;i.pendingContext?Hy(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Hy(s,i.context,!1),Rf(s,i.containerInfo)}function $v(s,i,l,h,p){return fa(),Sf(p),i.flags|=256,gn(s,i,l,h),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0};function Xf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Hv(s,i,l){var h=i.pendingProps,p=bt.current,y=!1,b=(i.flags&128)!==0,j;if((j=b)||(j=s!==null&&s.memoizedState===null?!1:(p&2)!==0),j?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),dt(bt,p&1),s===null)return Tf(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=h.children,s=h.fallback,y?(h=i.mode,y=i.child,b={mode:"hidden",children:b},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=sd(b,h,0,null),s=yo(s,h,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=Xf(l),i.memoizedState=Yf,s):Jf(i,b));if(p=s.memoizedState,p!==null&&(j=p.dehydrated,j!==null))return FS(s,i,b,h,j,p,l);if(y){y=h.fallback,b=i.mode,p=s.child,j=p.sibling;var V={mode:"hidden",children:h.children};return(b&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=V,i.deletions=null):(h=ai(p,V),h.subtreeFlags=p.subtreeFlags&14680064),j!==null?y=ai(j,y):(y=yo(y,b,l,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,b=s.child.memoizedState,b=b===null?Xf(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=s.childLanes&~l,i.memoizedState=Yf,h}return y=s.child,s=y.sibling,h=ai(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function Jf(s,i){return i=sd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Wu(s,i,l,h){return h!==null&&Sf(h),ma(i,s.child,null,l),s=Jf(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function FS(s,i,l,h,p,y,b){if(l)return i.flags&256?(i.flags&=-257,h=qf(Error(t(422))),Wu(s,i,b,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=h.fallback,p=i.mode,h=sd({mode:"visible",children:h.children},p,0,null),y=yo(y,p,b,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&ma(i,s.child,null,b),i.child.memoizedState=Xf(b),i.memoizedState=Yf,y);if((i.mode&1)===0)return Wu(s,i,b,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var j=h.dgst;return h=j,y=Error(t(419)),h=qf(y,h,void 0),Wu(s,i,b,h)}if(j=(b&s.childLanes)!==0,bn||j){if(h=Gt,h!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|b))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,xs(s,p),hr(h,s,p,-1))}return mm(),h=qf(Error(t(421))),Wu(s,i,b,h)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=JS.bind(null,s),p._reactRetry=i,null):(s=y.treeContext,Ln=Ys(p.nextSibling),On=i,xt=!0,lr=null,s!==null&&(Kn[Qn++]=ys,Kn[Qn++]=vs,Kn[Qn++]=ao,ys=s.id,vs=s.overflow,ao=i),i=Jf(i,h.children),i.flags|=4096,i)}function Wv(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),kf(s.return,i,l)}function Zf(s,i,l,h,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function qv(s,i,l){var h=i.pendingProps,p=h.revealOrder,y=h.tail;if(gn(s,i,h.children,l),h=bt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wv(s,l,i);else if(s.tag===19)Wv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(dt(bt,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&Vu(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Zf(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&Vu(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Zf(i,!0,l,null,y);break;case"together":Zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qu(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function _s(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),fo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=ai(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=ai(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function US(s,i,l){switch(i.tag){case 3:Bv(i),fa();break;case 5:ov(i);break;case 1:_n(i.type)&&Cu(i);break;case 4:Rf(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;dt(Du,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(dt(bt,bt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Hv(s,i,l):(dt(bt,bt.current&1),s=_s(s,i,l),s!==null?s.sibling:null);dt(bt,bt.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return qv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),dt(bt,bt.current),h)break;return null;case 22:case 23:return i.lanes=0,Fv(s,i,l)}return _s(s,i,l)}var Gv,em,Kv,Qv;Gv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},em=function(){},Kv=function(s,i,l,h){var p=s.memoizedProps;if(p!==h){s=i.stateNode,uo(zr.current);var y=null;switch(l){case"input":p=rn(s,p),h=rn(s,h),y=[];break;case"select":p=he({},p,{value:void 0}),h=he({},h,{value:void 0}),y=[];break;case"textarea":p=Ls(s,p),h=Ls(s,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Su)}Nt(l,h);var b;l=null;for(Y in p)if(!h.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var j=p[Y];for(b in j)j.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in h){var V=h[Y];if(j=p?.[Y],h.hasOwnProperty(Y)&&V!==j&&(V!=null||j!=null))if(Y==="style")if(j){for(b in j)!j.hasOwnProperty(b)||V&&V.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in V)V.hasOwnProperty(b)&&j[b]!==V[b]&&(l||(l={}),l[b]=V[b])}else l||(y||(y=[]),y.push(Y,l)),l=V;else Y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,j=j?j.__html:void 0,V!=null&&j!==V&&(y=y||[]).push(Y,V)):Y==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(Y,""+V):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(V!=null&&Y==="onScroll"&&pt("scroll",s),y||j===V||(y=[])):(y=y||[]).push(Y,V))}l&&(y=y||[]).push("style",l);var Y=y;(i.updateQueue=Y)&&(i.flags|=4)}},Qv=function(s,i,l,h){l!==h&&(i.flags|=4)};function tc(s,i){if(!xt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ln(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function zS(s,i,l){var h=i.pendingProps;switch(bf(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(i),null;case 1:return _n(i.type)&&Nu(),ln(i),null;case 3:return h=i.stateNode,ya(),gt(wn),gt(on),Mf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Ru(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lr!==null&&(dm(lr),lr=null))),em(s,i),ln(i),null;case 5:jf(i);var p=uo(Yl.current);if(l=i.type,s!==null&&i.stateNode!=null)Kv(s,i,l,h,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return ln(i),null}if(s=uo(zr.current),Ru(i)){h=i.stateNode,l=i.type;var y=i.memoizedProps;switch(h[Ur]=i,h[Wl]=y,s=(i.mode&1)!==0,l){case"dialog":pt("cancel",h),pt("close",h);break;case"iframe":case"object":case"embed":pt("load",h);break;case"video":case"audio":for(p=0;p<Bl.length;p++)pt(Bl[p],h);break;case"source":pt("error",h);break;case"img":case"image":case"link":pt("error",h),pt("load",h);break;case"details":pt("toggle",h);break;case"input":Er(h,y),pt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},pt("invalid",h);break;case"textarea":Hi(h,y),pt("invalid",h)}Nt(l,y),p=null;for(var b in y)if(y.hasOwnProperty(b)){var j=y[b];b==="children"?typeof j=="string"?h.textContent!==j&&(y.suppressHydrationWarning!==!0&&Tu(h.textContent,j,s),p=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(y.suppressHydrationWarning!==!0&&Tu(h.textContent,j,s),p=["children",""+j]):o.hasOwnProperty(b)&&j!=null&&b==="onScroll"&&pt("scroll",h)}switch(l){case"input":Ke(h),Os(h,y,!0);break;case"textarea":Ke(h),Tr(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Su)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Wi(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=b.createElement(l,{is:h.is}):(s=b.createElement(l),l==="select"&&(b=s,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):s=b.createElementNS(s,l),s[Ur]=i,s[Wl]=h,Gv(s,i,!1,!1),i.stateNode=s;e:{switch(b=pn(l,h),l){case"dialog":pt("cancel",s),pt("close",s),p=h;break;case"iframe":case"object":case"embed":pt("load",s),p=h;break;case"video":case"audio":for(p=0;p<Bl.length;p++)pt(Bl[p],s);p=h;break;case"source":pt("error",s),p=h;break;case"img":case"image":case"link":pt("error",s),pt("load",s),p=h;break;case"details":pt("toggle",s),p=h;break;case"input":Er(s,h),p=rn(s,h),pt("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=he({},h,{value:void 0}),pt("invalid",s);break;case"textarea":Hi(s,h),p=Ls(s,h),pt("invalid",s);break;default:p=h}Nt(l,p),j=p;for(y in j)if(j.hasOwnProperty(y)){var V=j[y];y==="style"?ft(s,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&J(s,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&se(s,V):typeof V=="number"&&se(s,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&pt("scroll",s):V!=null&&W(s,y,V,b))}switch(l){case"input":Ke(s),Os(s,h,!1);break;case"textarea":Ke(s),Tr(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ie(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Cn(s,!!h.multiple,y,!1):h.defaultValue!=null&&Cn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Su)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ln(i),null;case 6:if(s&&i.stateNode!=null)Qv(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=uo(Yl.current),uo(zr.current),Ru(i)){if(h=i.stateNode,l=i.memoizedProps,h[Ur]=i,(y=h.nodeValue!==l)&&(s=On,s!==null))switch(s.tag){case 3:Tu(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Tu(h.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Ur]=i,i.stateNode=h}return ln(i),null;case 13:if(gt(bt),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(xt&&Ln!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Jy(),fa(),i.flags|=98560,y=!1;else if(y=Ru(i),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Ur]=i}else fa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ln(i),y=!1}else lr!==null&&(dm(lr),lr=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(bt.current&1)!==0?Bt===0&&(Bt=3):mm())),i.updateQueue!==null&&(i.flags|=4),ln(i),null);case 4:return ya(),em(s,i),s===null&&$l(i.stateNode.containerInfo),ln(i),null;case 10:return Cf(i.type._context),ln(i),null;case 17:return _n(i.type)&&Nu(),ln(i),null;case 19:if(gt(bt),y=i.memoizedState,y===null)return ln(i),null;if(h=(i.flags&128)!==0,b=y.rendering,b===null)if(h)tc(y,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(b=Vu(s),b!==null){for(i.flags|=128,tc(y,!1),h=b.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)y=l,s=h,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,s=b.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return dt(bt,bt.current&1|2),i.child}s=s.sibling}y.tail!==null&&mt()>_a&&(i.flags|=128,h=!0,tc(y,!1),i.lanes=4194304)}else{if(!h)if(s=Vu(b),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),tc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!xt)return ln(i),null}else 2*mt()-y.renderingStartTime>_a&&l!==1073741824&&(i.flags|=128,h=!0,tc(y,!1),i.lanes=4194304);y.isBackwards?(b.sibling=i.child,i.child=b):(l=y.last,l!==null?l.sibling=b:i.child=b,y.last=b)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=mt(),i.sibling=null,l=bt.current,dt(bt,h?l&1|2:l&1),i):(ln(i),null);case 22:case 23:return fm(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Vn&1073741824)!==0&&(ln(i),i.subtreeFlags&6&&(i.flags|=8192)):ln(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function BS(s,i){switch(bf(i),i.tag){case 1:return _n(i.type)&&Nu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return ya(),gt(wn),gt(on),Mf(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return jf(i),null;case 13:if(gt(bt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));fa()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return gt(bt),null;case 4:return ya(),null;case 10:return Cf(i.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var Gu=!1,cn=!1,$S=typeof WeakSet=="function"?WeakSet:Set,be=null;function xa(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){kt(s,i,h)}else l.current=null}function tm(s,i,l){try{l()}catch(h){kt(s,i,h)}}var Yv=!1;function HS(s,i){if(ff=hs,s=Cy(),sf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var b=0,j=-1,V=-1,Y=0,oe=0,ce=s,ie=null;t:for(;;){for(var ye;ce!==l||p!==0&&ce.nodeType!==3||(j=b+p),ce!==y||h!==0&&ce.nodeType!==3||(V=b+h),ce.nodeType===3&&(b+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)ie=ce,ce=ye;for(;;){if(ce===s)break t;if(ie===l&&++Y===p&&(j=b),ie===y&&++oe===h&&(V=b),(ye=ce.nextSibling)!==null)break;ce=ie,ie=ce.parentNode}ce=ye}l=j===-1||V===-1?null:{start:j,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(mf={focusedElem:s,selectionRange:l},hs=!1,be=i;be!==null;)if(i=be,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,be=s;else for(;be!==null;){i=be;try{var Ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ne=Ee.memoizedProps,Pt=Ee.memoizedState,G=i.stateNode,z=G.getSnapshotBeforeUpdate(i.elementType===i.type?Ne:cr(i.type,Ne),Pt);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){kt(i,i.return,de)}if(s=i.sibling,s!==null){s.return=i.return,be=s;break}be=i.return}return Ee=Yv,Yv=!1,Ee}function nc(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&tm(i,l,y)}p=p.next}while(p!==h)}}function Ku(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function nm(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Xv(s){var i=s.alternate;i!==null&&(s.alternate=null,Xv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Ur],delete i[Wl],delete i[vf],delete i[IS],delete i[NS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Jv(s){return s.tag===5||s.tag===3||s.tag===4}function Zv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rm(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Su));else if(h!==4&&(s=s.child,s!==null))for(rm(s,i,l),s=s.sibling;s!==null;)rm(s,i,l),s=s.sibling}function sm(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(sm(s,i,l),s=s.sibling;s!==null;)sm(s,i,l),s=s.sibling}var Jt=null,ur=!1;function ni(s,i,l){for(l=l.child;l!==null;)e0(s,i,l),l=l.sibling}function e0(s,i,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Yi,l)}catch{}switch(l.tag){case 5:cn||xa(l,i);case 6:var h=Jt,p=ur;Jt=null,ni(s,i,l),Jt=h,ur=p,Jt!==null&&(ur?(s=Jt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Jt.removeChild(l.stateNode));break;case 18:Jt!==null&&(ur?(s=Jt,l=l.stateNode,s.nodeType===8?yf(s.parentNode,l):s.nodeType===1&&yf(s,l),qs(s)):yf(Jt,l.stateNode));break;case 4:h=Jt,p=ur,Jt=l.stateNode.containerInfo,ur=!0,ni(s,i,l),Jt=h,ur=p;break;case 0:case 11:case 14:case 15:if(!cn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&tm(l,i,b),p=p.next}while(p!==h)}ni(s,i,l);break;case 1:if(!cn&&(xa(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(j){kt(l,i,j)}ni(s,i,l);break;case 21:ni(s,i,l);break;case 22:l.mode&1?(cn=(h=cn)||l.memoizedState!==null,ni(s,i,l),cn=h):ni(s,i,l);break;default:ni(s,i,l)}}function t0(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new $S),i.forEach(function(h){var p=ZS.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}}function dr(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=s,b=i,j=b;e:for(;j!==null;){switch(j.tag){case 5:Jt=j.stateNode,ur=!1;break e;case 3:Jt=j.stateNode.containerInfo,ur=!0;break e;case 4:Jt=j.stateNode.containerInfo,ur=!0;break e}j=j.return}if(Jt===null)throw Error(t(160));e0(y,b,p),Jt=null,ur=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(Y){kt(p,i,Y)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)n0(i,s),i=i.sibling}function n0(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dr(i,s),$r(s),h&4){try{nc(3,s,s.return),Ku(3,s)}catch(Ne){kt(s,s.return,Ne)}try{nc(5,s,s.return)}catch(Ne){kt(s,s.return,Ne)}}break;case 1:dr(i,s),$r(s),h&512&&l!==null&&xa(l,l.return);break;case 5:if(dr(i,s),$r(s),h&512&&l!==null&&xa(l,l.return),s.flags&32){var p=s.stateNode;try{se(p,"")}catch(Ne){kt(s,s.return,Ne)}}if(h&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,b=l!==null?l.memoizedProps:y,j=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{j==="input"&&y.type==="radio"&&y.name!=null&&Wn(p,y),pn(j,b);var Y=pn(j,y);for(b=0;b<V.length;b+=2){var oe=V[b],ce=V[b+1];oe==="style"?ft(p,ce):oe==="dangerouslySetInnerHTML"?J(p,ce):oe==="children"?se(p,ce):W(p,oe,ce,Y)}switch(j){case"input":at(p,y);break;case"textarea":Uo(p,y);break;case"select":var ie=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ye=y.value;ye!=null?Cn(p,!!y.multiple,ye,!1):ie!==!!y.multiple&&(y.defaultValue!=null?Cn(p,!!y.multiple,y.defaultValue,!0):Cn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Wl]=y}catch(Ne){kt(s,s.return,Ne)}}break;case 6:if(dr(i,s),$r(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(Ne){kt(s,s.return,Ne)}}break;case 3:if(dr(i,s),$r(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{qs(i.containerInfo)}catch(Ne){kt(s,s.return,Ne)}break;case 4:dr(i,s),$r(s);break;case 13:dr(i,s),$r(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(am=mt())),h&4&&t0(s);break;case 22:if(oe=l!==null&&l.memoizedState!==null,s.mode&1?(cn=(Y=cn)||oe,dr(i,s),cn=Y):dr(i,s),$r(s),h&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!oe&&(s.mode&1)!==0)for(be=s,oe=s.child;oe!==null;){for(ce=be=oe;be!==null;){switch(ie=be,ye=ie.child,ie.tag){case 0:case 11:case 14:case 15:nc(4,ie,ie.return);break;case 1:xa(ie,ie.return);var Ee=ie.stateNode;if(typeof Ee.componentWillUnmount=="function"){h=ie,l=ie.return;try{i=h,Ee.props=i.memoizedProps,Ee.state=i.memoizedState,Ee.componentWillUnmount()}catch(Ne){kt(h,l,Ne)}}break;case 5:xa(ie,ie.return);break;case 22:if(ie.memoizedState!==null){i0(ce);continue}}ye!==null?(ye.return=ie,be=ye):i0(ce)}oe=oe.sibling}e:for(oe=null,ce=s;;){if(ce.tag===5){if(oe===null){oe=ce;try{p=ce.stateNode,Y?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(j=ce.stateNode,V=ce.memoizedProps.style,b=V!=null&&V.hasOwnProperty("display")?V.display:null,j.style.display=ze("display",b))}catch(Ne){kt(s,s.return,Ne)}}}else if(ce.tag===6){if(oe===null)try{ce.stateNode.nodeValue=Y?"":ce.memoizedProps}catch(Ne){kt(s,s.return,Ne)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;oe===ce&&(oe=null),ce=ce.return}oe===ce&&(oe=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:dr(i,s),$r(s),h&4&&t0(s);break;case 21:break;default:dr(i,s),$r(s)}}function $r(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Jv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(se(p,""),h.flags&=-33);var y=Zv(s);sm(s,y,p);break;case 3:case 4:var b=h.stateNode.containerInfo,j=Zv(s);rm(s,j,b);break;default:throw Error(t(161))}}catch(V){kt(s,s.return,V)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function WS(s,i,l){be=s,r0(s)}function r0(s,i,l){for(var h=(s.mode&1)!==0;be!==null;){var p=be,y=p.child;if(p.tag===22&&h){var b=p.memoizedState!==null||Gu;if(!b){var j=p.alternate,V=j!==null&&j.memoizedState!==null||cn;j=Gu;var Y=cn;if(Gu=b,(cn=V)&&!Y)for(be=p;be!==null;)b=be,V=b.child,b.tag===22&&b.memoizedState!==null?o0(p):V!==null?(V.return=b,be=V):o0(p);for(;y!==null;)be=y,r0(y),y=y.sibling;be=p,Gu=j,cn=Y}s0(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,be=y):s0(s)}}function s0(s){for(;be!==null;){var i=be;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:cn||Ku(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!cn)if(l===null)h.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:cr(i.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&iv(i,y,h);break;case 3:var b=i.updateQueue;if(b!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}iv(i,b,l)}break;case 5:var j=i.stateNode;if(l===null&&i.flags&4){l=j;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Y=i.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ce=oe.dehydrated;ce!==null&&qs(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||i.flags&512&&nm(i)}catch(ie){kt(i,i.return,ie)}}if(i===s){be=null;break}if(l=i.sibling,l!==null){l.return=i.return,be=l;break}be=i.return}}function i0(s){for(;be!==null;){var i=be;if(i===s){be=null;break}var l=i.sibling;if(l!==null){l.return=i.return,be=l;break}be=i.return}}function o0(s){for(;be!==null;){var i=be;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Ku(4,i)}catch(V){kt(i,l,V)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(V){kt(i,p,V)}}var y=i.return;try{nm(i)}catch(V){kt(i,y,V)}break;case 5:var b=i.return;try{nm(i)}catch(V){kt(i,b,V)}}}catch(V){kt(i,i.return,V)}if(i===s){be=null;break}var j=i.sibling;if(j!==null){j.return=i.return,be=j;break}be=i.return}}var qS=Math.ceil,Qu=U.ReactCurrentDispatcher,im=U.ReactCurrentOwner,Jn=U.ReactCurrentBatchConfig,tt=0,Gt=null,Ot=null,Zt=0,Vn=0,wa=Xs(0),Bt=0,rc=null,fo=0,Yu=0,om=0,sc=null,En=null,am=0,_a=1/0,bs=null,Xu=!1,lm=null,ri=null,Ju=!1,si=null,Zu=0,ic=0,cm=null,ed=-1,td=0;function yn(){return(tt&6)!==0?mt():ed!==-1?ed:ed=mt()}function ii(s){return(s.mode&1)===0?1:(tt&2)!==0&&Zt!==0?Zt&-Zt:kS.transition!==null?(td===0&&(td=Il()),td):(s=Je,s!==0||(s=window.event,s=s===void 0?16:Yo(s.type)),s)}function hr(s,i,l,h){if(50<ic)throw ic=0,cm=null,Error(t(185));eo(s,l,h),((tt&2)===0||s!==Gt)&&(s===Gt&&((tt&2)===0&&(Yu|=l),Bt===4&&oi(s,Zt)),Tn(s,h),l===1&&tt===0&&(i.mode&1)===0&&(_a=mt()+500,ku&&Zs()))}function Tn(s,i){var l=s.callbackNode;Zi(s,i);var h=cs(s,s===Gt?Zt:0);if(h===0)l!==null&&$o(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&$o(l),i===1)s.tag===0?CS(l0.bind(null,s)):Gy(l0.bind(null,s)),TS(function(){(tt&6)===0&&Zs()}),l=null;else{switch(Ar(h)){case 1:l=Ho;break;case 4:l=El;break;case 16:l=Qi;break;case 536870912:l=Wo;break;default:l=Qi}l=g0(l,a0.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function a0(s,i){if(ed=-1,td=0,(tt&6)!==0)throw Error(t(327));var l=s.callbackNode;if(ba()&&s.callbackNode!==l)return null;var h=cs(s,s===Gt?Zt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=nd(s,h);else{i=h;var p=tt;tt|=2;var y=u0();(Gt!==s||Zt!==i)&&(bs=null,_a=mt()+500,po(s,i));do try{QS();break}catch(j){c0(s,j)}while(!0);Nf(),Qu.current=y,tt=p,Ot!==null?i=0:(Gt=null,Zt=0,i=Bt)}if(i!==0){if(i===2&&(p=Sl(s),p!==0&&(h=p,i=um(s,p))),i===1)throw l=rc,po(s,0),oi(s,h),Tn(s,mt()),l;if(i===6)oi(s,h);else{if(p=s.current.alternate,(h&30)===0&&!GS(p)&&(i=nd(s,h),i===2&&(y=Sl(s),y!==0&&(h=y,i=um(s,y))),i===1))throw l=rc,po(s,0),oi(s,h),Tn(s,mt()),l;switch(s.finishedWork=p,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:go(s,En,bs);break;case 3:if(oi(s,h),(h&130023424)===h&&(i=am+500-mt(),10<i)){if(cs(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){yn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=gf(go.bind(null,s,En,bs),i);break}go(s,En,bs);break;case 4:if(oi(s,h),(h&4194240)===h)break;for(i=s.eventTimes,p=-1;0<h;){var b=31-Pn(h);y=1<<b,b=i[b],b>p&&(p=b),h&=~y}if(h=p,h=mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*qS(h/1960))-h,10<h){s.timeoutHandle=gf(go.bind(null,s,En,bs),h);break}go(s,En,bs);break;case 5:go(s,En,bs);break;default:throw Error(t(329))}}}return Tn(s,mt()),s.callbackNode===l?a0.bind(null,s):null}function um(s,i){var l=sc;return s.current.memoizedState.isDehydrated&&(po(s,i).flags|=256),s=nd(s,i),s!==2&&(i=En,En=l,i!==null&&dm(i)),s}function dm(s){En===null?En=s:En.push.apply(En,s)}function GS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!ar(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function oi(s,i){for(i&=~om,i&=~Yu,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Pn(i),h=1<<l;s[l]=-1,i&=~h}}function l0(s){if((tt&6)!==0)throw Error(t(327));ba();var i=cs(s,0);if((i&1)===0)return Tn(s,mt()),null;var l=nd(s,i);if(s.tag!==0&&l===2){var h=Sl(s);h!==0&&(i=h,l=um(s,h))}if(l===1)throw l=rc,po(s,0),oi(s,i),Tn(s,mt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,go(s,En,bs),Tn(s,mt()),null}function hm(s,i){var l=tt;tt|=1;try{return s(i)}finally{tt=l,tt===0&&(_a=mt()+500,ku&&Zs())}}function mo(s){si!==null&&si.tag===0&&(tt&6)===0&&ba();var i=tt;tt|=1;var l=Jn.transition,h=Je;try{if(Jn.transition=null,Je=1,s)return s()}finally{Je=h,Jn.transition=l,tt=i,(tt&6)===0&&Zs()}}function fm(){Vn=wa.current,gt(wa)}function po(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,ES(l)),Ot!==null)for(l=Ot.return;l!==null;){var h=l;switch(bf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Nu();break;case 3:ya(),gt(wn),gt(on),Mf();break;case 5:jf(h);break;case 4:ya();break;case 13:gt(bt);break;case 19:gt(bt);break;case 10:Cf(h.type._context);break;case 22:case 23:fm()}l=l.return}if(Gt=s,Ot=s=ai(s.current,null),Zt=Vn=i,Bt=0,rc=null,om=Yu=fo=0,En=sc=null,co!==null){for(i=0;i<co.length;i++)if(l=co[i],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var b=y.next;y.next=p,h.next=b}l.pending=h}co=null}return s}function c0(s,i){do{var l=Ot;try{if(Nf(),Fu.current=$u,Uu){for(var h=Et.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Uu=!1}if(ho=0,qt=zt=Et=null,Xl=!1,Jl=0,im.current=null,l===null||l.return===null){Bt=1,rc=i,Ot=null;break}e:{var y=s,b=l.return,j=l,V=i;if(i=Zt,j.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Y=V,oe=j,ce=oe.tag;if((oe.mode&1)===0&&(ce===0||ce===11||ce===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ye=Dv(b);if(ye!==null){ye.flags&=-257,Mv(ye,b,j,y,i),ye.mode&1&&jv(y,Y,i),i=ye,V=Y;var Ee=i.updateQueue;if(Ee===null){var Ne=new Set;Ne.add(V),i.updateQueue=Ne}else Ee.add(V);break e}else{if((i&1)===0){jv(y,Y,i),mm();break e}V=Error(t(426))}}else if(xt&&j.mode&1){var Pt=Dv(b);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),Mv(Pt,b,j,y,i),Sf(va(V,j));break e}}y=V=va(V,j),Bt!==4&&(Bt=2),sc===null?sc=[y]:sc.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var G=Pv(y,V,i);sv(y,G);break e;case 1:j=V;var z=y.type,Q=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ri===null||!ri.has(Q)))){y.flags|=65536,i&=-i,y.lanes|=i;var de=Rv(y,j,i);sv(y,de);break e}}y=y.return}while(y!==null)}h0(l)}catch(ke){i=ke,Ot===l&&l!==null&&(Ot=l=l.return);continue}break}while(!0)}function u0(){var s=Qu.current;return Qu.current=$u,s===null?$u:s}function mm(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Gt===null||(fo&268435455)===0&&(Yu&268435455)===0||oi(Gt,Zt)}function nd(s,i){var l=tt;tt|=2;var h=u0();(Gt!==s||Zt!==i)&&(bs=null,po(s,i));do try{KS();break}catch(p){c0(s,p)}while(!0);if(Nf(),tt=l,Qu.current=h,Ot!==null)throw Error(t(261));return Gt=null,Zt=0,Bt}function KS(){for(;Ot!==null;)d0(Ot)}function QS(){for(;Ot!==null&&!Ki();)d0(Ot)}function d0(s){var i=p0(s.alternate,s,Vn);s.memoizedProps=s.pendingProps,i===null?h0(s):Ot=i,im.current=null}function h0(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=zS(l,i,Vn),l!==null){Ot=l;return}}else{if(l=BS(l,i),l!==null){l.flags&=32767,Ot=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Bt=6,Ot=null;return}}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=s}while(i!==null);Bt===0&&(Bt=5)}function go(s,i,l){var h=Je,p=Jn.transition;try{Jn.transition=null,Je=1,YS(s,i,l,h)}finally{Jn.transition=p,Je=h}return null}function YS(s,i,l,h){do ba();while(si!==null);if((tt&6)!==0)throw Error(t(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(Zh(s,y),s===Gt&&(Ot=Gt=null,Zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ju||(Ju=!0,g0(Qi,function(){return ba(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Jn.transition,Jn.transition=null;var b=Je;Je=1;var j=tt;tt|=4,im.current=null,HS(s,l),n0(l,s),gS(mf),hs=!!ff,mf=ff=null,s.current=l,WS(l),ls(),tt=j,Je=b,Jn.transition=y}else s.current=l;if(Ju&&(Ju=!1,si=s,Zu=p),y=s.pendingLanes,y===0&&(ri=null),cu(l.stateNode),Tn(s,mt()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Xu)throw Xu=!1,s=lm,lm=null,s;return(Zu&1)!==0&&s.tag!==0&&ba(),y=s.pendingLanes,(y&1)!==0?s===cm?ic++:(ic=0,cm=s):ic=0,Zs(),null}function ba(){if(si!==null){var s=Ar(Zu),i=Jn.transition,l=Je;try{if(Jn.transition=null,Je=16>s?16:s,si===null)var h=!1;else{if(s=si,si=null,Zu=0,(tt&6)!==0)throw Error(t(331));var p=tt;for(tt|=4,be=s.current;be!==null;){var y=be,b=y.child;if((be.flags&16)!==0){var j=y.deletions;if(j!==null){for(var V=0;V<j.length;V++){var Y=j[V];for(be=Y;be!==null;){var oe=be;switch(oe.tag){case 0:case 11:case 15:nc(8,oe,y)}var ce=oe.child;if(ce!==null)ce.return=oe,be=ce;else for(;be!==null;){oe=be;var ie=oe.sibling,ye=oe.return;if(Xv(oe),oe===Y){be=null;break}if(ie!==null){ie.return=ye,be=ie;break}be=ye}}}var Ee=y.alternate;if(Ee!==null){var Ne=Ee.child;if(Ne!==null){Ee.child=null;do{var Pt=Ne.sibling;Ne.sibling=null,Ne=Pt}while(Ne!==null)}}be=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,be=b;else e:for(;be!==null;){if(y=be,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:nc(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,be=G;break e}be=y.return}}var z=s.current;for(be=z;be!==null;){b=be;var Q=b.child;if((b.subtreeFlags&2064)!==0&&Q!==null)Q.return=b,be=Q;else e:for(b=z;be!==null;){if(j=be,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Ku(9,j)}}catch(ke){kt(j,j.return,ke)}if(j===b){be=null;break e}var de=j.sibling;if(de!==null){de.return=j.return,be=de;break e}be=j.return}}if(tt=p,Zs(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Yi,s)}catch{}h=!0}return h}finally{Je=l,Jn.transition=i}}return!1}function f0(s,i,l){i=va(l,i),i=Pv(s,i,1),s=ti(s,i,1),i=yn(),s!==null&&(eo(s,1,i),Tn(s,i))}function kt(s,i,l){if(s.tag===3)f0(s,s,l);else for(;i!==null;){if(i.tag===3){f0(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ri===null||!ri.has(h))){s=va(l,s),s=Rv(i,s,1),i=ti(i,s,1),s=yn(),i!==null&&(eo(i,1,s),Tn(i,s));break}}i=i.return}}function XS(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=yn(),s.pingedLanes|=s.suspendedLanes&l,Gt===s&&(Zt&l)===l&&(Bt===4||Bt===3&&(Zt&130023424)===Zt&&500>mt()-am?po(s,0):om|=l),Tn(s,i)}function m0(s,i){i===0&&((s.mode&1)===0?i=1:(i=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var l=yn();s=xs(s,i),s!==null&&(eo(s,i,l),Tn(s,l))}function JS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),m0(s,l)}function ZS(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),m0(s,l)}var p0;p0=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||wn.current)bn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return bn=!1,US(s,i,l);bn=(s.flags&131072)!==0}else bn=!1,xt&&(i.flags&1048576)!==0&&Ky(i,Pu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;qu(s,i),s=i.pendingProps;var p=ua(i,on.current);ga(i,l),p=Vf(null,i,h,s,p,l);var y=Ff();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,_n(h)?(y=!0,Cu(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Pf(i),p.updater=Hu,i.stateNode=p,p._reactInternals=i,Wf(i,h,s,l),i=Qf(null,i,h,!0,y,l)):(i.tag=0,xt&&y&&_f(i),gn(null,i,p,l),i=i.child),i;case 16:h=i.elementType;e:{switch(qu(s,i),s=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=tI(h),s=cr(h,s),p){case 0:i=Kf(null,i,h,s,l);break e;case 1:i=zv(null,i,h,s,l);break e;case 11:i=Ov(null,i,h,s,l);break e;case 14:i=Lv(null,i,h,cr(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:cr(h,p),Kf(s,i,h,p,l);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:cr(h,p),zv(s,i,h,p,l);case 3:e:{if(Bv(i),s===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,p=y.element,rv(s,i),Lu(i,h,null,l);var b=i.memoizedState;if(h=b.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=va(Error(t(423)),i),i=$v(s,i,h,l,p);break e}else if(h!==p){p=va(Error(t(424)),i),i=$v(s,i,h,l,p);break e}else for(Ln=Ys(i.stateNode.containerInfo.firstChild),On=i,xt=!0,lr=null,l=tv(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fa(),h===p){i=_s(s,i,l);break e}gn(s,i,h,l)}i=i.child}return i;case 5:return ov(i),s===null&&Tf(i),h=i.type,p=i.pendingProps,y=s!==null?s.memoizedProps:null,b=p.children,pf(h,p)?b=null:y!==null&&pf(h,y)&&(i.flags|=32),Uv(s,i),gn(s,i,b,l),i.child;case 6:return s===null&&Tf(i),null;case 13:return Hv(s,i,l);case 4:return Rf(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=ma(i,null,h,l):gn(s,i,h,l),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:cr(h,p),Ov(s,i,h,p,l);case 7:return gn(s,i,i.pendingProps,l),i.child;case 8:return gn(s,i,i.pendingProps.children,l),i.child;case 12:return gn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,y=i.memoizedProps,b=p.value,dt(Du,h._currentValue),h._currentValue=b,y!==null)if(ar(y.value,b)){if(y.children===p.children&&!wn.current){i=_s(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var j=y.dependencies;if(j!==null){b=y.child;for(var V=j.firstContext;V!==null;){if(V.context===h){if(y.tag===1){V=ws(-1,l&-l),V.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?V.next=V:(V.next=oe.next,oe.next=V),Y.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),kf(y.return,l,i),j.lanes|=l;break}V=V.next}}else if(y.tag===10)b=y.type===i.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(t(341));b.lanes|=l,j=b.alternate,j!==null&&(j.lanes|=l),kf(b,l,i),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===i){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}gn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,ga(i,l),p=Yn(p),h=h(p),i.flags|=1,gn(s,i,h,l),i.child;case 14:return h=i.type,p=cr(h,i.pendingProps),p=cr(h.type,p),Lv(s,i,h,p,l);case 15:return Vv(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:cr(h,p),qu(s,i),i.tag=1,_n(h)?(s=!0,Cu(i)):s=!1,ga(i,l),kv(i,h,p),Wf(i,h,p,l),Qf(null,i,h,!0,s,l);case 19:return qv(s,i,l);case 22:return Fv(s,i,l)}throw Error(t(156,i.tag))};function g0(s,i){return bl(s,i)}function eI(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,i,l,h){return new eI(s,i,l,h)}function pm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function tI(s){if(typeof s=="function")return pm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===ue)return 14}return 2}function ai(s,i){var l=s.alternate;return l===null?(l=Zn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function rd(s,i,l,h,p,y){var b=2;if(h=s,typeof s=="function")pm(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case C:return yo(l.children,p,y,i);case T:b=8,p|=8;break;case A:return s=Zn(12,l,i,p|2),s.elementType=A,s.lanes=y,s;case P:return s=Zn(13,l,i,p),s.elementType=P,s.lanes=y,s;case Z:return s=Zn(19,l,i,p),s.elementType=Z,s.lanes=y,s;case ae:return sd(l,p,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:b=10;break e;case M:b=9;break e;case L:b=11;break e;case ue:b=14;break e;case ge:b=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Zn(b,l,i,p),i.elementType=s,i.type=h,i.lanes=y,i}function yo(s,i,l,h){return s=Zn(7,s,h,i),s.lanes=l,s}function sd(s,i,l,h){return s=Zn(22,s,h,i),s.elementType=ae,s.lanes=l,s.stateNode={isHidden:!1},s}function gm(s,i,l){return s=Zn(6,s,null,i),s.lanes=l,s}function ym(s,i,l){return i=Zn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function nI(s,i,l,h,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function vm(s,i,l,h,p,y,b,j,V){return s=new nI(s,i,l,j,V),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Zn(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pf(y),s}function rI(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function y0(s){if(!s)return Js;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(_n(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(_n(l))return Wy(s,l,i)}return i}function v0(s,i,l,h,p,y,b,j,V){return s=vm(l,h,!0,s,p,y,b,j,V),s.context=y0(null),l=s.current,h=yn(),p=ii(l),y=ws(h,p),y.callback=i??null,ti(l,y,p),s.current.lanes=p,eo(s,p,h),Tn(s,h),s}function id(s,i,l,h){var p=i.current,y=yn(),b=ii(p);return l=y0(l),i.context===null?i.context=l:i.pendingContext=l,i=ws(y,b),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=ti(p,i,b),s!==null&&(hr(s,p,b,y),Ou(s,p,b)),b}function od(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function x0(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function xm(s,i){x0(s,i),(s=s.alternate)&&x0(s,i)}function sI(){return null}var w0=typeof reportError=="function"?reportError:function(s){console.error(s)};function wm(s){this._internalRoot=s}ad.prototype.render=wm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));id(s,i,null,null)},ad.prototype.unmount=wm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;mo(function(){id(null,s,null,null)}),i[ps]=null}};function ad(s){this._internalRoot=s}ad.prototype.unstable_scheduleHydration=function(s){if(s){var i=Pl();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Rn.length&&i!==0&&i<Rn[l].priority;l++);Rn.splice(l,0,s),l===0&&Ko(s)}};function _m(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ld(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _0(){}function iI(s,i,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var Y=od(b);y.call(Y)}}var b=v0(i,h,s,0,null,!1,!1,"",_0);return s._reactRootContainer=b,s[ps]=b.current,$l(s.nodeType===8?s.parentNode:s),mo(),b}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var j=h;h=function(){var Y=od(V);j.call(Y)}}var V=vm(s,0,!1,null,null,!1,!1,"",_0);return s._reactRootContainer=V,s[ps]=V.current,$l(s.nodeType===8?s.parentNode:s),mo(function(){id(i,V,l,h)}),V}function cd(s,i,l,h,p){var y=l._reactRootContainer;if(y){var b=y;if(typeof p=="function"){var j=p;p=function(){var V=od(b);j.call(V)}}id(i,b,s,p)}else b=iI(l,i,s,p,h);return od(b)}kl=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=rt(i.pendingLanes);l!==0&&(Cl(i,l|1),Tn(i,mt()),(tt&6)===0&&(_a=mt()+500,Zs()))}break;case 13:mo(function(){var h=xs(s,1);if(h!==null){var p=yn();hr(h,s,1,p)}}),xm(s,1)}},qo=function(s){if(s.tag===13){var i=xs(s,134217728);if(i!==null){var l=yn();hr(i,s,134217728,l)}xm(s,134217728)}},Al=function(s){if(s.tag===13){var i=ii(s),l=xs(s,i);if(l!==null){var h=yn();hr(l,s,i,h)}xm(s,i)}},Pl=function(){return Je},Rl=function(s,i){var l=Je;try{return Je=s,i()}finally{Je=l}},is=function(s,i,l){switch(i){case"input":if(at(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var p=Iu(h);if(!p)throw Error(t(90));et(h),at(h,p)}}}break;case"textarea":Uo(s,l);break;case"select":i=l.value,i!=null&&Cn(s,!!l.multiple,i,!1)}},eu=hm,tu=mo;var oI={usingClientEntryPoint:!1,Events:[ql,la,Iu,Fs,Us,hm]},oc={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aI={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=lu(s),s===null?null:s.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||sI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{Yi=ud.inject(aI),An=ud}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI,Sn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(i))throw Error(t(200));return rI(s,i,null,l)},Sn.createRoot=function(s,i){if(!_m(s))throw Error(t(299));var l=!1,h="",p=w0;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=vm(s,1,!1,null,null,l,!1,h,p),s[ps]=i.current,$l(s.nodeType===8?s.parentNode:s),new wm(i)},Sn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=lu(i),s=s===null?null:s.stateNode,s},Sn.flushSync=function(s){return mo(s)},Sn.hydrate=function(s,i,l){if(!ld(i))throw Error(t(200));return cd(null,s,i,!0,l)},Sn.hydrateRoot=function(s,i,l){if(!_m(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",b=w0;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),i=v0(i,null,s,1,l??null,p,!1,y,b),s[ps]=i.current,$l(s),h)for(s=0;s<h.length;s++)l=h[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new ad(i)},Sn.render=function(s,i,l){if(!ld(i))throw Error(t(200));return cd(null,s,i,!1,l)},Sn.unmountComponentAtNode=function(s){if(!ld(s))throw Error(t(40));return s._reactRootContainer?(mo(function(){cd(null,null,s,!1,function(){s._reactRootContainer=null,s[ps]=null})}),!0):!1},Sn.unstable_batchedUpdates=hm,Sn.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!ld(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return cd(s,i,l,!1,h)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var k0;function o_(){if(k0)return Tm.exports;k0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tm.exports=pI(),Tm.exports}var A0;function gI(){if(A0)return dd;A0=1;var n=o_();return dd.createRoot=n.createRoot,dd.hydrateRoot=n.hydrateRoot,dd}var yI=gI(),S=Hp();const fi=i_(S),a_=cI({__proto__:null,default:fi},[S]);function P0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function l_(...n){return e=>{let t=!1;const r=n.map(o=>{const a=P0(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():P0(n[o],null)}}}}function jt(...n){return S.useCallback(l_(...n),n)}function Ga(n){const e=vI(n),t=S.forwardRef((r,o)=>{const{children:a,...u}=r,f=S.Children.toArray(a),m=f.find(wI);if(m){const g=m.props.children,x=f.map(_=>_===m?S.Children.count(g)>1?S.Children.only(null):S.isValidElement(g)?g.props.children:null:_);return c.jsx(e,{...u,ref:o,children:S.isValidElement(g)?S.cloneElement(g,void 0,x):null})}return c.jsx(e,{...u,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var c_=Ga("Slot");function vI(n){const e=S.forwardRef((t,r)=>{const{children:o,...a}=t;if(S.isValidElement(o)){const u=bI(o),f=_I(a,o.props);return o.type!==S.Fragment&&(f.ref=r?l_(r,u):u),S.cloneElement(o,f)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var xI=Symbol("radix.slottable");function wI(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===xI}function _I(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const m=a(...f);return o(...f),m}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function bI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function u_(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=u_(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function d_(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=u_(n))&&(r&&(r+=" "),r+=e);return r}const R0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,j0=d_,Wp=(n,e)=>t=>{var r;if(e?.variants==null)return j0(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(g=>{const x=t?.[g],_=a?.[g];if(x===null)return null;const E=R0(x)||R0(_);return o[g][E]}),f=t&&Object.entries(t).reduce((g,x)=>{let[_,E]=x;return E===void 0||(g[_]=E),g},{}),m=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((g,x)=>{let{class:_,className:E,...k}=x;return Object.entries(k).every(O=>{let[I,R]=O;return Array.isArray(R)?R.includes({...a,...f}[I]):{...a,...f}[I]===R})?[...g,_,E]:g},[]);return j0(n,u,m,t?.class,t?.className)},qp="-",EI=n=>{const e=SI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const f=u.split(qp);return f[0]===""&&f.length!==1&&f.shift(),h_(f,e)||TI(u)},getConflictingClassGroupIds:(u,f)=>{const m=t[u]||[];return f&&r[u]?[...m,...r[u]]:m}}},h_=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?h_(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(qp);return e.validators.find(({validator:u})=>u(a))?.classGroupId},D0=/^\[(.+)\]$/,TI=n=>{if(D0.test(n)){const e=D0.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},SI=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)ep(t[o],r,o,e);return r},ep=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:M0(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(II(o)){ep(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,u])=>{ep(u,M0(e,a),t,r)})})},M0=(n,e)=>{let t=n;return e.split(qp).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},II=n=>n.isThemeGetter,NI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return o(a,u),u},set(a,u){t.has(a)?t.set(a,u):o(a,u)}}},tp="!",np=":",CI=np.length,kI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let u=0,f=0,m=0,g;for(let O=0;O<o.length;O++){let I=o[O];if(u===0&&f===0){if(I===np){a.push(o.slice(m,O)),m=O+CI;continue}if(I==="/"){g=O;continue}}I==="["?u++:I==="]"?u--:I==="("?f++:I===")"&&f--}const x=a.length===0?o:o.substring(m),_=AI(x),E=_!==x,k=g&&g>m?g-m:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:k}};if(e){const o=e+np,a=r;r=u=>u.startsWith(o)?a(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},AI=n=>n.endsWith(tp)?n.substring(0,n.length-1):n.startsWith(tp)?n.substring(1):n,PI=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(u=>{u[0]==="["||e[u]?(o.push(...a.sort(),u),a=[]):a.push(u)}),o.push(...a.sort()),o}},RI=n=>({cache:NI(n.cacheSize),parseClassName:kI(n),sortModifiers:PI(n),...EI(n)}),jI=/\s+/,DI=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,u=[],f=n.trim().split(jI);let m="";for(let g=f.length-1;g>=0;g-=1){const x=f[g],{isExternal:_,modifiers:E,hasImportantModifier:k,baseClassName:O,maybePostfixModifierPosition:I}=t(x);if(_){m=x+(m.length>0?" "+m:m);continue}let R=!!I,$=r(R?O.substring(0,I):O);if(!$){if(!R){m=x+(m.length>0?" "+m:m);continue}if($=r(O),!$){m=x+(m.length>0?" "+m:m);continue}R=!1}const H=a(E).join(":"),W=k?H+tp:H,U=W+$;if(u.includes(U))continue;u.push(U);const q=o($,R);for(let ee=0;ee<q.length;++ee){const C=q[ee];u.push(W+C)}m=x+(m.length>0?" "+m:m)}return m};function MI(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=f_(e))&&(r&&(r+=" "),r+=t);return r}const f_=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=f_(n[r]))&&(t&&(t+=" "),t+=e);return t};function OI(n,...e){let t,r,o,a=u;function u(m){const g=e.reduce((x,_)=>_(x),n());return t=RI(g),r=t.cache.get,o=t.cache.set,a=f,f(m)}function f(m){const g=r(m);if(g)return g;const x=DI(m,t);return o(m,x),x}return function(){return a(MI.apply(null,arguments))}}const $t=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},m_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,p_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LI=/^\d+\/\d+$/,VI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ea=n=>LI.test(n),qe=n=>!!n&&!Number.isNaN(Number(n)),ci=n=>!!n&&Number.isInteger(Number(n)),Nm=n=>n.endsWith("%")&&qe(n.slice(0,-1)),Es=n=>VI.test(n),$I=()=>!0,HI=n=>FI.test(n)&&!UI.test(n),g_=()=>!1,WI=n=>zI.test(n),qI=n=>BI.test(n),GI=n=>!Te(n)&&!Se(n),KI=n=>il(n,x_,g_),Te=n=>m_.test(n),vo=n=>il(n,w_,HI),Cm=n=>il(n,ZI,qe),O0=n=>il(n,y_,g_),QI=n=>il(n,v_,qI),hd=n=>il(n,__,WI),Se=n=>p_.test(n),lc=n=>ol(n,w_),YI=n=>ol(n,eN),L0=n=>ol(n,y_),XI=n=>ol(n,x_),JI=n=>ol(n,v_),fd=n=>ol(n,__,!0),il=(n,e,t)=>{const r=m_.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},ol=(n,e,t=!1)=>{const r=p_.exec(n);return r?r[1]?e(r[1]):t:!1},y_=n=>n==="position"||n==="percentage",v_=n=>n==="image"||n==="url",x_=n=>n==="length"||n==="size"||n==="bg-size",w_=n=>n==="length",ZI=n=>n==="number",eN=n=>n==="family-name",__=n=>n==="shadow",tN=()=>{const n=$t("color"),e=$t("font"),t=$t("text"),r=$t("font-weight"),o=$t("tracking"),a=$t("leading"),u=$t("breakpoint"),f=$t("container"),m=$t("spacing"),g=$t("radius"),x=$t("shadow"),_=$t("inset-shadow"),E=$t("text-shadow"),k=$t("drop-shadow"),O=$t("blur"),I=$t("perspective"),R=$t("aspect"),$=$t("ease"),H=$t("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...U(),Se,Te],ee=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],T=()=>[Se,Te,m],A=()=>[Ea,"full","auto",...T()],D=()=>[ci,"none","subgrid",Se,Te],M=()=>["auto",{span:["full",ci,Se,Te]},ci,Se,Te],L=()=>[ci,"auto",Se,Te],P=()=>["auto","min","max","fr",Se,Te],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ue=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...T()],ae=()=>[Ea,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],F=()=>[n,Se,Te],fe=()=>[...U(),L0,O0,{position:[Se,Te]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",XI,KI,{size:[Se,Te]}],ne=()=>[Nm,lc,vo],_e=()=>["","none","full",g,Se,Te],xe=()=>["",qe,lc,vo],je=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[qe,Nm,L0,O0],Ie=()=>["","none",O,Se,Te],De=()=>["none",qe,Se,Te],Ue=()=>["none",qe,Se,Te],Ke=()=>[qe,Se,Te],et=()=>[Ea,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Es],breakpoint:[Es],color:[$I],container:[Es],"drop-shadow":[Es],ease:["in","out","in-out"],font:[GI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Es],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Es],shadow:[Es],spacing:["px",qe],text:[Es],"text-shadow":[Es],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ea,Te,Se,R]}],container:["container"],columns:[{columns:[qe,Te,Se,f]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[ci,"auto",Se,Te]}],basis:[{basis:[Ea,"full","auto",f,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Ea,"auto","initial","none",Te]}],grow:[{grow:["",qe,Se,Te]}],shrink:[{shrink:["",qe,Se,Te]}],order:[{order:[ci,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...ue()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...ue(),"baseline"]}],"place-self":[{"place-self":["auto",...ue()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[f,"screen",...ae()]}],"min-w":[{"min-w":[f,"screen","none",...ae()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",t,lc,vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,Cm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nm,Te]}],"font-family":[{font:[YI,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Se,Te]}],"line-clamp":[{"line-clamp":[qe,"none",Se,Cm]}],leading:[{leading:[a,...T()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Se,vo]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[qe,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ci,Se,Te],radial:["",Se,Te],conic:[ci,Se,Te]},JI,QI]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Se,Te]}],"outline-w":[{outline:["",qe,lc,vo]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",x,fd,hd]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",_,fd,hd]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[qe,vo]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",E,fd,hd]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[qe,Se,Te]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:Ie()}],brightness:[{brightness:[qe,Se,Te]}],contrast:[{contrast:[qe,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",k,fd,hd]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",qe,Se,Te]}],"hue-rotate":[{"hue-rotate":[qe,Se,Te]}],invert:[{invert:["",qe,Se,Te]}],saturate:[{saturate:[qe,Se,Te]}],sepia:[{sepia:["",qe,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",qe,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Se,Te]}],ease:[{ease:["linear","initial",$,Se,Te]}],delay:[{delay:[qe,Se,Te]}],animate:[{animate:["none",H,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Se,Te]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:Ke()}],"skew-x":[{"skew-x":Ke()}],"skew-y":[{"skew-y":Ke()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:et()}],"translate-x":[{"translate-x":et()}],"translate-y":[{"translate-y":et()}],"translate-z":[{"translate-z":et()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[qe,lc,vo,Cm]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nN=OI(tN);function Tt(...n){return nN(d_(n))}const rN=Wp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Oe({className:n,variant:e,size:t,asChild:r=!1,...o}){const a=r?c_:"button";return c.jsx(a,{"data-slot":"button",className:Tt(rN({variant:e,size:t,className:n})),...o})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),V0=n=>{const e=iN(n);return e.charAt(0).toUpperCase()+e.slice(1)},b_=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...f},m)=>S.createElement("svg",{ref:m,...oN,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:b_("lucide",o),...f},[...u.map(([g,x])=>S.createElement(g,x)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(n,e)=>{const t=S.forwardRef(({className:r,...o},a)=>S.createElement(aN,{ref:a,iconNode:e,className:b_(`lucide-${sN(V0(n))}`,`lucide-${n}`,r),...o}));return t.displayName=V0(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],cN=ve("align-center",lN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],dN=ve("align-justify",uN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],fN=ve("align-left",hN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],pN=ve("align-right",mN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],E_=ve("arrow-left",gN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],La=ve("arrow-right",yN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xN=ve("award",vN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],_N=ve("bold",wN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],EN=ve("book-open",bN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],SN=ve("bookmark",TN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tc=ve("calendar",IN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],T_=ve("chart-column",NN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],kN=ve("chart-no-axes-column-increasing",CN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],S_=ve("check",AN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I_=ve("chevron-down",PN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jN=ve("chevron-up",RN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],F0=ve("circle-check-big",DN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],U0=ve("circle-x",MN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ka=ve("clock",ON);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],VN=ve("cog",LN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],UN=ve("database",FN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Da=ve("eye",zN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],N_=ve("facebook",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],HN=ve("funnel",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],qN=ve("globe",WN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Qa=ve("heart",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],km=ve("image",KN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],YN=ve("instagram",QN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],JN=ve("italic",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],eC=ve("link-2",ZN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],nC=ve("link",tC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],C_=ve("linkedin",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],iC=ve("list-ordered",sC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],aC=ve("list",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],z0=ve("loader-circle",lC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],k_=ve("mail",cC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dC=ve("map-pin",uC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],fC=ve("megaphone",hC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],pC=ve("menu",mC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Gp=ve("message-circle",gC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],A_=ve("message-square",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M5 12h14",key:"1ays0h"}]],xC=ve("minus",vC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],P_=ve("pen-tool",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],R_=ve("phone",_C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rp=ve("plus",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],j_=ve("quote",EC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],SC=ve("refresh-cw",TC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],NC=ve("rocket",IC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kC=ve("rotate-ccw",CC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sp=ve("save",AC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Kp=ve("search",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jC=ve("send",RC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],zd=ve("share-2",DC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OC=ve("shield-check",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],VC=ve("shield",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ip=ve("square-pen",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Bd=ve("star",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],BC=ve("table",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],HC=ve("tag",$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ya=ve("target",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],D_=ve("trash-2",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],B0=ve("trash",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Qp=ve("trending-up",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],M_=ve("twitter",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],XC=ve("underline",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],$0=ve("upload",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xa=ve("user",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],tk=ve("users",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sc=ve("x",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sk=ve("zap",rk);function ik({currentPage:n,onPageChange:e}){const[t,r]=S.useState(!1),o=[{name:"Home",id:"home"},{name:"About",id:"about"},{name:"Services",id:"services"},{name:"Blog",id:"blog"},{name:"Contact",id:"contact"}];return c.jsxs("nav",{className:"bg-white/95 backdrop-blur-sm border-b border-border sticky top-0 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("span",{className:"text-2xl font-bold text-primary",children:"MacLabs"})}),c.jsx("div",{className:"hidden md:block",children:c.jsx("div",{className:"ml-10 flex items-baseline space-x-8",children:o.map(a=>c.jsx("button",{onClick:()=>e(a.id),className:`px-3 py-2 text-sm transition-colors ${n===a.id?"text-primary font-medium":"text-muted-foreground hover:text-primary"}`,children:a.name},a.id))})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsx(Oe,{onClick:()=>e("firebase-test"),variant:"outline",className:"text-sm",children:"Test Firebase"}),c.jsx(Oe,{onClick:()=>e("debug-blog"),variant:"outline",className:"text-sm",children:"Debug Blog"}),c.jsx(Oe,{onClick:()=>e("admin-dashboard"),variant:"outline",className:"text-sm",children:"Admin"}),c.jsx(Oe,{onClick:()=>e("contact"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Get Started"})]}),c.jsx("div",{className:"md:hidden",children:c.jsx("button",{onClick:()=>r(!t),className:"text-muted-foreground hover:text-primary",children:t?c.jsx(Sc,{className:"h-6 w-6"}):c.jsx(pC,{className:"h-6 w-6"})})})]})}),t&&c.jsx("div",{className:"md:hidden",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t border-border",children:[o.map(a=>c.jsx("button",{onClick:()=>{e(a.id),r(!1)},className:`block px-3 py-2 text-sm w-full text-left transition-colors ${n===a.id?"text-primary font-medium":"text-muted-foreground hover:text-primary"}`,children:a.name},a.id)),c.jsx("div",{className:"px-3 py-2",children:c.jsx(Oe,{onClick:()=>{e("contact"),r(!1)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Get Started"})})]})})]})}function ok({onPageChange:n}){const e=new Date().getFullYear(),t={company:[{name:"About Us",id:"about"},{name:"Services",id:"services"},{name:"Blog",id:"blog"},{name:"Contact",id:"contact"}],services:[{name:"Content Strategy",id:"content-strategy"},{name:"Social Marketing",id:"social-marketing"},{name:"Email Marketing",id:"email-marketing"},{name:"SEO Optimization",id:"seo"}],resources:[{name:"Case Studies",id:"case-studies"},{name:"Whitepapers",id:"whitepapers"},{name:"Webinars",id:"webinars"},{name:"Free Tools",id:"tools"}]},r=[{icon:c.jsx(N_,{className:"h-5 w-5"}),href:"#",name:"Facebook"},{icon:c.jsx(M_,{className:"h-5 w-5"}),href:"#",name:"Twitter"},{icon:c.jsx(C_,{className:"h-5 w-5"}),href:"#",name:"LinkedIn"},{icon:c.jsx(YN,{className:"h-5 w-5"}),href:"#",name:"Instagram"}];return c.jsx("footer",{className:"bg-gray-900 text-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"py-16",children:c.jsxs("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"lg:col-span-1",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-2xl font-bold mb-4",children:"MacLabs"}),c.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Empowering crypto founders to build authority, attract investors, and scale their Web3 projects through strategic ghostwriting and crypto-native marketing."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center text-gray-400",children:[c.jsx(k_,{className:"h-4 w-4 mr-3 flex-shrink-0"}),c.jsx("span",{className:"text-sm",children:"sam.daodu@maclabsmarketing.com"})]}),c.jsxs("div",{className:"flex items-center text-gray-400",children:[c.jsx(R_,{className:"h-4 w-4 mr-3 flex-shrink-0"}),c.jsx("span",{className:"text-sm",children:"+447831692196"})]}),c.jsxs("div",{className:"flex items-center text-gray-400",children:[c.jsx(dC,{className:"h-4 w-4 mr-3 flex-shrink-0"}),c.jsx("span",{className:"text-sm",children:"Nottingham, UK"})]})]}),c.jsx("div",{className:"mt-6",children:c.jsx("div",{className:"flex space-x-4",children:r.map((o,a)=>c.jsx("a",{href:o.href,className:"text-gray-400 hover:text-white transition-colors p-2 bg-gray-800 rounded-lg hover:bg-gray-700","aria-label":o.name,children:o.icon},a))})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-6",children:"Company"}),c.jsx("ul",{className:"space-y-3",children:t.company.map(o=>c.jsx("li",{children:c.jsx("button",{onClick:()=>n(o.id),className:"text-gray-400 hover:text-white transition-colors text-sm",children:o.name})},o.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-6",children:"Services"}),c.jsx("ul",{className:"space-y-3",children:t.services.map(o=>c.jsx("li",{children:c.jsx("button",{onClick:()=>n("services"),className:"text-gray-400 hover:text-white transition-colors text-sm",children:o.name})},o.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-6",children:"Resources"}),c.jsx("ul",{className:"space-y-3",children:t.resources.map(o=>c.jsx("li",{children:c.jsx("button",{onClick:()=>n(o.id),className:"text-gray-400 hover:text-white transition-colors text-sm",children:o.name})},o.id))})]})]})}),c.jsx("div",{className:"border-t border-gray-800 py-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("div",{className:"text-sm text-gray-400 mb-4 md:mb-0",children:["© ",e," MacLabs. All rights reserved."]}),c.jsxs("div",{className:"flex space-x-6 text-sm text-gray-400",children:[c.jsx("button",{className:"hover:text-white transition-colors",children:"Privacy Policy"}),c.jsx("button",{className:"hover:text-white transition-colors",children:"Terms of Service"}),c.jsx("button",{className:"hover:text-white transition-colors",children:"Cookie Policy"})]})]})})]})})}function ak({onGetStarted:n}){return c.jsx("section",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 py-20 lg:py-28",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"lg:pr-8",children:[c.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6",children:["Turn Your Crypto Expertise Into"," ",c.jsx("span",{className:"text-blue-600",children:"Authority & Capital"})]}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"MacLabs helps Web3 founders, DeFi platforms, and crypto infrastructure tools build trust, attract investors, and scale through strategic ghostwriting and crypto marketing."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs(Oe,{onClick:n,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:["Work With Us",c.jsx(La,{className:"ml-2 h-5 w-5"})]}),c.jsx(Oe,{variant:"outline",size:"lg",className:"px-8 py-3 border-gray-300 text-gray-700 hover:bg-gray-50",children:"See Our Work"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"col-span-2 bg-white rounded-2xl shadow-xl p-6 transform rotate-1",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-4 mb-4",children:c.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:c.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"})})}),c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Content Strategy"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Strategic content that drives engagement and conversions"})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 transform -rotate-2",children:[c.jsx("div",{className:"bg-green-100 rounded-lg p-3 mb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-green-800",children:"Growth"}),c.jsx("span",{className:"text-green-600 font-bold",children:"+247%"})]})}),c.jsx("div",{className:"h-12 bg-gradient-to-r from-green-200 to-green-400 rounded opacity-75"})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 transform rotate-2",children:[c.jsx("div",{className:"bg-purple-100 rounded-lg p-3 mb-3",children:c.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[c.jsx("div",{className:"bg-purple-400 rounded h-2"}),c.jsx("div",{className:"bg-purple-300 rounded h-2"}),c.jsx("div",{className:"bg-purple-500 rounded h-2"})]})}),c.jsx("p",{className:"text-xs text-gray-600",children:"Social Engagement"})]})]}),c.jsx("div",{className:"absolute -top-4 -right-4 w-20 h-20 bg-blue-500 rounded-full opacity-20 animate-pulse"}),c.jsx("div",{className:"absolute -bottom-6 -left-6 w-32 h-32 bg-purple-500 rounded-full opacity-10 animate-bounce"})]})]})})})}const lk="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function vn(n){const[e,t]=S.useState(!1),r=()=>{t(!0)},{src:o,alt:a,style:u,className:f,...m}=n;return e?c.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${f??""}`,style:u,children:c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("img",{src:lk,alt:"Error loading image",...m,"data-original-url":o})})}):c.jsx("img",{src:o,alt:a,className:f,style:u,...m,onError:r})}function ck(){const n=[{name:"Coin Telegraph",logo:"/media/Coin Telegraph.jpg",alt:"Coin Telegraph logo"},{name:"Yahoo Finance",logo:"/media/yahoo_finance_logo.jpg",alt:"Yahoo Finance logo"},{name:"The Block",logo:"/media/theblockcrypto_logo.jpg",alt:"The Block logo"},{name:"Cryptonews",logo:"/media/cryptonewscom_logo.jpg",alt:"Cryptonews logo"},{name:"Zypto",logo:"/media/zypto_logo.jpg",alt:"Zypto logo"},{name:"Rain",logo:"/media/rainfinancial_logo.jpg",alt:"Rain Financial logo"}];return c.jsx("section",{className:"py-16 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Trusted By"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Featured in leading financial and crypto publications worldwide"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 items-center",children:n.map((e,t)=>c.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg hover:shadow-md transition-shadow duration-300 group",children:[c.jsx("div",{className:"w-16 h-10 mb-4 group-hover:scale-110 transition-transform duration-300 flex items-center justify-center",children:c.jsx(vn,{src:e.logo,alt:e.alt,className:"max-w-full max-h-full object-contain filter grayscale hover:grayscale-0 transition-all duration-300"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600 transition-colors text-center",children:e.name})]},t))}),c.jsx("div",{className:"mt-12 text-center",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Recognized by industry leaders for our expertise in digital marketing and crypto communications."})})]})})}function uk(){const n=[{icon:c.jsx(P_,{className:"h-8 w-8 text-green-600"}),title:"Ghostwriting for Crypto Founders",description:"Turn your crypto expertise into influence. We help Web3 founders, executives, and influencers build authority through strategic LinkedIn content and educational email courses that attract investors and build trust.",image:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=1080&q=80",features:["LinkedIn thought leadership posts","Educational email courses","Newsletter ghostwriting","Voice development & positioning","X/Twitter thread repurposing"]},{icon:c.jsx(Ya,{className:"h-8 w-8 text-blue-600"}),title:"Crypto Marketing & Funnels",description:"Specialized marketing for pre-sale projects and ICOs. We create compelling promotional content, landing pages, and investor education funnels that convert cold leads into warm believers ready to invest.",image:"https://images.unsplash.com/photo-1556157382-97eda2d62296?auto=format&fit=crop&w=1080&q=80",features:["Pre-sale & ICO promotional content","High-converting landing pages","Investor education funnels","Email sequences for lead nurturing","Analytics & funnel optimization"]}];return c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Our Core Services"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"We specialize in two high-impact services for crypto and Web3 brands: strategic ghostwriting for founders raising capital, and crypto marketing for pre-sale and ICO projects."})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:n.map((e,t)=>c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 hover:shadow-xl transition-shadow duration-300",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"p-3 bg-gray-50 rounded-lg mr-4",children:e.icon}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.title})]}),c.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:e.description}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What's included:"}),c.jsx("ul",{className:"space-y-2",children:e.features.map((r,o)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mr-3 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:r})]},o))})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Oe,{variant:"outline",className:"group border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:["Learn More",c.jsx(La,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),c.jsx(vn,{src:e.image,alt:e.title,className:"w-16 h-16 object-cover rounded-lg"})]})]},t))})]})})}function dk(){const n=[{icon:c.jsx(VC,{className:"h-12 w-12 text-blue-600"}),title:"Crypto & Web3 Native Understanding",description:"We don't just write about crypto—we live it. Our team trades, invests, and understands both sides of the equation, helping you communicate authentically to investors."},{icon:c.jsx(Ya,{className:"h-12 w-12 text-green-600"}),title:"Specialized Niche Focus",description:"Web3 gaming, GambleFi, DeFi platforms, and crypto infrastructure tools. We know the sensitive industries, compliance requirements, and what resonates with your audience."},{icon:c.jsx(Qp,{className:"h-12 w-12 text-purple-600"}),title:"Thought Leadership Positioning",description:"We transform crypto founders into recognized thought leaders by building their authority on X (Twitter) and LinkedIn. Our strategic content positions you as an expert who investors trust and follow."},{icon:c.jsx(VN,{className:"h-12 w-12 text-orange-600"}),title:"Systems That Scale Without Chaos",description:"From funnel audits to automated workflows, we build systems so your content operation runs smoothly and scales as you grow your project."}];return c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Why Crypto Founders Choose MacLabs"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"We're not just another marketing agency. We're crypto natives who understand the unique challenges of building trust, attracting investors, and scaling in the Web3 space."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((e,t)=>c.jsxs("div",{className:"text-center p-8 rounded-2xl border border-gray-100 hover:shadow-lg transition-all duration-300 group hover:-translate-y-2",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"p-4 bg-gray-50 rounded-full group-hover:bg-blue-50 transition-colors duration-300",children:e.icon})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e.title}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},t))}),c.jsx("div",{className:"mt-16 text-center",children:c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to turn your crypto expertise into authority and capital?"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Join Web3 founders and crypto projects who've already built trust and attracted investors with MacLabs"}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-500",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"No Setup Fees"]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Custom Pricing"]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Crypto Native Team"]})]}),c.jsx("div",{className:"mt-8",children:c.jsx("a",{href:"#booking",children:c.jsx(Oe,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-8",children:"Book A Strategy Call"})})})]})})]})})}function hk(){const n=[{name:"Sarah Johnson",position:"CEO, TechStart",image:"https://images.unsplash.com/photo-1586996387347-6533bac25f14?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjB3b21hbiUyMGxhcHRvcCUyMG1hcmtldGluZ3xlbnwxfHx8fDE3NTc3NzA5MTN8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",content:"MacLabs transformed our digital presence completely. Within 3 months, we saw a 250% increase in qualified leads and our conversion rate doubled.",rating:5},{name:"Michael Chen",position:"Marketing Director, GrowthCorp",image:"https://images.unsplash.com/photo-1698047682129-c3e217ac08b7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMHRlYW0lMjBtZWV0aW5nJTIwbW9kZXJuJTIwb2ZmaWNlfGVufDF8fHx8MTc1Nzc3MDkxMnww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",content:"The strategic approach and attention to detail is incredible. Our social media engagement increased by 400% and we're finally reaching our target audience effectively.",rating:5},{name:"Emma Rodriguez",position:"Founder, InnovateHub",image:"https://images.unsplash.com/photo-1686061594225-3e92c0cd51b0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkaWdpdGFsJTIwbWFya2V0aW5nJTIwYW5hbHl0aWNzJTIwZGFzaGJvYXJkfGVufDF8fHx8MTc1Nzc3MDkxM3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",content:"Working with MacLabs feels like having an extension of our team. They understand our vision and consistently deliver campaigns that exceed expectations.",rating:5}];return c.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-600 to-purple-700",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"What Clients Have To Say"}),c.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto leading-relaxed",children:"Don't just take our word for it. Here's what industry leaders say about partnering with MacLabs for their digital transformation."})]}),c.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:n.map((e,t)=>c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-shadow duration-300 relative",children:[c.jsx("div",{className:"absolute -top-4 left-8",children:c.jsx("div",{className:"bg-blue-600 rounded-full p-3",children:c.jsx(j_,{className:"h-6 w-6 text-white"})})}),c.jsxs("div",{className:"pt-6",children:[c.jsx("div",{className:"flex mb-4",children:[...Array(e.rating)].map((r,o)=>c.jsx(Bd,{className:"h-5 w-5 text-yellow-400 fill-current"},o))}),c.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed italic",children:['"',e.content,'"']}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(vn,{src:e.image,alt:e.name,className:"w-12 h-12 rounded-full object-cover mr-4"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:e.name}),c.jsx("p",{className:"text-sm text-gray-500",children:e.position})]})]})]})]},t))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx("p",{className:"text-blue-100 text-sm",children:"Join 500+ satisfied clients who've transformed their digital presence with MacLabs"})})]})})}function Ht({className:n,type:e,...t}){return c.jsx("input",{type:e,"data-slot":"input",className:Tt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function fk(){const n=[{number:"01",icon:c.jsx(Kp,{className:"h-8 w-8 text-blue-600"}),title:"Discovery",description:"We dive deep into your business, audience, and goals to understand what drives your success.",details:["Market research","Competitor analysis","Audience personas","Goal setting"]},{number:"02",icon:c.jsx(Ya,{className:"h-8 w-8 text-green-600"}),title:"Strategy",description:"Create a comprehensive roadmap tailored to your specific needs and market opportunities.",details:["Custom strategy","Channel selection","Content planning","Timeline creation"]},{number:"03",icon:c.jsx(NC,{className:"h-8 w-8 text-purple-600"}),title:"Execute",description:"Launch campaigns with precision, ensuring every element aligns with your strategic objectives.",details:["Campaign launch","Content creation","Ad management","Community building"]},{number:"04",icon:c.jsx(kN,{className:"h-8 w-8 text-orange-600"}),title:"Optimize",description:"Continuously monitor, analyze, and refine campaigns for maximum performance and ROI.",details:["Performance tracking","A/B testing","Data analysis","Strategy refinement"]}];return c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"How We Work"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Our proven 4-step methodology ensures your digital marketing campaigns deliver exceptional results from day one."})]}),c.jsx("div",{className:"grid lg:grid-cols-2 gap-12",children:n.map((e,t)=>c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300 relative",children:[c.jsxs("div",{className:"flex items-start mb-6",children:[c.jsxs("div",{className:"flex-shrink-0 mr-6",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.icon}),c.jsx("div",{className:"text-3xl font-bold text-gray-300 text-center",children:e.number})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:e.title}),c.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:e.description}),c.jsx("ul",{className:"space-y-2",children:e.details.map((r,o)=>c.jsxs("li",{className:"flex items-center text-sm text-gray-500",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-3 flex-shrink-0"}),r]},o))})]})]}),t<n.length-1&&c.jsxs("div",{className:"hidden lg:block absolute -right-6 top-1/2 transform -translate-y-1/2",children:[c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-0 h-0 border-l-4 border-l-gray-300 border-y-2 border-y-transparent"})]})]},t))}),c.jsx("div",{className:"mt-16",children:c.jsx("div",{className:"bg-white rounded-3xl p-8 lg:p-12 shadow-lg",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold tracking-wide text-blue-600 uppercase mb-3",children:"Free Course"}),c.jsxs("h3",{className:"text-4xl font-bold text-gray-900 mb-4 leading-tight",children:["Increase Lead Conversion",c.jsx("br",{}),"in 5 Days"]}),c.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"A FREE, 5-day email course breaking down the biggest digital marketing mistakes that cause lower win rates, deals slipping into the next quarter, and a thin pipeline."}),c.jsxs("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col sm:flex-row gap-3 max-w-xl",children:[c.jsx(Ht,{type:"email",required:!0,placeholder:"Email Address",className:"h-12"}),c.jsx(Oe,{type:"submit",className:"h-12 bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap px-6",children:"Send Me Lesson #1"})]})]}),c.jsx("div",{children:c.jsx("div",{className:"bg-gray-100 rounded-2xl p-6 lg:p-10 flex items-center justify-center shadow-inner",children:c.jsx("img",{src:"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?q=80&w=1200&auto=format&fit=crop",alt:"Natural Capital Marketing Blueprint book mockup",className:"w-full h-auto max-w-md rounded-xl shadow-md"})})})]})})})]})})}function $d({className:n,...e}){return c.jsx("textarea",{"data-slot":"textarea",className:Tt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function mk(){const[n,e]=S.useState(""),[t,r]=S.useState(""),[o,a]=S.useState(!1),[u,f]=S.useState({name:"",email:"",phone:"",company:"",message:""}),m=["9:00 AM","10:00 AM","11:00 AM","2:00 PM","3:00 PM","4:00 PM"],g=async E=>{E.preventDefault(),a(!0);try{const k=n,O=x(t),I=new URL("https://calendly.com/your-username/30min");I.searchParams.append("name",u.name),I.searchParams.append("email",u.email),u.phone&&I.searchParams.append("phone",u.phone),u.company&&I.searchParams.append("a1",u.company),u.message&&I.searchParams.append("a2",u.message),I.searchParams.append("date",k),I.searchParams.append("time",O),window.open(I.toString(),"_blank","width=800,height=700,scrollbars=yes,resizable=yes")?(alert(`Redirecting to Calendly to complete your booking for ${n} at ${t}. Your information has been pre-filled!`),e(""),r(""),f({name:"",email:"",phone:"",company:"",message:""})):window.location.href=I.toString()}catch(k){console.error("Booking error:",k),alert("There was an error processing your booking request. Please try again.")}finally{a(!1)}},x=E=>{const[k,O]=E.split(" ");let[I,R]=k.split(":");return I==="12"&&(I="00"),O==="PM"&&(I=(parseInt(I,10)+12).toString()),`${I}:${R}`},_=E=>{f({...u,[E.target.name]:E.target.value})};return c.jsx("section",{id:"booking",className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Book Your Strategy Call Here"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Schedule a free 30-minute consultation to discuss your digital marketing goals and discover how we can help accelerate your growth."})]}),c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-8 lg:p-12",children:c.jsxs("form",{onSubmit:g,className:"grid lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[c.jsx(Tc,{className:"h-6 w-6 mr-3 text-blue-600"}),"Select a Date & Time"]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date"}),c.jsx(Ht,{type:"date",value:n,onChange:E=>e(E.target.value),className:"w-full",min:new Date().toISOString().split("T")[0],required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Time Slots"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map(E=>c.jsxs("button",{type:"button",onClick:()=>r(E),className:`p-3 rounded-lg border text-sm font-medium transition-all ${t===E?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300 text-gray-700 hover:border-blue-600 hover:text-blue-600"}`,children:[c.jsx(Ka,{className:"h-4 w-4 inline mr-2"}),E]},E))})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[c.jsx(Xa,{className:"h-6 w-6 mr-3 text-blue-600"}),"Your Information"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),c.jsx(Ht,{type:"text",name:"name",value:u.name,onChange:_,placeholder:"John Doe",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),c.jsx(Ht,{type:"text",name:"company",value:u.company,onChange:_,placeholder:"Your Company"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),c.jsx(Ht,{type:"email",name:"email",value:u.email,onChange:_,placeholder:"john@company.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsx(Ht,{type:"tel",name:"phone",value:u.phone,onChange:_,placeholder:"+1 (555) 123-4567"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tell us about your goals"}),c.jsx($d,{name:"message",value:u.message,onChange:_,placeholder:"What are your main marketing challenges and goals?",rows:4})]})]}),c.jsxs("div",{className:"lg:col-span-2 text-center pt-6 border-t border-gray-200",children:[c.jsxs(Oe,{type:"submit",size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-12 py-4",disabled:!n||!t||!u.name||!u.email||o,children:[c.jsx(A_,{className:"h-5 w-5 mr-2"}),o?"Booking...":"Book Strategy Call"]}),c.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Free consultation • No commitment required • Powered by Calendly"})]})]})})})]})})}function H0({onPageChange:n}){const e=()=>{n("contact")};return c.jsxs("div",{children:[c.jsx(ak,{onGetStarted:e}),c.jsx(ck,{}),c.jsx(uk,{}),c.jsx(dk,{}),c.jsx(hk,{}),c.jsx(fk,{}),c.jsx(mk,{})]})}function pk({onPageChange:n}){const e=[{icon:c.jsx(Ya,{className:"h-6 w-6 text-blue-600"}),title:"Strategy & Positioning",description:"Clarity on who you serve, why it matters, and how to win attention in crypto-native channels."},{icon:c.jsx(EN,{className:"h-6 w-6 text-green-600"}),title:"Thought Leadership Content",description:"Founder-led narratives, long-form explainers, and educational content that builds authority and trust."},{icon:c.jsx(fC,{className:"h-6 w-6 text-purple-600"}),title:"Social & Distribution",description:"Consistent distribution across LinkedIn, X, and communities to reach investors, partners, and users."},{icon:c.jsx(T_,{className:"h-6 w-6 text-indigo-600"}),title:"Investor-Focused Collateral",description:"Clear pitch materials, product narratives, and simple visuals that communicate value and traction."},{icon:c.jsx(OC,{className:"h-6 w-6 text-emerald-600"}),title:"Research & Insights",description:"Market mapping, competitor scans, and messaging validation to inform smart go-to-market bets."},{icon:c.jsx(Ya,{className:"h-6 w-6 text-orange-600"}),title:"Go-To-Market Execution",description:"Campaign planning, content calendars, and consistent shipping that compounds reach over time."}];return c.jsxs("div",{className:"pt-16",children:[c.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-indigo-100",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:["About ",c.jsx("span",{className:"text-blue-600",children:"MacLabs"})]}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:"MacLabs helps crypto founders, product leaders, and investor-backed teams communicate with clarity, earn trust, and grow faster. We blend crypto-native understanding with practical marketing to turn complex products into simple, compelling stories."}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-8",children:"Born from hands-on experience in trading, investing, and working with Web3 teams, we operate where rigor meets creativity—helping you stand out in a crowded, fast-moving market."}),c.jsx(Oe,{onClick:()=>n("contact"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:"Work With Us"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(vn,{src:"https://images.unsplash.com/photo-1622675363311-3e1904dc1885?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkaXZlcnNlJTIwdGVhbSUyMHByb2Zlc3Npb25hbHMlMjBtZWV0aW5nfGVufDF8fHx8MTc1Nzc3MTA3NHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"MacLabs team collaboration",className:"w-full h-96 object-cover rounded-2xl shadow-2xl"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]})]})})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Our Mission"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"We make crypto products understandable and investable. Whether you are shipping infrastructure, DeFi, or consumer apps, our mission is to translate technical depth into clear stories that attract users, partners, and capital."}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"We believe in accuracy, transparency, and practical execution—pairing strong narratives with distribution that actually moves the needle."})]})})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Ways We Help"}),c.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"Practical support across messaging, content, and distribution—designed for crypto founders and teams."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-lg flex items-center justify-center mb-4",children:t.icon}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),c.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]},r))})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Values We Live By"}),c.jsxs("div",{className:"space-y-6 mx-auto",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg shadow-sm flex items-center justify-center mr-4",children:c.jsx(xN,{className:"h-7 w-7 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Collaborative and Supportive"}),c.jsx("p",{className:"text-gray-600",children:"We win as a team—combining diverse viewpoints to deliver better outcomes, faster."})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg shadow-sm flex items-center justify-center mr-4",children:c.jsx(Qp,{className:"h-7 w-7 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Driven by Passion"}),c.jsx("p",{className:"text-gray-600",children:"Crypto-native curiosity fuels our work—from research to content to distribution."})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-lg shadow-sm flex items-center justify-center mr-4",children:c.jsx(tk,{className:"h-7 w-7 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Committed to Growth"}),c.jsx("p",{className:"text-gray-600",children:"We iterate openly, learn fast, and prioritize what creates real compounding value."})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-lg shadow-sm flex items-center justify-center mr-4",children:c.jsx(Qa,{className:"h-7 w-7 text-rose-500"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Open and Constructive"}),c.jsx("p",{className:"text-gray-600",children:"We communicate with clarity, give direct feedback, and operate with transparency."})]})]}),c.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(Qa,{className:"h-5 w-5 text-red-500 mr-2"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Explore insights and case-style writeups"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Visit our blog for frameworks, founder playbooks, and lessons from the field."}),c.jsx(Oe,{variant:"outline",onClick:()=>n("blog"),className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:"Read Our Blog"})]})]})]})})})]})}function gk({onPageChange:n}){const e=[{icon:c.jsx(P_,{className:"h-12 w-12 text-green-600"}),title:"Crypto Funnel + LinkedIn Growth Package",description:"Our signature offering for crypto founders raising capital. We help you capture and educate investors while building consistent LinkedIn presence — resulting in more trust, followers, and capital raised.",features:["Funnel audit to identify leaks in your investor journey","Compelling opt-in hook investors can't ignore","Educational email course turning cold leads into believers","Professional landing page setup for high conversions","LinkedIn ghostwriting for thought leadership","Newsletter ghostwriting for deeper relationships","Repurposing system: LinkedIn posts into X/Twitter threads","Monthly analytics & iteration reporting","Founder positioning: voice, tone, and narrative development"],deliverable:"Complete investor education funnel + consistent social presence that builds authority",image:"https://images.unsplash.com/photo-1556157382-97eda2d62296?q=80&w=1080&auto=format&fit=crop"},{icon:c.jsx(Ya,{className:"h-12 w-12 text-blue-600"}),title:"Crypto Marketing for Pre-Sales & ICOs",description:"Specialized promotional content for token projects and initial coin offerings. We create compelling campaigns that educate potential investors and drive participation in your funding rounds.",features:["Pre-sale promotional content strategy","ICO marketing campaigns and materials","Investor education content and whitepapers","Landing pages optimized for token sales","Email sequences for lead nurturing and conversion","Social media content for community building","Compliance-aware messaging for regulated markets"],deliverable:"Complete marketing campaign that drives qualified investor interest and participation",image:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=1080&auto=format"}],t=[{icon:c.jsx(Gp,{className:"h-8 w-8"}),title:"Discovery & Audit",description:"Deep dive into your project, target investors, and competitive landscape in the crypto space."},{icon:c.jsx(qN,{className:"h-8 w-8"}),title:"Strategy & Positioning",description:"Develop your founder narrative, investor messaging, and content strategy tailored for crypto audiences."},{icon:c.jsx(sk,{className:"h-8 w-8"}),title:"Content & Funnel Creation",description:"Execute with our proven crypto marketing process: funnels, LinkedIn content, and investor education."},{icon:c.jsx(T_,{className:"h-8 w-8"}),title:"Optimize & Scale",description:"Track performance, refine messaging based on investor feedback, and scale what converts."}];return c.jsxs("div",{className:"pt-16",children:[c.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-indigo-100",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Crypto & Web3"," ",c.jsx("span",{className:"text-blue-600",children:"Marketing That Converts"})]}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed mb-8",children:"Specialized services for crypto founders, DeFi platforms, and Web3 projects. We help you build trust, attract qualified investors, and scale through strategic ghostwriting and targeted crypto marketing."}),c.jsxs(Oe,{onClick:()=>n("contact"),size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:["Get Custom Pricing",c.jsx(La,{className:"ml-2 h-5 w-5"})]})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"What We Do"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Four core services that form the backbone of any successful content operation. Choose individual services or combine them for maximum impact."})]}),c.jsx("div",{className:"grid lg:grid-cols-2 gap-12",children:e.map((r,o)=>c.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 hover:shadow-lg transition-shadow duration-300",children:[c.jsxs("div",{className:"flex items-start mb-6",children:[c.jsx("div",{className:"flex-shrink-0 mr-6",children:c.jsx("div",{className:"w-16 h-16 bg-white rounded-lg shadow-sm flex items-center justify-center",children:r.icon})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:r.title}),c.jsx("div",{className:"text-blue-600 font-medium mb-4",children:"Custom pricing based on your needs"})]})]}),c.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:r.description}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What's included:"}),c.jsx("ul",{className:"space-y-2",children:r.features.map((a,u)=>c.jsxs("li",{className:"flex items-start text-gray-600",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mr-3 mt-2 flex-shrink-0"}),a]},u))})]}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("span",{className:"text-blue-600 font-medium mr-2",children:"📋"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-blue-900",children:"Deliverable: "}),c.jsx("span",{className:"text-blue-700",children:r.deliverable})]})]})})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Oe,{variant:"outline",onClick:()=>n("contact"),className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:"Get Started"}),c.jsx(vn,{src:r.image,alt:r.title,className:"w-20 h-20 rounded-lg object-cover"})]})]},o))})]})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"How We Work"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our proven 4-step process ensures your content operation is built for scale, measurable results, and sustainable growth."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,o)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("div",{className:"text-white",children:r.icon})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:r.title}),c.jsx("p",{className:"text-gray-600",children:r.description}),o<t.length-1&&c.jsx("div",{className:"hidden lg:block absolute top-8 left-full w-8 h-0.5 bg-gray-300 transform -translate-x-4"})]},o))})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"bg-white rounded-3xl p-8 lg:p-12 shadow-lg",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold tracking-wide text-blue-600 uppercase mb-3",children:"Free Course"}),c.jsxs("h3",{className:"text-4xl font-bold text-gray-900 mb-4 leading-tight",children:["Increase Lead Conversion",c.jsx("br",{}),"in 5 Days"]}),c.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"A FREE, 5-day email course breaking down the biggest digital marketing mistakes that cause lower win rates, deals slipping into the next quarter, and a thin pipeline."}),c.jsxs("form",{onSubmit:r=>r.preventDefault(),className:"flex flex-col sm:flex-row gap-3 max-w-xl",children:[c.jsx(Ht,{type:"email",required:!0,placeholder:"Email Address",className:"h-12"}),c.jsx(Oe,{type:"submit",className:"h-12 bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap px-6",children:"Send Me Lesson #1"})]})]}),c.jsx("div",{children:c.jsx("div",{className:"bg-gray-100 rounded-2xl p-6 lg:p-10 flex items-center justify-center shadow-inner",children:c.jsx("img",{src:"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?q=80&w=1200&auto=format&fit=crop",alt:"Natural Capital Marketing Blueprint book mockup",className:"w-full h-auto max-w-md rounded-xl shadow-md"})})})]})})})}),c.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-700",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to turn your crypto expertise into authority and capital?"}),c.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Join Web3 founders and crypto projects who've already built trust and attracted investors with MacLabs. Let's discuss your project and create a custom strategy."}),c.jsx("div",{className:"flex justify-center",children:c.jsx(Oe,{onClick:()=>n("contact"),size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-3",children:"Get Custom Pricing"})})]})})]})}const yk=()=>{};var W0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},vk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],m=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,x=a>>2,_=(a&3)<<4|f>>4;let E=(f&15)<<2|g>>6,k=g&63;m||(k=64,u||(E=64)),r.push(t[x],t[_],t[E],t[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(O_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||g==null||_==null)throw new xk;const E=a<<2|f>>4;if(r.push(E),g!==64){const k=f<<4&240|g>>2;if(r.push(k),_!==64){const O=g<<6&192|_;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wk=function(n){const e=O_(n);return L_.encodeByteArray(e,!0)},Hd=function(n){return wk(n).replace(/\./g,"")},V_=function(n){try{return L_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=()=>_k().__FIREBASE_DEFAULTS__,Ek=()=>{if(typeof process>"u"||typeof W0>"u")return;const n=W0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Tk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&V_(n[1]);return e&&JSON.parse(e)},gh=()=>{try{return yk()||bk()||Ek()||Tk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},F_=n=>gh()?.emulatorHosts?.[n],Sk=n=>{const e=F_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},U_=()=>gh()?.config,z_=n=>gh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hd(JSON.stringify(t)),Hd(JSON.stringify(u)),""].join(".")}const vc={};function Ck(){const n={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?n.emulator.push(e):n.prod.push(e);return n}function kk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let q0=!1;function $_(n,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||vc[n]===e||vc[n]||q0)return;vc[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=Ck().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,k){E.setAttribute("width","24"),E.setAttribute("id",k),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{q0=!0,u()},E}function x(E,k){E.setAttribute("id",k),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=kk(r),k=t("text"),O=document.getElementById(k)||document.createElement("span"),I=t("learnmore"),R=document.getElementById(I)||document.createElement("a"),$=t("preprendIcon"),H=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const W=E.element;f(W),x(R,I);const U=g();m(H,$),W.append(H,O,R,U),document.body.appendChild(W)}a?(O.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ak(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function Pk(){const n=gh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H_(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dk(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Mk(){return!Pk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W_(){try{return typeof indexedDB=="object"}catch{return!1}}function q_(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function Ok(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="FirebaseError";class _r extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Lk,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mo.prototype.create)}}class Mo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Vk(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new _r(o,f,r)}}function Vk(n,e){return n.replace(Fk,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Fk=/\{\$([^}]+)}/g;function Uk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ci(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(G0(a)&&G0(u)){if(!Ci(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function G0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function dc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function zk(n,e){const t=new Bk(n,e);return t.subscribe.bind(t)}class Bk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");$k(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $k(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=1e3,Wk=2,qk=14400*1e3,Gk=.5;function K0(n,e=Hk,t=Wk){const r=e*Math.pow(t,n),o=Math.round(Gk*r*(Math.random()-.5)*2);return Math.min(qk,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class gr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ik;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yk(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qk(n){return n===wo?void 0:n}function Yk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Kk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const Jk={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},Zk=Qe.INFO,eA={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},tA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=eA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yh{constructor(e){this.name=e,this._logLevel=Zk,this._logHandler=tA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const nA=(n,e)=>e.some(t=>n instanceof t);let Q0,Y0;function rA(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sA(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G_=new WeakMap,op=new WeakMap,K_=new WeakMap,Pm=new WeakMap,Yp=new WeakMap;function iA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ti(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&G_.set(t,n)}).catch(()=>{}),Yp.set(e,n),e}function oA(n){if(op.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});op.set(n,e)}let ap={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return op.get(n);if(e==="objectStoreNames")return n.objectStoreNames||K_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ti(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aA(n){ap=n(ap)}function lA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rm(this),e,...t);return K_.set(r,e.sort?e.sort():[e]),Ti(r)}:sA().includes(n)?function(...e){return n.apply(Rm(this),e),Ti(G_.get(this))}:function(...e){return Ti(n.apply(Rm(this),e))}}function cA(n){return typeof n=="function"?lA(n):(n instanceof IDBTransaction&&oA(n),nA(n,rA())?new Proxy(n,ap):n)}function Ti(n){if(n instanceof IDBRequest)return iA(n);if(Pm.has(n))return Pm.get(n);const e=cA(n);return e!==n&&(Pm.set(n,e),Yp.set(e,n)),e}const Rm=n=>Yp.get(n);function Q_(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Ti(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Ti(u.result),m.oldVersion,m.newVersion,Ti(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{a&&m.addEventListener("close",()=>a()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const uA=["get","getKey","getAll","getAllKeys","count"],dA=["put","add","delete","clear"],jm=new Map;function X0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=dA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||uA.includes(t)))return;const a=async function(u,...f){const m=this.transaction(u,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&m.done]))[0]};return jm.set(e,a),a}aA(n=>({...n,get:(e,t,r)=>X0(e,t)||n.get(e,t,r),has:(e,t)=>!!X0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function fA(n){return n.getComponent()?.type==="VERSION"}const lp="@firebase/app",J0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new yh("@firebase/app"),mA="@firebase/app-compat",pA="@firebase/analytics-compat",gA="@firebase/analytics",yA="@firebase/app-check-compat",vA="@firebase/app-check",xA="@firebase/auth",wA="@firebase/auth-compat",_A="@firebase/database",bA="@firebase/data-connect",EA="@firebase/database-compat",TA="@firebase/functions",SA="@firebase/functions-compat",IA="@firebase/installations",NA="@firebase/installations-compat",CA="@firebase/messaging",kA="@firebase/messaging-compat",AA="@firebase/performance",PA="@firebase/performance-compat",RA="@firebase/remote-config",jA="@firebase/remote-config-compat",DA="@firebase/storage",MA="@firebase/storage-compat",OA="@firebase/firestore",LA="@firebase/ai",VA="@firebase/firestore-compat",FA="firebase",UA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",zA={[lp]:"fire-core",[mA]:"fire-core-compat",[gA]:"fire-analytics",[pA]:"fire-analytics-compat",[vA]:"fire-app-check",[yA]:"fire-app-check-compat",[xA]:"fire-auth",[wA]:"fire-auth-compat",[_A]:"fire-rtdb",[bA]:"fire-data-connect",[EA]:"fire-rtdb-compat",[TA]:"fire-fn",[SA]:"fire-fn-compat",[IA]:"fire-iid",[NA]:"fire-iid-compat",[CA]:"fire-fcm",[kA]:"fire-fcm-compat",[AA]:"fire-perf",[PA]:"fire-perf-compat",[RA]:"fire-rc",[jA]:"fire-rc-compat",[DA]:"fire-gcs",[MA]:"fire-gcs-compat",[OA]:"fire-fst",[VA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,BA=new Map,up=new Map;function Z0(n,e){try{n.container.addComponent(e)}catch(t){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ts(n){const e=n.name;if(up.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,n);for(const t of Wd.values())Z0(t,n);for(const t of BA.values())Z0(t,n);return!0}function Oo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function nr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Mo("app","Firebase",$A);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=UA;function Y_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:cp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(t||(t=U_()),!t)throw Si.create("no-options");const a=Wd.get(o);if(a){if(Ci(t,a.options)&&Ci(r,a.config))return a;throw Si.create("duplicate-app",{appName:o})}const u=new Xk(o);for(const m of up.values())u.addComponent(m);const f=new HA(t,r,u);return Wd.set(o,f),f}function Xp(n=cp){const e=Wd.get(n);if(!e&&n===cp&&U_())return Y_();if(!e)throw Si.create("no-app",{appName:n});return e}function sr(n,e,t){let r=zA[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(u.join(" "));return}ts(new gr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebase-heartbeat-database",qA=1,Ic="firebase-heartbeat-store";let Dm=null;function X_(){return Dm||(Dm=Q_(WA,qA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ic)}catch(t){console.warn(t)}}}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),Dm}async function GA(n){try{const t=(await X_()).transaction(Ic),r=await t.objectStore(Ic).get(J_(n));return await t.done,r}catch(e){if(e instanceof _r)ks.warn(e.message);else{const t=Si.create("idb-get",{originalErrorMessage:e?.message});ks.warn(t.message)}}}async function ex(n,e){try{const r=(await X_()).transaction(Ic,"readwrite");await r.objectStore(Ic).put(e,J_(n)),await r.done}catch(t){if(t instanceof _r)ks.warn(t.message);else{const r=Si.create("idb-set",{originalErrorMessage:t?.message});ks.warn(r.message)}}}function J_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1024,QA=30;class YA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>QA){const o=ZA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tx(),{heartbeatsToSend:t,unsentEntries:r}=XA(this._heartbeatsCache.heartbeats),o=Hd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ks.warn(e),""}}}function tx(){return new Date().toISOString().substring(0,10)}function XA(n,e=KA){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),nx(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),nx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class JA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W_()?q_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ex(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ex(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nx(n){return Hd(JSON.stringify({version:2,heartbeats:n})).length}function ZA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){ts(new gr("platform-logger",e=>new hA(e),"PRIVATE")),ts(new gr("heartbeat",e=>new YA(e),"PRIVATE")),sr(lp,J0,n),sr(lp,J0,"esm2020"),sr("fire-js","")}e2("");var rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,Z_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function A(){}A.prototype=T.prototype,C.F=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(D,M,L){for(var P=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)P[Z-2]=arguments[Z];return T.prototype[M].apply(D,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,A){A||(A=0);const D=Array(16);if(typeof T=="string")for(var M=0;M<16;++M)D[M]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(M=0;M<16;++M)D[M]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],M=C.g[2];let L=C.g[3],P;P=T+(L^A&(M^L))+D[0]+3614090360&4294967295,T=A+(P<<7&4294967295|P>>>25),P=L+(M^T&(A^M))+D[1]+3905402710&4294967295,L=T+(P<<12&4294967295|P>>>20),P=M+(A^L&(T^A))+D[2]+606105819&4294967295,M=L+(P<<17&4294967295|P>>>15),P=A+(T^M&(L^T))+D[3]+3250441966&4294967295,A=M+(P<<22&4294967295|P>>>10),P=T+(L^A&(M^L))+D[4]+4118548399&4294967295,T=A+(P<<7&4294967295|P>>>25),P=L+(M^T&(A^M))+D[5]+1200080426&4294967295,L=T+(P<<12&4294967295|P>>>20),P=M+(A^L&(T^A))+D[6]+2821735955&4294967295,M=L+(P<<17&4294967295|P>>>15),P=A+(T^M&(L^T))+D[7]+4249261313&4294967295,A=M+(P<<22&4294967295|P>>>10),P=T+(L^A&(M^L))+D[8]+1770035416&4294967295,T=A+(P<<7&4294967295|P>>>25),P=L+(M^T&(A^M))+D[9]+2336552879&4294967295,L=T+(P<<12&4294967295|P>>>20),P=M+(A^L&(T^A))+D[10]+4294925233&4294967295,M=L+(P<<17&4294967295|P>>>15),P=A+(T^M&(L^T))+D[11]+2304563134&4294967295,A=M+(P<<22&4294967295|P>>>10),P=T+(L^A&(M^L))+D[12]+1804603682&4294967295,T=A+(P<<7&4294967295|P>>>25),P=L+(M^T&(A^M))+D[13]+4254626195&4294967295,L=T+(P<<12&4294967295|P>>>20),P=M+(A^L&(T^A))+D[14]+2792965006&4294967295,M=L+(P<<17&4294967295|P>>>15),P=A+(T^M&(L^T))+D[15]+1236535329&4294967295,A=M+(P<<22&4294967295|P>>>10),P=T+(M^L&(A^M))+D[1]+4129170786&4294967295,T=A+(P<<5&4294967295|P>>>27),P=L+(A^M&(T^A))+D[6]+3225465664&4294967295,L=T+(P<<9&4294967295|P>>>23),P=M+(T^A&(L^T))+D[11]+643717713&4294967295,M=L+(P<<14&4294967295|P>>>18),P=A+(L^T&(M^L))+D[0]+3921069994&4294967295,A=M+(P<<20&4294967295|P>>>12),P=T+(M^L&(A^M))+D[5]+3593408605&4294967295,T=A+(P<<5&4294967295|P>>>27),P=L+(A^M&(T^A))+D[10]+38016083&4294967295,L=T+(P<<9&4294967295|P>>>23),P=M+(T^A&(L^T))+D[15]+3634488961&4294967295,M=L+(P<<14&4294967295|P>>>18),P=A+(L^T&(M^L))+D[4]+3889429448&4294967295,A=M+(P<<20&4294967295|P>>>12),P=T+(M^L&(A^M))+D[9]+568446438&4294967295,T=A+(P<<5&4294967295|P>>>27),P=L+(A^M&(T^A))+D[14]+3275163606&4294967295,L=T+(P<<9&4294967295|P>>>23),P=M+(T^A&(L^T))+D[3]+4107603335&4294967295,M=L+(P<<14&4294967295|P>>>18),P=A+(L^T&(M^L))+D[8]+1163531501&4294967295,A=M+(P<<20&4294967295|P>>>12),P=T+(M^L&(A^M))+D[13]+2850285829&4294967295,T=A+(P<<5&4294967295|P>>>27),P=L+(A^M&(T^A))+D[2]+4243563512&4294967295,L=T+(P<<9&4294967295|P>>>23),P=M+(T^A&(L^T))+D[7]+1735328473&4294967295,M=L+(P<<14&4294967295|P>>>18),P=A+(L^T&(M^L))+D[12]+2368359562&4294967295,A=M+(P<<20&4294967295|P>>>12),P=T+(A^M^L)+D[5]+4294588738&4294967295,T=A+(P<<4&4294967295|P>>>28),P=L+(T^A^M)+D[8]+2272392833&4294967295,L=T+(P<<11&4294967295|P>>>21),P=M+(L^T^A)+D[11]+1839030562&4294967295,M=L+(P<<16&4294967295|P>>>16),P=A+(M^L^T)+D[14]+4259657740&4294967295,A=M+(P<<23&4294967295|P>>>9),P=T+(A^M^L)+D[1]+2763975236&4294967295,T=A+(P<<4&4294967295|P>>>28),P=L+(T^A^M)+D[4]+1272893353&4294967295,L=T+(P<<11&4294967295|P>>>21),P=M+(L^T^A)+D[7]+4139469664&4294967295,M=L+(P<<16&4294967295|P>>>16),P=A+(M^L^T)+D[10]+3200236656&4294967295,A=M+(P<<23&4294967295|P>>>9),P=T+(A^M^L)+D[13]+681279174&4294967295,T=A+(P<<4&4294967295|P>>>28),P=L+(T^A^M)+D[0]+3936430074&4294967295,L=T+(P<<11&4294967295|P>>>21),P=M+(L^T^A)+D[3]+3572445317&4294967295,M=L+(P<<16&4294967295|P>>>16),P=A+(M^L^T)+D[6]+76029189&4294967295,A=M+(P<<23&4294967295|P>>>9),P=T+(A^M^L)+D[9]+3654602809&4294967295,T=A+(P<<4&4294967295|P>>>28),P=L+(T^A^M)+D[12]+3873151461&4294967295,L=T+(P<<11&4294967295|P>>>21),P=M+(L^T^A)+D[15]+530742520&4294967295,M=L+(P<<16&4294967295|P>>>16),P=A+(M^L^T)+D[2]+3299628645&4294967295,A=M+(P<<23&4294967295|P>>>9),P=T+(M^(A|~L))+D[0]+4096336452&4294967295,T=A+(P<<6&4294967295|P>>>26),P=L+(A^(T|~M))+D[7]+1126891415&4294967295,L=T+(P<<10&4294967295|P>>>22),P=M+(T^(L|~A))+D[14]+2878612391&4294967295,M=L+(P<<15&4294967295|P>>>17),P=A+(L^(M|~T))+D[5]+4237533241&4294967295,A=M+(P<<21&4294967295|P>>>11),P=T+(M^(A|~L))+D[12]+1700485571&4294967295,T=A+(P<<6&4294967295|P>>>26),P=L+(A^(T|~M))+D[3]+2399980690&4294967295,L=T+(P<<10&4294967295|P>>>22),P=M+(T^(L|~A))+D[10]+4293915773&4294967295,M=L+(P<<15&4294967295|P>>>17),P=A+(L^(M|~T))+D[1]+2240044497&4294967295,A=M+(P<<21&4294967295|P>>>11),P=T+(M^(A|~L))+D[8]+1873313359&4294967295,T=A+(P<<6&4294967295|P>>>26),P=L+(A^(T|~M))+D[15]+4264355552&4294967295,L=T+(P<<10&4294967295|P>>>22),P=M+(T^(L|~A))+D[6]+2734768916&4294967295,M=L+(P<<15&4294967295|P>>>17),P=A+(L^(M|~T))+D[13]+1309151649&4294967295,A=M+(P<<21&4294967295|P>>>11),P=T+(M^(A|~L))+D[4]+4149444226&4294967295,T=A+(P<<6&4294967295|P>>>26),P=L+(A^(T|~M))+D[11]+3174756917&4294967295,L=T+(P<<10&4294967295|P>>>22),P=M+(T^(L|~A))+D[2]+718787259&4294967295,M=L+(P<<15&4294967295|P>>>17),P=A+(L^(M|~T))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,T){T===void 0&&(T=C.length);const A=T-this.blockSize,D=this.C;let M=this.h,L=0;for(;L<T;){if(M==0)for(;L<=A;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<T;)if(D[M++]=C.charCodeAt(L++),M==this.blockSize){o(this,D),M=0;break}}else for(;L<T;)if(D[M++]=C[L++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=T},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)C[T++]=this.g[A]>>>D&255;return C};function a(C,T){var A=f;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function u(C,T){this.h=T;const A=[];let D=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;D&&L==T||(A[M]=L,D=!1)}this.g=A}var f={};function m(C){return-128<=C&&C<128?a(C,function(T){return new u([T|0],T<0?-1:0)}):new u([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return R(g(-C));const T=[];let A=1;for(let D=0;C>=A;D++)T[D]=C/A|0,A*=4294967296;return new u(T,0)}function x(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return R(x(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(T,8));let D=_;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const P=parseInt(C.substring(L,L+M),T);M<8?(M=g(Math.pow(T,M)),D=D.j(M).add(g(P))):(D=D.j(A),D=D.add(g(P)))}return D}var _=m(0),E=m(1),k=m(16777216);n=u.prototype,n.m=function(){if(I(this))return-R(this).m();let C=0,T=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);C+=(D>=0?D:4294967296+D)*T,T*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(I(this))return"-"+R(this).toString(C);const T=g(Math.pow(C,6));var A=this;let D="";for(;;){const M=U(A,T).g;A=$(A,M.j(T));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=M,O(A))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function I(C){return C.h==-1}n.l=function(C){return C=$(this,C),I(C)?-1:O(C)?0:1};function R(C){const T=C.g.length,A=[];for(let D=0;D<T;D++)A[D]=~C.g[D];return new u(A,~C.h).add(E)}n.abs=function(){return I(this)?R(this):this},n.add=function(C){const T=Math.max(this.g.length,C.g.length),A=[];let D=0;for(let M=0;M<=T;M++){let L=D+(this.i(M)&65535)+(C.i(M)&65535),P=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);D=P>>>16,L&=65535,P&=65535,A[M]=P<<16|L}return new u(A,A[A.length-1]&-2147483648?-1:0)};function $(C,T){return C.add(R(T))}n.j=function(C){if(O(this)||O(C))return _;if(I(this))return I(C)?R(this).j(R(C)):R(R(this).j(C));if(I(C))return R(this.j(R(C)));if(this.l(k)<0&&C.l(k)<0)return g(this.m()*C.m());const T=this.g.length+C.g.length,A=[];for(var D=0;D<2*T;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let M=0;M<C.g.length;M++){const L=this.i(D)>>>16,P=this.i(D)&65535,Z=C.i(M)>>>16,ue=C.i(M)&65535;A[2*D+2*M]+=P*ue,H(A,2*D+2*M),A[2*D+2*M+1]+=L*ue,H(A,2*D+2*M+1),A[2*D+2*M+1]+=P*Z,H(A,2*D+2*M+1),A[2*D+2*M+2]+=L*Z,H(A,2*D+2*M+2)}for(C=0;C<T;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=T;C<2*T;C++)A[C]=0;return new u(A,0)};function H(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function W(C,T){this.g=C,this.h=T}function U(C,T){if(O(T))throw Error("division by zero");if(O(C))return new W(_,_);if(I(C))return T=U(R(C),T),new W(R(T.g),R(T.h));if(I(T))return T=U(C,R(T)),new W(R(T.g),T.h);if(C.g.length>30){if(I(C)||I(T))throw Error("slowDivide_ only works with positive integers.");for(var A=E,D=T;D.l(C)<=0;)A=q(A),D=q(D);var M=ee(A,1),L=ee(D,1);for(D=ee(D,2),A=ee(A,2);!O(D);){var P=L.add(D);P.l(C)<=0&&(M=M.add(A),L=P),D=ee(D,1),A=ee(A,1)}return T=$(C,M.j(T)),new W(M,T)}for(M=_;C.l(T)>=0;){for(A=Math.max(1,Math.floor(C.m()/T.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=g(A),P=L.j(T);I(P)||P.l(C)>0;)A-=D,L=g(A),P=L.j(T);O(L)&&(L=E),M=M.add(L),C=$(C,P)}return new W(M,C)}n.B=function(C){return U(this,C).h},n.and=function(C){const T=Math.max(this.g.length,C.g.length),A=[];for(let D=0;D<T;D++)A[D]=this.i(D)&C.i(D);return new u(A,this.h&C.h)},n.or=function(C){const T=Math.max(this.g.length,C.g.length),A=[];for(let D=0;D<T;D++)A[D]=this.i(D)|C.i(D);return new u(A,this.h|C.h)},n.xor=function(C){const T=Math.max(this.g.length,C.g.length),A=[];for(let D=0;D<T;D++)A[D]=this.i(D)^C.i(D);return new u(A,this.h^C.h)};function q(C){const T=C.g.length+1,A=[];for(let D=0;D<T;D++)A[D]=C.i(D)<<1|C.i(D-1)>>>31;return new u(A,C.h)}function ee(C,T){const A=T>>5;T%=32;const D=C.g.length-A,M=[];for(let L=0;L<D;L++)M[L]=T>0?C.i(L+A)>>>T|C.i(L+A+1)<<32-T:C.i(L+A);return new u(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Z_=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=x,Ii=u}).apply(typeof rx<"u"?rx:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eb,hc,tb,Id,dp,nb,rb,sb;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var v=0;v<d.length;++v){var w=d[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function o(d,v){if(v)e:{var w=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var K=d[N];if(!(K in w))break e;w=w[K]}d=d[d.length-1],N=w[d],v=v(N),v!=N&&v!=null&&e(w,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var w=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&w.push([N,v[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,w){return d.call.apply(d.bind,arguments)}function g(d,v,w){return g=m,g.apply(null,arguments)}function x(d,v){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function _(d,v){function w(){}w.prototype=v.prototype,d.Z=v.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(N,K,X){for(var me=Array(arguments.length-2),He=2;He<arguments.length;He++)me[He-2]=arguments[He];return v.prototype[K].apply(N,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function k(d){const v=d.length;if(v>0){const w=Array(v);for(let N=0;N<v;N++)w[N]=d[N];return w}return[]}function O(d,v){for(let N=1;N<arguments.length;N++){const K=arguments[N];var w=typeof K;if(w=w!="object"?w:K?Array.isArray(K)?"array":w:"null",w=="array"||w=="object"&&typeof K.length=="number"){w=d.length||0;const X=K.length||0;d.length=w+X;for(let me=0;me<X;me++)d[w+me]=K[me]}else d.push(K)}}class I{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function R(d){u.setTimeout(()=>{throw d},0)}function $(){var d=C;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,w){const N=W.get();N.set(v,w),this.h?this.h.next=N:this.g=N,this.h=N}}var W=new I(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let q,ee=!1,C=new H,T=()=>{const d=Promise.resolve(void 0);q=()=>{d.then(A)}};function A(){for(var d;d=$();){try{d.h.call(d.g)}catch(w){R(w)}var v=W;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}ee=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return d})();function P(d){return/^[\s\xa0]*$/.test(d)}function Z(d,v){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(Z,M),Z.prototype.init=function(d,v){const w=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(w=="mouseover"?v=d.fromElement:w=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),ge=0;function ae(d,v,w,N,K){this.listener=d,this.proxy=null,this.src=v,this.type=w,this.capture=!!N,this.ha=K,this.key=++ge,this.da=this.fa=!1}function F(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function fe(d,v,w){for(const N in d)v.call(w,d[N],N,d)}function he(d,v){for(const w in d)v.call(void 0,d[w],w,d)}function B(d){const v={};for(const w in d)v[w]=d[w];return v}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(d,v){let w,N;for(let K=1;K<arguments.length;K++){N=arguments[K];for(w in N)d[w]=N[w];for(let X=0;X<ne.length;X++)w=ne[X],Object.prototype.hasOwnProperty.call(N,w)&&(d[w]=N[w])}}function xe(d){this.src=d,this.g={},this.h=0}xe.prototype.add=function(d,v,w,N,K){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const me=Le(d,v,N,K);return me>-1?(v=d[me],w||(v.fa=!1)):(v=new ae(v,this.src,X,!!N,K),v.fa=w,d.push(v)),v};function je(d,v){const w=v.type;if(w in d.g){var N=d.g[w],K=Array.prototype.indexOf.call(N,v,void 0),X;(X=K>=0)&&Array.prototype.splice.call(N,K,1),X&&(F(v),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Le(d,v,w,N){for(let K=0;K<d.length;++K){const X=d[K];if(!X.da&&X.listener==v&&X.capture==!!w&&X.ha==N)return K}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Ie={};function De(d,v,w,N,K){if(Array.isArray(v)){for(let X=0;X<v.length;X++)De(d,v[X],w,N,K);return null}return w=Os(w),d&&d[ue]?d.J(v,w,f(N)?!!N.capture:!1,K):Ue(d,v,w,!1,N,K)}function Ue(d,v,w,N,K,X){if(!v)throw Error("Invalid event type");const me=f(K)?!!K.capture:!!K;let He=Wn(d);if(He||(d[le]=He=new xe(d)),w=He.add(v,w,N,me,X),w.proxy)return w;if(N=Ke(),w.proxy=N,N.src=d,N.listener=w,d.addEventListener)L||(K=me),K===void 0&&(K=!1),d.addEventListener(v.toString(),N,K);else if(d.attachEvent)d.attachEvent(rn(v.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ke(){function d(w){return v.call(d.src,d.listener,w)}const v=Er;return d}function et(d,v,w,N,K){if(Array.isArray(v))for(var X=0;X<v.length;X++)et(d,v[X],w,N,K);else N=f(N)?!!N.capture:!!N,w=Os(w),d&&d[ue]?(d=d.i,X=String(v).toString(),X in d.g&&(v=d.g[X],w=Le(v,w,N,K),w>-1&&(F(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete d.g[X],d.h--)))):d&&(d=Wn(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Le(v,w,N,K)),(w=d>-1?v[d]:null)&&wt(w))}function wt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ue])je(v.i,d);else{var w=d.type,N=d.proxy;v.removeEventListener?v.removeEventListener(w,N,d.capture):v.detachEvent?v.detachEvent(rn(w),N):v.addListener&&v.removeListener&&v.removeListener(N),(w=Wn(v))?(je(w,d),w.h==0&&(w.src=null,v[le]=null)):F(d)}}}function rn(d){return d in Ie?Ie[d]:Ie[d]="on"+d}function Er(d,v){if(d.da)d=!0;else{v=new Z(v,this);const w=d.listener,N=d.ha||d.src;d.fa&&wt(d),d=w.call(N,v)}return d}function Wn(d){return d=d[le],d instanceof xe?d:null}var at="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(d){return typeof d=="function"?d:(d[at]||(d[at]=function(v){return d.handleEvent(v)}),d[at])}function It(){D.call(this),this.i=new xe(this),this.M=this,this.G=null}_(It,D),It.prototype[ue]=!0,It.prototype.removeEventListener=function(d,v,w,N){et(this,d,v,w,N)};function _t(d,v){var w,N=d.G;if(N)for(w=[];N;N=N.G)w.push(N);if(d=d.M,N=v.type||v,typeof v=="string")v=new M(v,d);else if(v instanceof M)v.target=v.target||d;else{var K=v;v=new M(N,d),_e(v,K)}K=!0;let X,me;if(w)for(me=w.length-1;me>=0;me--)X=v.g=w[me],K=Cn(X,N,!0,v)&&K;if(X=v.g=d,K=Cn(X,N,!0,v)&&K,K=Cn(X,N,!1,v)&&K,w)for(me=0;me<w.length;me++)X=v.g=w[me],K=Cn(X,N,!1,v)&&K}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const w=d.g[v];for(let N=0;N<w.length;N++)F(w[N]);delete d.g[v],d.h--}}this.G=null},It.prototype.J=function(d,v,w,N){return this.i.add(String(d),v,!1,w,N)},It.prototype.K=function(d,v,w,N){return this.i.add(String(d),v,!0,w,N)};function Cn(d,v,w,N){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let K=!0;for(let X=0;X<v.length;++X){const me=v[X];if(me&&!me.da&&me.capture==w){const He=me.listener,At=me.ha||me.src;me.fa&&je(d.i,me),K=He.call(At,N)!==!1&&K}}return K&&!N.defaultPrevented}function Ls(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function Hi(d){d.g=Ls(()=>{d.g=null,d.i&&(d.i=!1,Hi(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Uo extends D{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(d){D.call(this),this.h=d,this.g={}}_(Tr,D);var Wi=[];function Vs(d){fe(d.g,function(v,w){this.g.hasOwnProperty(w)&&wt(v)},d),d.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),Vs(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=u.JSON.stringify,J=u.JSON.parse,se=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ce(){}function Me(){}var ze={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ft(){M.call(this,"d")}_(ft,M);function ut(){M.call(this,"c")}_(ut,M);var Nt={},pn=null;function kn(){return pn=pn||new It}Nt.Ia="serverreachability";function zo(d){M.call(this,Nt.Ia,d)}_(zo,M);function is(d){const v=kn();_t(v,new zo(v))}Nt.STAT_EVENT="statevent";function os(d,v){M.call(this,Nt.STAT_EVENT,d),this.stat=v}_(os,M);function Ct(d){const v=kn();_t(v,new os(v,d))}Nt.Ja="timingevent";function xl(d,v){M.call(this,Nt.Ja,d),this.size=v}_(xl,M);function Fs(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Us(){this.g=!0}Us.prototype.ua=function(){this.g=!1};function eu(d,v,w,N,K,X){d.info(function(){if(d.g)if(X){var me="",He=X.split("&");for(let it=0;it<He.length;it++){var At=He[it].split("=");if(At.length>1){const Mt=At[0];At=At[1];const Mn=Mt.split("_");me=Mn.length>=2&&Mn[1]=="type"?me+(Mt+"="+At+"&"):me+(Mt+"=redacted&")}}}else me=null;else me=X;return"XMLHTTP REQ ("+N+") [attempt "+K+"]: "+v+`
`+w+`
`+me})}function tu(d,v,w,N,K,X,me){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+K+"]: "+v+`
`+w+`
`+X+" "+me})}function Ir(d,v,w,N){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+qi(d,w)+(N?" "+N:"")})}function nu(d,v){d.info(function(){return"TIMEOUT: "+v})}Us.prototype.info=function(){};function qi(d,v){if(!d.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var w=X[d];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var K=N[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<N.length;me++)N[me]=""}}}}return Sr(X)}catch{return v}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ru;function as(){}_(as,Ce),as.prototype.g=function(){return new XMLHttpRequest},ru=new as;function Nr(d){return encodeURIComponent(String(d))}function Bo(d){var v=1;d=d.split(":");const w=[];for(;v>0&&d.length;)w.push(d.shift()),v--;return d.length&&w.push(d.join(":")),w}function qn(d,v,w,N){this.j=d,this.i=v,this.l=w,this.S=N||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var iu={},wl={};function ir(d,v,w){d.M=1,d.A=cs(Gn(v)),d.u=w,d.R=!0,_l(d,null)}function _l(d,v){d.F=Date.now(),Gi(d),d.B=Gn(d.A);var w=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Pl(w.i,"t",N),d.C=0,w=d.j.L,d.h=new su,d.g=pu(d.j,w?v:null,!d.u),d.P>0&&(d.O=new Uo(g(d.Y,d,d.g),d.P)),v=d.V,w=d.g,N=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(Wi[0]=K.toString()),K=Wi);for(let X=0;X<K.length;X++){const me=De(w,K[X],N||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=d.J?B(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),is(),eu(d.i,d.v,d.B,d.l,d.S,d.u)}qn.prototype.ba=function(d){d=d.target;const v=this.O;v&&Dr(d)==3?v.j():this.Y(d)},qn.prototype.Y=function(d){try{if(d==this.g)e:{const He=Dr(this.g),At=this.g.ya(),it=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||fu(this.g)))){this.K||He!=4||At==7||(At==8||it<=0?is(3):is(2)),$o(this);var v=this.g.ca();this.X=v;var w=ou(this);if(this.o=v==200,tu(this.i,this.v,this.B,this.l,this.S,He,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,K=this.g;if((N=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var X=N;break t}}X=null}if(d=X)Ir(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mt(this,d);else{this.o=!1,this.m=3,Ct(12),ls(this),Ki(this);break e}}if(this.R){d=!0;let Mt;for(;!this.K&&this.C<w.length;)if(Mt=lu(this,w),Mt==wl){He==4&&(this.m=4,Ct(14),d=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==iu){this.m=4,Ct(15),Ir(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else Ir(this.i,this.l,Mt,null),mt(this,Mt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||w.length!=0||this.h.h||(this.m=1,Ct(16),d=!1),this.o=this.o&&d,!d)Ir(this.i,this.l,w,"[Invalid Chunked Response]"),ls(this),Ki(this);else if(w.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ro(me),me.P=!0,Ct(11))}}else Ir(this.i,this.l,w,null),mt(this,w);He==4&&ls(this),this.o&&!this.K&&(He==4?Zo(this.j,this):(this.o=!1,Gi(this)))}else jl(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),ls(this),Ki(this)}}}catch{}finally{}};function ou(d){if(!au(d))return d.g.la();const v=fu(d.g);if(v==="")return"";let w="";const N=v.length,K=Dr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return ls(d),Ki(d),"";d.h.i=new u.TextDecoder}for(let X=0;X<N;X++)d.h.h=!0,w+=d.h.i.decode(v[X],{stream:!(K&&X==N-1)});return v.length=0,d.h.g+=w,d.C=0,d.h.g}function au(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function lu(d,v){var w=d.C,N=v.indexOf(`
`,w);return N==-1?wl:(w=Number(v.substring(w,N)),isNaN(w)?iu:(N+=1,N+w>v.length?wl:(v=v.slice(N,N+w),d.C=N+w,v)))}qn.prototype.cancel=function(){this.K=!0,ls(this)};function Gi(d){d.T=Date.now()+d.H,bl(d,d.H)}function bl(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Fs(g(d.aa,d),v)}function $o(d){d.D&&(u.clearTimeout(d.D),d.D=null)}qn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(nu(this.i,this.B),this.M!=2&&(is(),Ct(17)),ls(this),this.m=2,Ki(this)):bl(this,this.T-d)};function Ki(d){d.j.I==0||d.K||Zo(d.j,d)}function ls(d){$o(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Vs(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function mt(d,v){try{var w=d.j;if(w.I!=0&&(w.g==d||Tl(w.h,d))){if(!d.L&&Tl(w.h,d)&&w.I==3){try{var N=w.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var K=N;if(K[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)Jo(w),jn(w);else break e;Lr(w),Ct(18)}}else w.xa=K[1],0<w.xa-w.K&&K[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Fs(g(w.Va,w),6e3));Qi(w.h)<=1&&w.ta&&(w.ta=void 0)}else Dn(w,11)}else if((d.L||w.g==d)&&Jo(w),!P(v))for(K=w.Ba.g.parse(v),v=0;v<K.length;v++){let it=K[v];const Mt=it[0];if(!(Mt<=w.K))if(w.K=Mt,it=it[1],w.I==2)if(it[0]=="c"){w.M=it[1],w.ba=it[2];const Mn=it[3];Mn!=null&&(w.ka=Mn,w.j.info("VER="+w.ka));const ms=it[4];ms!=null&&(w.za=ms,w.j.info("SVER="+w.za));const Vr=it[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(N=1.5*Vr,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Fr=d.g;if(Fr){const na=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var X=N.h;X.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Wo(X,X.h),X.h=null))}if(N.G){const Ol=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(N.wa=Ol,rt(N.J,N.G,Ol))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var me=d;if(N.na=Ml(N,N.L?N.ba:null,N.W),me.L){Yi(N.h,me);var He=me,At=N.O;At&&(He.H=At),He.D&&($o(He),Gi(He)),N.g=me}else sn(N);w.i.length>0&&fs(w)}else it[0]!="stop"&&it[0]!="close"||Dn(w,7);else w.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Dn(w,7):Yo(w):it[0]!="noop"&&w.l&&w.l.qa(it),w.A=0)}}is(4)}catch{}}var Jh=class{constructor(d,v){this.g=d,this.map=v}};function Ho(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function El(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qi(d){return d.h?1:d.g?d.g.size:0}function Tl(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Wo(d,v){d.g?d.g.add(v):d.h=v}function Yi(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Ho.prototype.cancel=function(){if(this.i=An(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function An(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const w of d.g.values())v=v.concat(w.G);return v}return k(d.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pn(d,v){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const N=d[w].indexOf("=");let K,X=null;N>=0?(K=d[w].substring(0,N),X=d[w].substring(N+1)):K=d[w],v(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Cr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Cr?(this.l=d.l,Xi(this,d.j),this.o=d.o,this.g=d.g,kr(this,d.u),this.h=d.h,$s(this,Rl(d.i)),this.m=d.m):d&&(v=String(d).match(cu))?(this.l=!1,Xi(this,v[1]||"",!0),this.o=Ji(v[2]||""),this.g=Ji(v[3]||"",!0),kr(this,v[4]),this.h=Ji(v[5]||"",!0),$s(this,v[6]||"",!0),this.m=Ji(v[7]||"")):(this.l=!1,this.i=new Je(null,this.l))}Cr.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Zi(v,Il,!0),":");var w=this.g;return(w||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Zi(v,Il,!0),"@"),d.push(Nr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Zi(w,w.charAt(0)=="/"?eo:Nl,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Zi(w,Cl)),d.join("")},Cr.prototype.resolve=function(d){const v=Gn(this);let w=!!d.j;w?Xi(v,d.j):w=!!d.o,w?v.o=d.o:w=!!d.g,w?v.g=d.g:w=d.u!=null;var N=d.h;if(w)kr(v,d.u);else if(w=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var K=v.h.lastIndexOf("/");K!=-1&&(N=v.h.slice(0,K+1)+N)}if(K=N,K==".."||K==".")N="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){N=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let me=0;me<K.length;){const He=K[me++];He=="."?N&&me==K.length&&X.push(""):He==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),N&&me==K.length&&X.push("")):(X.push(He),N=!0)}N=X.join("/")}else N=K}return w?v.h=N:w=d.i.toString()!=="",w?$s(v,Rl(d.i)):w=!!d.m,w&&(v.m=d.m),v};function Gn(d){return new Cr(d)}function Xi(d,v,w){d.j=w?Ji(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function kr(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function $s(d,v,w){v instanceof Je?(d.i=v,Go(d.i,d.l)):(w||(v=Zi(v,Zh)),d.i=new Je(v,d.l))}function rt(d,v,w){d.i.set(v,w)}function cs(d){return rt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ji(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zi(d,v,w){return typeof d=="string"?(d=encodeURI(d).replace(v,Sl),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Sl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Il=/[#\/\?@]/g,Nl=/[#\?:]/g,eo=/[#\?]/g,Zh=/[#\?@]/g,Cl=/#/g;function Je(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Ar(d){d.g||(d.g=new Map,d.h=0,d.i&&Pn(d.i,function(v,w){d.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Je.prototype,n.add=function(d,v){Ar(this),this.i=null,d=Pr(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(v),this.h+=1,this};function kl(d,v){Ar(d),v=Pr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function qo(d,v){return Ar(d),v=Pr(d,v),d.g.has(v)}n.forEach=function(d,v){Ar(this),this.g.forEach(function(w,N){w.forEach(function(K){d.call(v,K,N,this)},this)},this)};function Al(d,v){Ar(d);let w=[];if(typeof v=="string")qo(d,v)&&(w=w.concat(d.g.get(Pr(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)w=w.concat(d[v]);return w}n.set=function(d,v){return Ar(this),this.i=null,d=Pr(this,d),qo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Al(this,d),d.length>0?String(d[0]):v):v};function Pl(d,v,w){kl(d,v),w.length>0&&(d.i=null,d.g.set(Pr(d,v),k(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var w=v[N];const K=Nr(w);w=Al(this,w);for(let X=0;X<w.length;X++){let me=K;w[X]!==""&&(me+="="+Nr(w[X])),d.push(me)}}return this.i=d.join("&")};function Rl(d){const v=new Je;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Pr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Go(d,v){v&&!d.j&&(Ar(d),d.i=null,d.g.forEach(function(w,N){const K=N.toLowerCase();N!=K&&(kl(this,N),Pl(this,K,w))},d)),d.j=v}function Rr(d,v){const w=new Us;if(u.Image){const N=new Image;N.onload=x(Yt,w,"TestLoadImage: loaded",!0,v,N),N.onerror=x(Yt,w,"TestLoadImage: error",!1,v,N),N.onabort=x(Yt,w,"TestLoadImage: abort",!1,v,N),N.ontimeout=x(Yt,w,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else v(!1)}function jr(d,v){const w=new Us,N=new AbortController,K=setTimeout(()=>{N.abort(),Yt(w,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:N.signal}).then(X=>{clearTimeout(K),X.ok?Yt(w,"TestPingServer: ok",!0,v):Yt(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),Yt(w,"TestPingServer: error",!1,v)})}function Yt(d,v,w,N,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),N(w)}catch{}}function to(){this.g=new se}function us(d){this.i=d.Sb||null,this.h=d.ab||!1}_(us,Ce),us.prototype.g=function(){return new Rn(this.i,this.h)};function Rn(d,v){It.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Rn,It),n=Rn.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,or(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function uu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Hs(this):or(this),this.readyState==3&&uu(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Hs(this))},n.Na=function(d){this.g&&(this.response=d,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,or(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=v.next();return d.join(`\r
`)};function or(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Rn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function du(d){let v="";return fe(d,function(w,N){v+=N,v+=":",v+=w,v+=`\r
`}),v}function Ko(d,v,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=du(w),typeof d=="string"?w!=null&&Nr(w):rt(d,v,w))}function lt(d){It.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(lt,It);var hu=/^https?$/i,ef=["POST","PUT"];n=lt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ru.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){Ws(this,X);return}if(d=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var K in N)w.set(K,N[K]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const X of N.keys())w.set(X,N.get(X));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),K=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(ef,v,void 0)>=0)||N||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,me]of w)this.g.setRequestHeader(X,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){Ws(this,X)}};function Ws(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,qs(d),hs(d)}function qs(d){d.A||(d.A=!0,_t(d,"complete"),_t(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,_t(this,"complete"),_t(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},n.Xa=function(){ds(this)};function ds(d){if(d.h&&typeof a<"u"){if(d.v&&Dr(d)==4)setTimeout(d.Ca.bind(d),0);else if(_t(d,"readystatechange"),Dr(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var N;if(N=X===0){let me=String(d.D).match(cu)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),N=!hu.test(me?me.toLowerCase():"")}w=N}if(w)_t(d,"complete"),_t(d,"success");else{d.o=6;try{var K=Dr(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",qs(d)}}finally{hs(d)}}}}function hs(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,v||_t(d,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Dr(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),J(v)}};function fu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function jl(d){const v={};d=(d.g&&Dr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var w=Bo(d[N]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=v[K]||[];v[K]=X,X.push(w)}he(v,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(d,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||v}function Qo(d){this.za=0,this.i=[],this.j=new Us,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mr("baseRetryDelayMs",5e3,d),this.Za=Mr("retryDelaySeedMs",1e4,d),this.Ta=Mr("forwardChannelMaxRetries",2,d),this.va=Mr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(d&&d.concurrentRequestLimit),this.Ba=new to,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qo.prototype,n.ka=8,n.I=1,n.connect=function(d,v,w,N){Ct(0),this.W=d,this.H=v||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=Ml(this,null,this.W),fs(this)};function Yo(d){if(Xo(d),d.I==3){var v=d.V++,w=Gn(d.J);if(rt(w,"SID",d.M),rt(w,"RID",v),rt(w,"TYPE","terminate"),Or(d,w),v=new qn(d,d.j,v),v.M=2,v.A=cs(Gn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=pu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Gi(v)}so(d)}function jn(d){d.g&&(ro(d),d.g.cancel(),d.g=null)}function Xo(d){jn(d),d.v&&(u.clearTimeout(d.v),d.v=null),Jo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function fs(d){if(!El(d.h)&&!d.m){d.m=!0;var v=d.Ea;q||T(),ee||(q(),ee=!0),C.add(v,d),d.D=0}}function mu(d,v){return Qi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Fs(g(d.Ea,d,v),ea(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new qn(this,this.j,d);let X=this.o;if(this.U&&(X?(X=B(X),_e(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Dl(this,K,v),w=Gn(this.J),rt(w,"RID",d),rt(w,"CVER",22),this.G&&rt(w,"X-HTTP-Session-Id",this.G),Or(this,w),X&&(this.R?v="headers="+Nr(du(X))+"&"+v:this.u&&Ko(w,this.u,X)),Wo(this.h,K),this.Ra&&rt(w,"TYPE","init"),this.S?(rt(w,"$req",v),rt(w,"SID","null"),K.U=!0,ir(K,w,null)):ir(K,w,v),this.I=2}}else this.I==3&&(d?no(this,d):this.i.length==0||El(this.h)||no(this))};function no(d,v){var w;v?w=v.l:w=d.V++;const N=Gn(d.J);rt(N,"SID",d.M),rt(N,"RID",w),rt(N,"AID",d.K),Or(d,N),d.u&&d.o&&Ko(N,d.u,d.o),w=new qn(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Dl(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Wo(d.h,w),ir(w,N,v)}function Or(d,v){d.H&&fe(d.H,function(w,N){rt(v,N,w)}),d.l&&fe({},function(w,N){rt(v,N,w)})}function Dl(d,v,w){w=Math.min(d.i.length,w);const N=d.l?g(d.l.Ka,d.l,d):null;e:{var K=d.i;let He=-1;for(;;){const At=["count="+w];He==-1?w>0?(He=K[0].g,At.push("ofs="+He)):He=0:At.push("ofs="+He);let it=!0;for(let Mt=0;Mt<w;Mt++){var X=K[Mt].g;const Mn=K[Mt].map;if(X-=He,X<0)He=Math.max(0,K[Mt].g-100),it=!1;else try{X="req"+X+"_"||"";try{var me=Mn instanceof Map?Mn:Object.entries(Mn);for(const[ms,Vr]of me){let Fr=Vr;f(Vr)&&(Fr=Sr(Vr)),At.push(X+ms+"="+encodeURIComponent(Fr))}}catch(ms){throw At.push(X+"type="+encodeURIComponent("_badmap")),ms}}catch{N&&N(Mn)}}if(it){me=At.join("&");break e}}me=void 0}return d=d.i.splice(0,w),v.G=d,me}function sn(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;q||T(),ee||(q(),ee=!0),C.add(v,d),d.A=0}}function Lr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Fs(g(d.Da,d),ea(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Gs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Fs(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),jn(this),Gs(this))};function ro(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Gs(d){d.g=new qn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Gn(d.na);rt(v,"RID","rpc"),rt(v,"SID",d.M),rt(v,"AID",d.K),rt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&rt(v,"TO",d.ia),rt(v,"TYPE","xmlhttp"),Or(d,v),d.u&&d.o&&Ko(v,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=cs(Gn(v)),w.u=null,w.R=!0,_l(w,d)}n.Va=function(){this.C!=null&&(this.C=null,jn(this),Lr(this),Ct(19))};function Jo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Zo(d,v){var w=null;if(d.g==v){Jo(d),ro(d),d.g=null;var N=2}else if(Tl(d.h,v))w=v.G,Yi(d.h,v),N=1;else return;if(d.I!=0){if(v.o)if(N==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var K=d.D;N=kn(),_t(N,new xl(N,w)),fs(d)}else sn(d);else if(K=v.m,K==3||K==0&&v.X>0||!(N==1&&mu(d,v)||N==2&&Lr(d)))switch(w&&w.length>0&&(v=d.h,v.i=v.i.concat(w)),K){case 1:Dn(d,5);break;case 4:Dn(d,10);break;case 3:Dn(d,6);break;default:Dn(d,2)}}}function ea(d,v){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*v}function Dn(d,v){if(d.j.info("Error code "+v),v==2){var w=g(d.bb,d),N=d.Ua;const K=!N;N=new Cr(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xi(N,"https"),cs(N),K?Rr(N.toString(),w):jr(N.toString(),w)}else Ct(2);d.I=0,d.l&&d.l.pa(v),so(d),Xo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function so(d){if(d.I=0,d.ja=[],d.l){const v=An(d.h);(v.length!=0||d.i.length!=0)&&(O(d.ja,v),O(d.ja,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.oa()}}function Ml(d,v,w){var N=w instanceof Cr?Gn(w):new Cr(w);if(N.g!="")v&&(N.g=v+"."+N.g),kr(N,N.u);else{var K=u.location;N=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;const X=new Cr(null);N&&Xi(X,N),v&&(X.g=v),K&&kr(X,K),w&&(X.h=w),N=X}return w=d.G,v=d.wa,w&&v&&rt(N,w,v),rt(N,"VER",d.ka),Or(d,N),N}function pu(d,v,w){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new lt(new us({ab:w})):new lt(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}n=gu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ta(){}ta.prototype.g=function(d,v){return new Xt(d,v)};function Xt(d,v){It.call(this),this.g=new Qo(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!P(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!P(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ks(this)}_(Xt,It),Xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Yo(this.g)},Xt.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=Sr(d),d=w);v.i.push(new Jh(v.Ya++,d)),v.I==3&&fs(v)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,Xt.Z.N.call(this)};function yu(d){ft.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const w in v){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(yu,ft);function vu(){ut.call(this),this.status=1}_(vu,ut);function Ks(d){this.g=d}_(Ks,gu),Ks.prototype.ra=function(){_t(this.g,"a")},Ks.prototype.qa=function(d){_t(this.g,new yu(d))},Ks.prototype.pa=function(d){_t(this.g,new vu)},Ks.prototype.oa=function(){_t(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,sb=function(){return new ta},rb=function(){return kn()},nb=Nt,dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Id=zs,Bs.COMPLETE="complete",tb=Bs,Me.EventType=ze,ze.OPEN="a",ze.CLOSE="b",ze.ERROR="c",ze.MESSAGE="d",It.prototype.listen=It.prototype.J,hc=Me,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,eb=lt}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const sx="@firebase/firestore",ix="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new yh("@firebase/firestore");function ka(){return To.logLevel}function we(n,...e){if(To.logLevel<=Qe.DEBUG){const t=e.map(Jp);To.debug(`Firestore (${cl}): ${n}`,...t)}}function As(n,...e){if(To.logLevel<=Qe.ERROR){const t=e.map(Jp);To.error(`Firestore (${cl}): ${n}`,...t)}}function Ja(n,...e){if(To.logLevel<=Qe.WARN){const t=e.map(Jp);To.warn(`Firestore (${cl}): ${n}`,...t)}}function Jp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ib(n,r,t)}function ib(n,e,t){let r=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw As(r),new Error(r)}function st(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||ib(e,o,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends _r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class n2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class r2{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let a=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ns,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const m=a;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},f=m=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ns)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new ob(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class s2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new s2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ox{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ox(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ox(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=a2(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function hp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Mm(o)===Mm(a)?Ye(o,a):Mm(o)?1:-1}return Ye(n.length,e.length)}const l2=55296,c2=57343;function Mm(n){const e=n.charCodeAt(0);return e>=l2&&e<=c2}function Za(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="__name__";class Wr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Wr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ye(e.length,t.length)}static compareSegments(e,t){const r=Wr.isNumericId(e),o=Wr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Wr.extractNumericId(e).compare(Wr.extractNumericId(t)):hp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ii.fromString(e.substring(4,e.length-2))}}class ht extends Wr{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const u2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Wr{construct(e,t,r){return new tn(e,t,r)}static isValidIdentifier(e){return u2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ax}static keyField(){return new tn([ax])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ht.fromString(e))}static fromName(e){return new Ae(ht.fromString(e).popFirst(5))}static empty(){return new Ae(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n,e,t){if(!t)throw new pe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function d2(n,e,t,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lx(n){if(!Ae.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cx(n){if(Ae.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function Ps(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vh(n);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function h2(n,e){if(e<=0)throw new pe(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e){const t={typeString:n};return e&&(t.value=e),t}function zc(n,e){if(!lb(n))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=-62135596800,dx=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*dx);return new vt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ux)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dx}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ux;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Ft("string",vt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new vt(0,0))}static max(){return new $e(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=-1;function f2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new vt(t+1,0):new vt(t,r));return new ki(o,Ae.empty(),e)}function m2(n){return new ki(n.readTime,n.key,Nc)}class ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ki($e.min(),Ae.empty(),Nc)}static max(){return new ki($e.max(),Ae.empty(),Nc)}}function p2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==g2)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let o=0,a=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++a,u&&a===o&&t()}),(m=>r(m)))})),u=!0,a===o&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((o=>o?re.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let m=0;m<a;m++){const g=m;t(e[g]).next((x=>{u[g]=x,++f,f===a&&r(u)}),(x=>o(x)))}}))}static doWhile(e,t){return new re(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function v2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function wh(n){return n==null}function qd(n){return n===0&&1/n==-1/0}function x2(n){return typeof n=="number"&&Number.isInteger(n)&&!qd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="";function w2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hx(e)),e=_2(n.get(t),e);return hx(e)}function _2(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case cb:t+="";break;default:t+=a}}return t}function hx(n){return n+cb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Li(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ub(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new en(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(e){return new mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new Wt(tn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new db("Invalid base64 string: "+a):a}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(n){if(st(!!n,39018),typeof n=="string"){let e=0;const t=b2.exec(n);if(st(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pi(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="server_timestamp",fb="__type__",mb="__previous_value__",pb="__local_write_time__";function tg(n){return(n?.mapValue?.fields||{})[fb]?.stringValue===hb}function _h(n){const e=n.mapValue.fields[mb];return tg(e)?_h(e):e}function Cc(n){const e=Ai(n.mapValue.fields[pb].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t,r,o,a,u,f,m,g,x){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=x}}const Gd="(default)";class kc{constructor(e,t){this.projectId=e,this.database=t||Gd}static empty(){return new kc("","")}get isDefaultDatabase(){return this.database===Gd}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="__type__",T2="__max__",gd={mapValue:{}},yb="__vector__",Kd="value";function Ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tg(n)?4:I2(n)?9007199254740991:S2(n)?10:11:Fe(28295,{value:n})}function ns(n,e){if(n===e)return!0;const t=Ri(n);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cc(n).isEqual(Cc(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ai(o.timestampValue),f=Ai(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Pi(o.bytesValue).isEqual(Pi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return Rt(o.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Rt(o.integerValue)===Rt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Rt(o.doubleValue),f=Rt(a.doubleValue);return u===f?qd(u)===qd(f):isNaN(u)&&isNaN(f)}return!1})(n,e);case 9:return Za(n.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(fx(u)!==fx(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!ns(u[m],f[m])))return!1;return!0})(n,e);default:return Fe(52216,{left:n})}}function Ac(n,e){return(n.values||[]).find((t=>ns(t,e)))!==void 0}function el(n,e){if(n===e)return 0;const t=Ri(n),r=Ri(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const f=Rt(a.integerValue||a.doubleValue),m=Rt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return px(n.timestampValue,e.timestampValue);case 4:return px(Cc(n),Cc(e));case 5:return hp(n.stringValue,e.stringValue);case 6:return(function(a,u){const f=Pi(a),m=Pi(u);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const f=a.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const x=Ye(f[g],m[g]);if(x!==0)return x}return Ye(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const f=Ye(Rt(a.latitude),Rt(u.latitude));return f!==0?f:Ye(Rt(a.longitude),Rt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return gx(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const f=a.fields||{},m=u.fields||{},g=f[Kd]?.arrayValue,x=m[Kd]?.arrayValue,_=Ye(g?.values?.length||0,x?.values?.length||0);return _!==0?_:gx(g,x)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===gd.mapValue&&u===gd.mapValue)return 0;if(a===gd.mapValue)return 1;if(u===gd.mapValue)return-1;const f=a.fields||{},m=Object.keys(f),g=u.fields||{},x=Object.keys(g);m.sort(),x.sort();for(let _=0;_<m.length&&_<x.length;++_){const E=hp(m[_],x[_]);if(E!==0)return E;const k=el(f[m[_]],g[x[_]]);if(k!==0)return k}return Ye(m.length,x.length)})(n.mapValue,e.mapValue);default:throw Fe(23264,{he:t})}}function px(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=Ai(n),r=Ai(e),o=Ye(t.seconds,r.seconds);return o!==0?o:Ye(t.nanos,r.nanos)}function gx(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=el(t[o],r[o]);if(a)return a}return Ye(t.length,r.length)}function tl(n){return fp(n)}function fp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ai(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Pi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=fp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${fp(t.fields[u])}`;return o+"}"})(n.mapValue):Fe(61005,{value:n})}function Nd(n){switch(Ri(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(n);return e?16+Nd(e):16;case 5:return 2*n.stringValue.length;case 6:return Pi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Nd(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Li(r.fields,((a,u)=>{o+=a.length+Nd(u)})),o})(n.mapValue);default:throw Fe(13486,{value:n})}}function yx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mp(n){return!!n&&"integerValue"in n}function ng(n){return!!n&&"arrayValue"in n}function vx(n){return!!n&&"nullValue"in n}function xx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cd(n){return!!n&&"mapValue"in n}function S2(n){return(n?.mapValue?.fields||{})[gb]?.stringValue===yb}function xc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Li(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=xc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xc(n.arrayValue.values[t]);return e}return{...n}}function I2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(t)}setAll(e){let t=tn.emptyPath(),r={},o=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=xc(u):o.push(f.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Cd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Cd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Li(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Nn(xc(this.value))}}function vb(n){const e=[];return Li(n.fields,((t,r)=>{const o=new tn([t]);if(Cd(r)){const a=vb(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new hn(e,0,$e.min(),$e.min(),$e.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,o){return new hn(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new hn(e,2,t,$e.min(),$e.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,$e.min(),$e.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.position=e,this.inclusive=t}}function wx(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(u.referenceValue),t.key):r=el(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function _x(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ns(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function N2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{}class Vt extends xb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new k2(e,t,r):t==="array-contains"?new R2(e,r):t==="in"?new j2(e,r):t==="not-in"?new D2(e,r):t==="array-contains-any"?new M2(e,r):new Vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new A2(e,r):new P2(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(el(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends xb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yr(e,t)}matches(e){return wb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wb(n){return n.op==="and"}function _b(n){return C2(n)&&wb(n)}function C2(n){for(const e of n.filters)if(e instanceof yr)return!1;return!0}function pp(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+tl(n.value);if(_b(n))return n.filters.map((e=>pp(e))).join(",");{const e=n.filters.map((t=>pp(t))).join(",");return`${n.op}(${e})`}}function bb(n,e){return n instanceof Vt?(function(r,o){return o instanceof Vt&&r.op===o.op&&r.field.isEqual(o.field)&&ns(r.value,o.value)})(n,e):n instanceof yr?(function(r,o){return o instanceof yr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,f)=>a&&bb(u,o.filters[f])),!0):!1})(n,e):void Fe(19439)}function Eb(n){return n instanceof Vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`})(n):n instanceof yr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Eb).join(" ,")+"}"})(n):"Filter"}class k2 extends Vt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class A2 extends Vt{constructor(e,t){super(e,"in",t),this.keys=Tb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class P2 extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=Tb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Tb(n,e){return(e.arrayValue?.values||[]).map((t=>Ae.fromName(t.referenceValue)))}class R2 extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ng(t)&&Ac(t.arrayValue,this.value)}}class j2 extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ac(this.value.arrayValue,t)}}class D2 extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ac(this.value.arrayValue,t)}}class M2 extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ng(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ac(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.Te=null}}function bx(n,e=null,t=[],r=[],o=null,a=null,u=null){return new O2(n,e,t,r,o,a,u)}function rg(n){const e=We(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>pp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>tl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>tl(r))).join(",")),e.Te=t}return e.Te}function sg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!N2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_x(n.startAt,e.startAt)&&_x(n.endAt,e.endAt)}function gp(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function L2(n,e,t,r,o,a,u,f){return new hl(n,e,t,r,o,a,u,f)}function ig(n){return new hl(n)}function Ex(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Sb(n){return n.collectionGroup!==null}function wc(n){const e=We(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Wt(tn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Pc(a,r))})),t.has(tn.keyField().canonicalString())||e.Ie.push(new Pc(tn.keyField(),r))}return e.Ie}function Kr(n){const e=We(n);return e.Ee||(e.Ee=V2(e,wc(n))),e.Ee}function V2(n,e){if(n.limitType==="F")return bx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Pc(o.field,a)}));const t=n.endAt?new Qd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qd(n.startAt.position,n.startAt.inclusive):null;return bx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yp(n,e){const t=n.filters.concat([e]);return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yd(n,e,t){return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bh(n,e){return sg(Kr(n),Kr(e))&&n.limitType===e.limitType}function Ib(n){return`${rg(Kr(n))}|lt:${n.limitType}`}function Aa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>Eb(o))).join(", ")}]`),wh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>tl(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>tl(o))).join(",")),`Target(${r})`})(Kr(n))}; limitType=${n.limitType})`}function Eh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of wc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,f,m){const g=wx(u,f,m);return u.inclusive?g<=0:g<0})(r.startAt,wc(r),o)||r.endAt&&!(function(u,f,m){const g=wx(u,f,m);return u.inclusive?g>=0:g>0})(r.endAt,wc(r),o))})(n,e)}function F2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Nb(n){return(e,t)=>{let r=!1;for(const o of wc(n)){const a=U2(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function U2(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(a,u,f){const m=u.data.field(a),g=f.data.field(a);return m!==null&&g!==null?el(m,g):Fe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new St(Ae.comparator);function Rs(){return z2}const Cb=new St(Ae.comparator);function fc(...n){let e=Cb;for(const t of n)e=e.insert(t.key,t);return e}function kb(n){let e=Cb;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function _o(){return _c()}function Ab(){return _c()}function _c(){return new Lo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const B2=new St(Ae.comparator),$2=new Wt(Ae.comparator);function Xe(...n){let e=$2;for(const t of n)e=e.add(t);return e}const H2=new Wt(Ye);function W2(){return H2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function Pb(n){return{integerValue:""+n}}function Rb(n,e){return x2(e)?Pb(e):og(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function q2(n,e,t){return n instanceof Rc?(function(o,a){const u={fields:{[fb]:{stringValue:hb},[pb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&tg(a)&&(a=_h(a)),a&&(u.fields[mb]=a),{mapValue:u}})(t,e):n instanceof jc?Db(n,e):n instanceof Dc?Mb(n,e):(function(o,a){const u=jb(o,a),f=Tx(u)+Tx(o.Ae);return mp(u)&&mp(o.Ae)?Pb(f):og(o.serializer,f)})(n,e)}function G2(n,e,t){return n instanceof jc?Db(n,e):n instanceof Dc?Mb(n,e):t}function jb(n,e){return n instanceof Mc?(function(r){return mp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Rc extends Th{}class jc extends Th{constructor(e){super(),this.elements=e}}function Db(n,e){const t=Ob(e);for(const r of n.elements)t.some((o=>ns(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Dc extends Th{constructor(e){super(),this.elements=e}}function Mb(n,e){let t=Ob(e);for(const r of n.elements)t=t.filter((o=>!ns(o,r)));return{arrayValue:{values:t}}}class Mc extends Th{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Tx(n){return Rt(n.integerValue||n.doubleValue)}function Ob(n){return ng(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.field=e,this.transform=t}}function K2(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof jc&&o instanceof jc||r instanceof Dc&&o instanceof Dc?Za(r.elements,o.elements,ns):r instanceof Mc&&o instanceof Mc?ns(r.Ae,o.Ae):r instanceof Rc&&o instanceof Rc})(n.transform,e.transform)}class Q2{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sh{}function Vb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ag(n.key,pr.none()):new Bc(n.key,n.data,pr.none());{const t=n.data,r=Nn.empty();let o=new Wt(tn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Vi(n.key,r,new Bn(o.toArray()),pr.none())}}function Y2(n,e,t){n instanceof Bc?(function(o,a,u){const f=o.value.clone(),m=Ix(o.fieldTransforms,a,u.transformResults);f.setAll(m),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Vi?(function(o,a,u){if(!kd(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Ix(o.fieldTransforms,a,u.transformResults),m=a.data;m.setAll(Fb(o)),m.setAll(f),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function bc(n,e,t,r){return n instanceof Bc?(function(a,u,f,m){if(!kd(a.precondition,u))return f;const g=a.value.clone(),x=Nx(a.fieldTransforms,m,u);return g.setAll(x),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof Vi?(function(a,u,f,m){if(!kd(a.precondition,u))return f;const g=Nx(a.fieldTransforms,m,u),x=u.data;return x.setAll(Fb(a)),x.setAll(g),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(a,u,f){return kd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,e,t)}function X2(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=jb(r.transform,o||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,a))}return t||null}function Sx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Za(r,o,((a,u)=>K2(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bc extends Sh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vi extends Sh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Ix(n,e,t){const r=new Map;st(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,G2(u,f,t[o]))}return r}function Nx(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,q2(a,u,e))}return r}class ag extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J2 extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Y2(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ab();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const m=Vb(u,f);m!==null&&r.set(o.key,m),u.isValidDocument()||u.convertToNoDocument($e.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((t,r)=>Sx(t,r)))&&Za(this.baseMutations,e.baseMutations,((t,r)=>Sx(t,r)))}}class lg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return B2})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new lg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eP=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ze;function nP(n){switch(n){case te.OK:return Fe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function Ub(n){if(n===void 0)return As("GRPC error has no .code"),te.UNKNOWN;switch(n){case Lt.OK:return te.OK;case Lt.CANCELLED:return te.CANCELLED;case Lt.UNKNOWN:return te.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return te.INTERNAL;case Lt.UNAVAILABLE:return te.UNAVAILABLE;case Lt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Lt.NOT_FOUND:return te.NOT_FOUND;case Lt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Lt.ABORTED:return te.ABORTED;case Lt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Lt.DATA_LOSS:return te.DATA_LOSS;default:return Fe(39323,{code:n})}}(Ze=Lt||(Lt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Ii([4294967295,4294967295],0);function Cx(n){const e=rP().encode(n),t=new Z_;return t.update(e),new Uint8Array(t.digest())}function kx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ii([t,r],0),new Ii([o,a],0)]}class cg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mc(`Invalid padding: ${t}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new mc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ii.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Ii.fromNumber(r)));return o.compare(sP)===1&&(o=new Ii([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Cx(e),[r,o]=kx(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new cg(a,o,t);return r.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const t=Cx(e),[r,o]=kx(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ih($e.min(),o,new St(Ye),Rs(),Xe())}}class $c{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $c(r,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class zb{constructor(e,t){this.targetId=e,this.Ce=t}}class Bb{constructor(e,t,r=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Ax{constructor(){this.ve=0,this.Fe=Px(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),t=Xe(),r=Xe();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}})),new $c(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Px()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=yd(),this.He=yd(),this.Ye=new St(Ye)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(gp(a))if(r===0){const u=new Ae(a.path);this.et(t,u,hn.newNoDocument(u,$e.min()))}else st(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Pi(r).toUint8Array()}catch(m){if(m instanceof db)return Ja("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new cg(u,o,a)}catch(m){return Ja(m instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const f=this.ot(u);if(f){if(a.current&&gp(f.target)){const m=new Ae(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,hn.newNoDocument(m,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=Xe();this.He.forEach(((a,u)=>{let f=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new Ih(e,t,this.Ye,this.je,r);return this.je=Rs(),this.Je=yd(),this.He=yd(),this.Ye=new St(Ye),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ax,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Wt(Ye),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Wt(Ye),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ax),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function yd(){return new St(Ae.comparator)}function Px(){return new St(Ae.comparator)}const oP={asc:"ASCENDING",desc:"DESCENDING"},aP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lP={and:"AND",or:"OR"};class cP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(n,e){return n.useProto3Json||wh(e)?e:{value:e}}function Xd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $b(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uP(n,e){return Xd(n,e.toTimestamp())}function Qr(n){return st(!!n,49232),$e.fromTimestamp((function(t){const r=Ai(t);return new vt(r.seconds,r.nanos)})(n))}function ug(n,e){return xp(n,e).canonicalString()}function xp(n,e){const t=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Hb(n){const e=ht.fromString(n);return st(Qb(e),10190,{key:e.toString()}),e}function wp(n,e){return ug(n.databaseId,e.path)}function Om(n,e){const t=Hb(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(qb(t))}function Wb(n,e){return ug(n.databaseId,e)}function dP(n){const e=Hb(n);return e.length===4?ht.emptyPath():qb(e)}function _p(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qb(n){return st(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Rx(n,e,t){return{name:wp(n,e),fields:t.value.mapValue.fields}}function hP(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Fe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(g,x){return g.useProto3Json?(st(x===void 0||typeof x=="string",58123),nn.fromBase64String(x||"")):(st(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),nn.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const x=g.code===void 0?te.UNKNOWN:Ub(g.code);return new pe(x,g.message||"")})(u);t=new Bb(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Om(n,r.document.name),a=Qr(r.document.updateTime),u=r.document.createTime?Qr(r.document.createTime):$e.min(),f=new Nn({mapValue:{fields:r.document.fields}}),m=hn.newFoundDocument(o,a,u,f),g=r.targetIds||[],x=r.removedTargetIds||[];t=new Ad(g,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Om(n,r.document),a=r.readTime?Qr(r.readTime):$e.min(),u=hn.newNoDocument(o,a),f=r.removedTargetIds||[];t=new Ad([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Om(n,r.document),a=r.removedTargetIds||[];t=new Ad([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new tP(o,a),f=r.targetId;t=new zb(f,u)}}return t}function fP(n,e){let t;if(e instanceof Bc)t={update:Rx(n,e.key,e.value)};else if(e instanceof ag)t={delete:wp(n,e.key)};else if(e instanceof Vi)t={update:Rx(n,e.key,e.data),updateMask:bP(e.fieldMask)};else{if(!(e instanceof J2))return Fe(16599,{Vt:e.type});t={verify:wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const f=u.transform;if(f instanceof Rc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof jc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Dc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Mc)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Fe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:uP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(n,e.precondition)),t}function mP(n,e){return n&&n.length>0?(st(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?Qr(o.updateTime):Qr(a);return u.isEqual($e.min())&&(u=Qr(a)),new Q2(u,o.transformResults||[])})(t,e)))):[]}function pP(n,e){return{documents:[Wb(n,e.path)]}}function gP(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Wb(n,o);const a=(function(g){if(g.length!==0)return Kb(yr.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(g){if(g.length!==0)return g.map((x=>(function(E){return{field:Pa(E.field),direction:xP(E.dir)}})(x)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=vp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function yP(n){let e=dP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){st(r===1,65062);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let a=[];t.where&&(a=(function(_){const E=Gb(_);return E instanceof yr&&_b(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((E=>(function(O){return new Pc(Ra(O.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(E)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let E;return E=typeof _=="object"?_.value:_,wh(E)?null:E})(t.limit));let m=null;t.startAt&&(m=(function(_){const E=!!_.before,k=_.values||[];return new Qd(k,E)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const E=!_.before,k=_.values||[];return new Qd(k,E)})(t.endAt)),L2(e,o,u,a,f,"F",m,g)}function vP(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ra(t.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ra(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ra(t.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ra(t.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Vt.create(Ra(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return yr.create(t.compositeFilter.filters.map((r=>Gb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(t.compositeFilter.op))})(n):Fe(30097,{filter:n})}function xP(n){return oP[n]}function wP(n){return aP[n]}function _P(n){return lP[n]}function Pa(n){return{fieldPath:n.canonicalString()}}function Ra(n){return tn.fromServerFormat(n.fieldPath)}function Kb(n){return n instanceof Vt?(function(t){if(t.op==="=="){if(xx(t.value))return{unaryFilter:{field:Pa(t.field),op:"IS_NAN"}};if(vx(t.value))return{unaryFilter:{field:Pa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xx(t.value))return{unaryFilter:{field:Pa(t.field),op:"IS_NOT_NAN"}};if(vx(t.value))return{unaryFilter:{field:Pa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(t.field),op:wP(t.op),value:t.value}}})(n):n instanceof yr?(function(t){const r=t.getFilters().map((o=>Kb(o)));return r.length===1?r[0]:{compositeFilter:{op:_P(t.op),filters:r}}})(n):Fe(54877,{filter:n})}function bP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Qb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t,r,o,a=$e.min(),u=$e.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.yt=e}}function TP(n){const e=yP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Cn=new IP}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ki.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class IP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Wt(ht.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Wt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yb=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Yb,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="LruGarbageCollector",NP=1048576;function Mx([n,e],[t,r]){const o=Ye(n,t);return o===0?Ye(e,r):o}class CP{constructor(e){this.Ir=e,this.buffer=new Wt(Mx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Mx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(Dx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?we(Dx,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.Vr(3e5)}))}}class AP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(xh.ce);const r=new CP(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(jx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,f,m,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(r=_,f=Date.now(),this.removeTargets(e,r,t)))).next((_=>(a=_,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(g=Date.now(),ka()<=Qe.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-x}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_}))))}}function PP(n,e){return new AP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.changes=new Lo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&bc(r.mutation,o,Bn.empty(),vt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Xe()){const o=_o();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=fc();return a.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=_o();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Xe())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,r,o){let a=Rs();const u=_c(),f=(function(){return _c()})();return t.forEach(((m,g)=>{const x=r.get(g.key);o.has(g.key)&&(x===void 0||x.mutation instanceof Vi)?a=a.insert(g.key,g):x!==void 0?(u.set(g.key,x.mutation.getFieldMask()),bc(x.mutation,g,x.mutation.getFieldMask(),vt.now())):u.set(g.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,a).next((m=>(m.forEach(((g,x)=>u.set(g,x))),t.forEach(((g,x)=>f.set(g,new jP(x,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=_c();let o=new St(((u,f)=>u-f)),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let x=r.get(m)||Bn.empty();x=f.applyToLocalView(g,x),r.set(m,x);const _=(o.get(f.batchId)||Xe()).add(m);o=o.insert(f.batchId,_)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,x=m.value,_=Ab();x.forEach((E=>{if(!a.has(E)){const k=Vb(t.get(E),r.get(E));k!==null&&_.set(E,k),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):re.resolve(_o());let f=Nc,m=a;return u.next((g=>re.forEach(g,((x,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(x)?re.resolve():this.remoteDocumentCache.getEntry(e,x).next((E=>{m=m.insert(x,E)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,m,g,Xe()))).next((x=>({batchId:f,changes:kb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((r=>{let o=fc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=fc();return this.indexManager.getCollectionParents(e,a).next((f=>re.forEach(f,(m=>{const g=(function(_,E){return new hl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((x=>{x.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((m,g)=>{const x=g.getKey();u.get(x)===null&&(u=u.insert(x,hn.newInvalidDocument(x)))}));let f=fc();return u.forEach(((m,g)=>{const x=a.get(m);x!==void 0&&bc(x.mutation,g,Bn.empty(),vt.now()),Eh(t,g)&&(f=f.insert(m,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Qr(o.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:TP(o.bundledQuery),readTime:Qr(o.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.overlays=new St(Ae.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_o();return re.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const o=_o(),a=t.length+1,u=new Ae(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&m.largestBatchId>r&&o.set(m.getKey(),m)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new St(((g,x)=>g-x));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let x=a.get(g.largestBatchId);x===null&&(x=_o(),a=a.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const f=_o(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,x)=>f.set(g,x))),!(f.size()>=o)););return re.resolve(f)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new eP(t,r));let a=this.qr.get(t);a===void 0&&(a=Xe(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Qr=new Wt(Qt.$r),this.Ur=new Wt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ae(new ht([])),r=new Qt(t,e),o=new Qt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ht([])),r=new Qt(t,e),o=new Qt(t,e+1);let a=Xe();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Qt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Ye(e.Yr,t.Yr)}static Kr(e,t){return Ye(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(Qt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Z2(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new Qt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const f=this.Xr(u.Yr);a.push(f)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Ye);return t.forEach((o=>{const a=new Qt(o,0),u=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(f=>{r=r.add(f.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new Ae(a),0);let f=new Wt(Ye);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(f=f.add(m.Yr)),!0)}),u),re.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){st(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(t.mutations,(o=>{const a=new Qt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Qt(t,0),o=this.Zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.ri=e,this.docs=(function(){return new St(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=Rs();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():hn.newInvalidDocument(o))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Rs();const u=t.path,f=new Ae(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:x}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||p2(m2(x),r)<=0||(o.has(x.key)||Eh(t,x))&&(a=a.insert(x.key,x.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe(9500)}ii(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new UP(this)}getSize(e){return re.resolve(this.size)}}class UP extends RP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.persistence=e,this.si=new Lo((t=>rg(t)),sg),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),re.waitFor(a).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new LP,this.referenceDelegate=e(this),this.Pi=new zP(this),this.indexManager=new SP,this.remoteDocumentCache=(function(o){return new FP(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new EP(t),this.Ii=new MP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new VP(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const o=new BP(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class BP extends y2{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Ri=new dg,this.Vi=null}static mi(e){return new hg(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const o=Ae.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,$e.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Jd{constructor(e,t){this.persistence=e,this.pi=new Lo((r=>w2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=PP(this,t)}static mi(e,t){return new Jd(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?re.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((f=>{f||(r++,a.removeEntry(u,$e.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nd(e.data.value)),t}br(e,t,r){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Xe(),o=Xe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new fg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Mk()?8:v2(fn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new $P;return this.Ss(e,t,u).next((f=>{if(a.result=f,this.Vs)return this.bs(e,t,u,f.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(ka()<=Qe.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Aa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(ka()<=Qe.DEBUG&&we("QueryEngine","Query:",Aa(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ka()<=Qe.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Aa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(t))):re.resolve())}ys(e,t){if(Ex(t))return re.resolve(null);let r=Kr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Yd(t,null,"F"),r=Kr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Xe(...a);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.Ds(t,f);return this.Cs(t,g,u,m.readTime)?this.ys(e,Yd(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,r,o){return Ex(t)||o.isEqual($e.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?re.resolve(null):(ka()<=Qe.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Aa(t)),this.vs(e,u,t,f2(o,Nc)).next((f=>f)))}))}Ds(e,t){let r=new Wt(Nb(e));return t.forEach(((o,a)=>{Eh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return ka()<=Qe.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Aa(t)),this.ps.getDocumentsMatchingQuery(e,t,ki.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",WP=3e8;class qP{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new St(Ye),this.xs=new Lo((a=>rg(a)),sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function GP(n,e,t,r){return new qP(n,e,t,r)}async function Jb(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],f=[];let m=Xe();for(const g of o){u.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}for(const g of a){f.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}return t.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function KP(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,x){const _=g.batch,E=_.keys();let k=re.resolve();return E.forEach((O=>{k=k.next((()=>x.getEntry(m,O))).next((I=>{const R=g.docVersions.get(O);st(R!==null,48541),I.version.compareTo(R)<0&&(_.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),x.addEntry(I)))}))})),k.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=Xe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function Zb(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function QP(n,e){const t=We(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((x,_)=>{const E=o.get(_);if(!E)return;f.push(t.Pi.removeMatchingKeys(a,x.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(a,x.addedDocuments,_))));let k=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?k=k.withResumeToken(nn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):x.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(x.resumeToken,r)),o=o.insert(_,k),(function(I,R,$){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=WP?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(E,k,x)&&f.push(t.Pi.updateTargetData(a,k))}));let m=Rs(),g=Xe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,x))})),f.push(YP(a,u,e.documentUpdates).next((x=>{m=x.ks,g=x.qs}))),!r.isEqual($e.min())){const x=t.Pi.getLastRemoteSnapshotVersion(a).next((_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));f.push(x)}return re.waitFor(f).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,m,g))).next((()=>m))})).then((a=>(t.Ms=o,a)))}function YP(n,e,t){let r=Xe(),o=Xe();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Rs();return t.forEach(((f,m)=>{const g=a.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual($e.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):we(mg,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:o}}))}function XP(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=eg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function JP(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,re.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new _i(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function bp(n,e,t){const r=We(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!dl(u))throw u;we(mg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Ox(n,e,t){const r=We(n);let o=$e.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,x){const _=We(m),E=_.xs.get(x);return E!==void 0?re.resolve(_.Ms.get(E)):_.Pi.getTargetData(g,x)})(r,u,Kr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{a=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:Xe()))).next((f=>(ZP(r,F2(e),f),{documents:f,Qs:a})))))}function ZP(n,e,t){let r=n.Os.get(e)||$e.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Lx{constructor(){this.activeTargetIds=W2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eR{constructor(){this.Mo=new Lx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="ConnectivityMonitor";class Fx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(Vx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(Vx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function Ep(){return vd===null?vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",nR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Gd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=Ep(),f=this.zo(e,t.toUriEncodedString());we(Lm,`Sending RPC '${e}' ${u}:`,f,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,a);const{host:g}=new URL(f),x=al(g);return this.Jo(e,f,m,r,x).then((_=>(we(Lm,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Ja(Lm,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_}))}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=nR[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class iR extends rR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=Ep();return new Promise(((f,m)=>{const g=new eb;g.setWithCredentials(!0),g.listenOnce(tb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Id.NO_ERROR:const _=g.getResponseJson();we(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Id.TIMEOUT:we(un,`RPC '${e}' ${u} timed out`),m(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:const E=g.getStatus();if(we(un,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const O=k?.error;if(O&&O.status&&O.message){const I=(function($){const H=$.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN})(O.status);m(new pe(I,O.message))}else m(new pe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{we(un,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(o);we(un,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",x,r,15)}))}T_(e,t,r){const o=Ep(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sb(),f=rb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const x=a.join("");we(un,`Creating RPC '${e}' stream ${o}: ${x}`,m);const _=u.createWebChannel(x,m);this.I_(_);let E=!1,k=!1;const O=new sR({Yo:R=>{k?we(un,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(E||(we(un,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),we(un,`RPC '${e}' stream ${o} sending:`,R),_.send(R))},Zo:()=>_.close()}),I=(R,$,H)=>{R.listen($,(W=>{try{H(W)}catch(U){setTimeout((()=>{throw U}),0)}}))};return I(_,hc.EventType.OPEN,(()=>{k||(we(un,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),I(_,hc.EventType.CLOSE,(()=>{k||(k=!0,we(un,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(_))})),I(_,hc.EventType.ERROR,(R=>{k||(k=!0,Ja(un,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),O.a_(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),I(_,hc.EventType.MESSAGE,(R=>{if(!k){const $=R.data[0];st(!!$,16349);const H=$,W=H?.error||H[0]?.error;if(W){we(un,`RPC '${e}' stream ${o} received error:`,W);const U=W.status;let q=(function(T){const A=Lt[T];if(A!==void 0)return Ub(A)})(U),ee=W.message;q===void 0&&(q=te.INTERNAL,ee="Unknown error status: "+U+" with message "+W.message),k=!0,O.a_(new pe(q,ee)),_.close()}else we(un,`RPC '${e}' stream ${o} received:`,$),O.u_($)}})),I(f,nb.STAT_EVENT,(R=>{R.stat===dp.PROXY?we(un,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===dp.NOPROXY&&we(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n){return new cP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="PersistentStream";class t1{constructor(e,t,r,o,a,u,f,m){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(As(t.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(Ux,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(we(Ux,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oR extends t1{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=hP(this.serializer,e),r=(function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Qr(u.readTime):$e.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=_p(this.serializer),t.addTarget=(function(a,u){let f;const m=u.target;if(f=gp(m)?{documents:pP(a,m)}:{query:gP(a,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=$b(a,u.resumeToken);const g=vp(a,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=Xd(a,u.snapshotVersion.toTimestamp());const g=vp(a,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const r=vP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=_p(this.serializer),t.removeTarget=e,this.q_(t)}}class aR extends t1{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=mP(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=_p(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>fP(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{}class cR extends lR{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,xp(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(te.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,xp(t,r),o,u,f,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(t),this.aa=!1):we("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class dR{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Vo(this)&&(we(So,"Restarting streams for network reachability change."),await(async function(m){const g=We(m);g.Ea.add(4),await Hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ch(g)})(this))}))})),this.Ra=new uR(r,o)}}async function Ch(n){if(Vo(n))for(const e of n.da)await e(!0)}async function Hc(n){for(const e of n.da)await e(!1)}function n1(n,e){const t=We(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),vg(t)?yg(t):fl(t).O_()&&gg(t,e))}function pg(n,e){const t=We(n),r=fl(t);t.Ia.delete(e),r.O_()&&r1(t,e),t.Ia.size===0&&(r.O_()?r.L_():Vo(t)&&t.Ra.set("Unknown"))}function gg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(n).Y_(e)}function r1(n,e){n.Va.Ue(e),fl(n).Z_(e)}function yg(n){n.Va=new iP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fl(n).start(),n.Ra.ua()}function vg(n){return Vo(n)&&!fl(n).x_()&&n.Ia.size>0}function Vo(n){return We(n).Ea.size===0}function s1(n){n.Va=void 0}async function hR(n){n.Ra.set("Online")}async function fR(n){n.Ia.forEach(((e,t)=>{gg(n,e)}))}async function mR(n,e){s1(n),vg(n)?(n.Ra.ha(e),yg(n)):n.Ra.set("Unknown")}async function pR(n,e,t){if(n.Ra.set("Online"),e instanceof Bb&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(r){we(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zd(n,r)}else if(e instanceof Ad?n.Va.Ze(e):e instanceof zb?n.Va.st(e):n.Va.tt(e),!t.isEqual($e.min()))try{const r=await Zb(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const f=a.Va.Tt(u);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const x=a.Ia.get(g);x&&a.Ia.set(g,x.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,g)=>{const x=a.Ia.get(m);if(!x)return;a.Ia.set(m,x.withResumeToken(nn.EMPTY_BYTE_STRING,x.snapshotVersion)),r1(a,m);const _=new _i(x.target,m,g,x.sequenceNumber);gg(a,_)})),a.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){we(So,"Failed to raise snapshot:",r),await Zd(n,r)}}async function Zd(n,e,t){if(!dl(e))throw e;n.Ea.add(1),await Hc(n),n.Ra.set("Offline"),t||(t=()=>Zb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{we(So,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ch(n)}))}function i1(n,e){return e().catch((t=>Zd(n,t,e)))}async function kh(n){const e=We(n),t=ji(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;gR(e);)try{const o=await XP(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,yR(e,o)}catch(o){await Zd(e,o)}o1(e)&&a1(e)}function gR(n){return Vo(n)&&n.Ta.length<10}function yR(n,e){n.Ta.push(e);const t=ji(n);t.O_()&&t.X_&&t.ea(e.mutations)}function o1(n){return Vo(n)&&!ji(n).x_()&&n.Ta.length>0}function a1(n){ji(n).start()}async function vR(n){ji(n).ra()}async function xR(n){const e=ji(n);for(const t of n.Ta)e.ea(t.mutations)}async function wR(n,e,t){const r=n.Ta.shift(),o=lg.from(r,e,t);await i1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await kh(n)}async function _R(n,e){e&&ji(n).X_&&await(async function(r,o){if((function(u){return nP(u)&&u!==te.ABORTED})(o.code)){const a=r.Ta.shift();ji(r).B_(),await i1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await kh(r)}})(n,e),o1(n)&&a1(n)}async function zx(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),we(So,"RemoteStore received new credentials");const r=Vo(t);t.Ea.add(3),await Hc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ch(t)}async function bR(n,e){const t=We(n);e?(t.Ea.delete(2),await Ch(t)):e||(t.Ea.add(2),await Hc(t),t.Ra.set("Unknown"))}function fl(n){return n.ma||(n.ma=(function(t,r,o){const a=We(t);return a.sa(),new oR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:hR.bind(null,n),t_:fR.bind(null,n),r_:mR.bind(null,n),H_:pR.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),vg(n)?yg(n):n.Ra.set("Unknown")):(await n.ma.stop(),s1(n))}))),n.ma}function ji(n){return n.fa||(n.fa=(function(t,r,o){const a=We(t);return a.sa(),new aR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:vR.bind(null,n),r_:_R.bind(null,n),ta:xR.bind(null,n),na:wR.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await kh(n)):(await n.fa.stop(),n.Ta.length>0&&(we(So,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new xg(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(n,e){if(As("AsyncQueue",`${e}: ${n}`),dl(n))return new pe(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(e){return new Va(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=fc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.ga=new St(Ae.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class rl{constructor(e,t,r,o,a,u,f,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new rl(e,t,Va.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TR{constructor(){this.queries=$x(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=We(t),a=o.queries;o.queries=$x(),a.forEach(((u,f)=>{for(const m of f.Sa)m.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function $x(){return new Lo((n=>Ib(n)),bh)}async function l1(n,e){const t=We(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new ER,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=wg(u,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&_g(t)}async function c1(n,e){const t=We(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function SR(n,e){const t=We(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.Sa)f.Fa(o)&&(r=!0);u.wa=o}}r&&_g(t)}function IR(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function _g(n){n.Ca.forEach((e=>{e.next()}))}var Tp,Hx;(Hx=Tp||(Tp={})).Ma="default",Hx.Cache="cache";class u1{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.key=e}}class h1{constructor(e){this.key=e}}class NR{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=Nb(e),this.tu=new Va(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Bx,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,_)=>{const E=o.get(x),k=Eh(this.query,_)?_:null,O=!!E&&this.mutatedKeys.has(E.key),I=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let R=!1;E&&k?E.data.isEqual(k.data)?O!==I&&(r.track({type:3,doc:k}),R=!0):this.su(E,k)||(r.track({type:2,doc:k}),R=!0,(m&&this.eu(k,m)>0||g&&this.eu(k,g)<0)&&(f=!0)):!E&&k?(r.track({type:0,doc:k}),R=!0):E&&!k&&(r.track({type:1,doc:E}),R=!0,(m||g)&&(f=!0)),R&&(k?(u=u.add(k),a=I?a.add(x):a.delete(x)):(u=u.delete(x),a=a.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{tu:u,iu:r,Cs:f,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,_)=>(function(k,O){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:R})}};return I(k)-I(O)})(x.type,_.type)||this.eu(x.doc,_.doc))),this.ou(r),o=o??!1;const f=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new rl(this.query,e.tu,a,u,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new h1(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new d1(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class CR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kR{constructor(e){this.key=e,this.hu=!1}}class AR{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Lo((f=>Ib(f)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new St(Ae.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PR(n,e,t=!0){const r=v1(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await f1(r,e,t,!0),o}async function RR(n,e){const t=v1(n);await f1(t,e,!0,!1)}async function f1(n,e,t,r){const o=await JP(n.localStore,Kr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await jR(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&n1(n.remoteStore,o),f}async function jR(n,e,t,r,o){n.pu=(_,E,k)=>(async function(I,R,$,H){let W=R.view.ru($);W.Cs&&(W=await Ox(I.localStore,R.query,!1).then((({documents:C})=>R.view.ru(C,W))));const U=H&&H.targetChanges.get(R.targetId),q=H&&H.targetMismatches.get(R.targetId)!=null,ee=R.view.applyChanges(W,I.isPrimaryClient,U,q);return qx(I,R.targetId,ee.au),ee.snapshot})(n,_,E,k);const a=await Ox(n.localStore,e,!0),u=new NR(e,a.Qs),f=u.ru(a.documents),m=$c.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),g=u.applyChanges(f,n.isPrimaryClient,m);qx(n,t,g.au);const x=new CR(e,t,u);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function DR(n,e,t){const r=We(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!bh(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&pg(r.remoteStore,o.targetId),Sp(r,o.targetId)})).catch(ul)):(Sp(r,o.targetId),await bp(r.localStore,o.targetId,!0))}async function MR(n,e){const t=We(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pg(t.remoteStore,r.targetId))}async function OR(n,e,t){const r=$R(n);try{const o=await(function(u,f){const m=We(u),g=vt.now(),x=f.reduce(((k,O)=>k.add(O.key)),Xe());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let O=Rs(),I=Xe();return m.Ns.getEntries(k,x).next((R=>{O=R,O.forEach((($,H)=>{H.isValidDocument()||(I=I.add($))}))})).next((()=>m.localDocuments.getOverlayedDocuments(k,O))).next((R=>{_=R;const $=[];for(const H of f){const W=X2(H,_.get(H.key).overlayedDocument);W!=null&&$.push(new Vi(H.key,W,vb(W.value.mapValue),pr.exists(!0)))}return m.mutationQueue.addMutationBatch(k,g,$,f)})).next((R=>{E=R;const $=R.applyToLocalDocumentSet(_,I);return m.documentOverlayCache.saveOverlays(k,R.batchId,$)}))})).then((()=>({batchId:E.batchId,changes:kb(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,f,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new St(Ye)),g=g.insert(f,m),u.Vu[u.currentUser.toKey()]=g})(r,o.batchId,t),await Wc(r,o.changes),await kh(r.remoteStore)}catch(o){const a=wg(o,"Failed to persist write");t.reject(a)}}async function m1(n,e){const t=We(n);try{const r=await QP(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Au.get(a);u&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?st(u.hu,14607):o.removedDocuments.size>0&&(st(u.hu,42227),u.hu=!1))})),await Wc(t,r,e)}catch(r){await ul(r)}}function Wx(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const m=We(u);m.onlineState=f;let g=!1;m.queries.forEach(((x,_)=>{for(const E of _.Sa)E.va(f)&&(g=!0)})),g&&_g(m)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LR(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new St(Ae.comparator);u=u.insert(a,hn.newNoDocument(a,$e.min()));const f=Xe().add(a),m=new Ih($e.min(),new Map,new St(Ye),u,f);await m1(r,m),r.du=r.du.remove(a),r.Au.delete(e),Eg(r)}else await bp(r.localStore,e,!1).then((()=>Sp(r,e,t))).catch(ul)}async function VR(n,e){const t=We(n),r=e.batch.batchId;try{const o=await KP(t.localStore,e);g1(t,r,null),p1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Wc(t,o)}catch(o){await ul(o)}}async function FR(n,e,t){const r=We(n);try{const o=await(function(u,f){const m=We(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return m.mutationQueue.lookupMutationBatch(g,f).next((_=>(st(_!==null,37113),x=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,x,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>m.localDocuments.getDocuments(g,x)))}))})(r.localStore,e);g1(r,e,t),p1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Wc(r,o)}catch(o){await ul(o)}}function p1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function g1(n,e,t){const r=We(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Sp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||y1(n,r)}))}function y1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(pg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Eg(n))}function qx(n,e,t){for(const r of t)r instanceof d1?(n.Ru.addReference(r.key,e),UR(n,r)):r instanceof h1?(we(bg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||y1(n,r.key)):Fe(19791,{wu:r})}function UR(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(we(bg,"New document in limbo: "+t),n.Eu.add(r),Eg(n))}function Eg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(ht.fromString(e)),r=n.fu.next();n.Au.set(r,new kR(t)),n.du=n.du.insert(t,r),n1(n.remoteStore,new _i(Kr(ig(t.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function Wc(n,e,t){const r=We(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,m)=>{u.push(r.pu(m,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const x=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(g){o.push(g);const x=fg.As(m.targetId,g);a.push(x)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(m,g){const x=We(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(g,(E=>re.forEach(E.Es,(k=>x.persistence.referenceDelegate.addReference(_,E.targetId,k))).next((()=>re.forEach(E.ds,(k=>x.persistence.referenceDelegate.removeReference(_,E.targetId,k)))))))))}catch(_){if(!dl(_))throw _;we(mg,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const k=x.Ms.get(E),O=k.snapshotVersion,I=k.withLastLimboFreeSnapshotVersion(O);x.Ms=x.Ms.insert(E,I)}}})(r.localStore,a))}async function zR(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){we(bg,"User change. New user:",e.toKey());const r=await Jb(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((f=>{f.forEach((m=>{m.reject(new pe(te.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wc(t,r.Ls)}}function BR(n,e){const t=We(n),r=t.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const f=t.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function v1(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LR.bind(null,e),e.Pu.H_=SR.bind(null,e.eventManager),e.Pu.yu=IR.bind(null,e.eventManager),e}function $R(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FR.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return GP(this.persistence,new HP,e.initialUser,this.serializer)}Cu(e){return new Xb(hg.mi,this.serializer)}Du(e){return new eR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class HR extends eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof Jd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Xb((r=>Jd.mi(r,t)),this.serializer)}}class Ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Wx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zR.bind(null,this.syncEngine),await bR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TR})()}createDatastore(e){const t=Nh(e.databaseInfo.databaseId),r=(function(a){return new iR(a)})(e.databaseInfo);return(function(a,u,f,m){return new cR(a,u,f,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,f){return new dR(r,o,a,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Wx(this.syncEngine,t,0)),(function(){return Fx.v()?new Fx:new tR})())}createSyncEngine(e,t){return(function(o,a,u,f,m,g,x){const _=new AR(o,a,u,f,m,g);return x&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=We(t);we(So,"RemoteStore shutting down."),r.Ea.add(5),await Hc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class WR{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{we(Di,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(we(Di,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=wg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Fm(n,e){n.asyncQueue.verifyOperationInProgress(),we(Di,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Jb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Gx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qR(n);we(Di,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>zx(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>zx(e.remoteStore,o))),n._onlineComponents=e}async function qR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(Di,"Using user provided OfflineComponentProvider");try{await Fm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ja("Error using user provided cache. Falling back to memory cache: "+t),await Fm(n,new eh)}}else we(Di,"Using default OfflineComponentProvider"),await Fm(n,new HR(void 0));return n._offlineComponents}async function w1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(Di,"Using user provided OnlineComponentProvider"),await Gx(n,n._uninitializedComponentsProvider._online)):(we(Di,"Using default OnlineComponentProvider"),await Gx(n,new Ip))),n._onlineComponents}function GR(n){return w1(n).then((e=>e.syncEngine))}async function _1(n){const e=await w1(n),t=e.eventManager;return t.onListen=PR.bind(null,e.syncEngine),t.onUnlisten=DR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MR.bind(null,e.syncEngine),t}function KR(n,e,t={}){const r=new Ns;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,m,g){const x=new x1({next:E=>{x.Nu(),u.enqueueAndForget((()=>c1(a,_)));const k=E.docs.has(f);!k&&E.fromCache?g.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&E.fromCache&&m&&m.source==="server"?g.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new u1(ig(f.path),x,{includeMetadataChanges:!0,qa:!0});return l1(a,_)})(await _1(n),n.asyncQueue,e,t,r))),r.promise}function QR(n,e,t={}){const r=new Ns;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,m,g){const x=new x1({next:E=>{x.Nu(),u.enqueueAndForget((()=>c1(a,_))),E.fromCache&&m.source==="server"?g.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new u1(f,x,{includeMetadataChanges:!0,qa:!0});return l1(a,_)})(await _1(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",Qx=!0;class Yx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=Qx}else this.host=e.host,this.ssl=e.ssl??Qx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NP)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new t2;switch(r.type){case"firstParty":return new i2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Kx.get(t);r&&(we("ComponentProvider","Removing Datastore"),Kx.delete(t),r.terminate())})(this),Promise.resolve()}}function YR(n,e,t,r={}){n=Ps(n,Ah);const o=al(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(B_(`https://${f}`),$_("Firestore",!0)),a.host!==E1&&a.host!==f&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:f,ssl:o,emulatorOptions:r};if(!Ci(m,u)&&(n._setSettings(m),r.mockUserToken)){let g,x;if(typeof r.mockUserToken=="string")g=r.mockUserToken,x=dn.MOCK_USER;else{g=Nk(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new dn(_)}n._authCredentials=new n2(new ob(g,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fi(this.firestore,e,this._query)}}class Ut{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(zc(t,Ut._jsonSchema))return new Ut(e,r||null,new Ae(ht.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Ft("string",Ut._jsonSchemaVersion),referencePath:Ft("string")};class Ni extends Fi{constructor(e,t,r){super(e,t,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Ae(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function pc(n,e,...t){if(n=Dt(n),ab("collection","path",e),n instanceof Ah){const r=ht.fromString(e,...t);return cx(r),new Ni(n,null,r)}{if(!(n instanceof Ut||n instanceof Ni))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return cx(r),new Ni(n.firestore,null,r)}}function Ts(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=Zp.newId()),ab("doc","path",e),n instanceof Ah){const r=ht.fromString(e,...t);return lx(r),new Ut(n,null,new Ae(r))}{if(!(n instanceof Ut||n instanceof Ni))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return lx(r),new Ut(n.firestore,n instanceof Ni?n.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="AsyncQueue";class Jx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e1(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&we(Xx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;we(Xx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",Zx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=xg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Fe(47125,{Pc:Zx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Zx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ml extends Ah{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Jx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jx(e),this._firestoreClient=void 0,await e}}}function XR(n,e){const t=typeof n=="object"?n:Xp(),r=typeof n=="string"?n:Gd,o=Oo(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=Sk("firestore");a&&YR(o,...a)}return o}function Tg(n){if(n._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JR(n),n._firestoreClient}function JR(n){const e=n._freezeSettings(),t=(function(o,a,u,f){return new E2(o,a,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,b1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new WR(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rr(nn.fromBase64String(e))}catch(t){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rr(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,rr._jsonSchema))return rr.fromBase64String(e.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:Ft("string",rr._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yr._jsonSchemaVersion}}static fromJSON(e){if(zc(e,Yr._jsonSchema))return new Yr(e.latitude,e.longitude)}}Yr._jsonSchemaVersion="firestore/geoPoint/1.0",Yr._jsonSchema={type:Ft("string",Yr._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xr(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:Ft("string",Xr._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=/^__.*__$/;class ej{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bc(e,this.data,t,this.fieldTransforms)}}class T1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function S1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:n})}}class Sg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(S1(this.Ac)&&ZR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nh(e)}Cc(e,t,r,o=!1){return new Sg({Ac:e,methodName:t,Dc:r,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(n){const e=n._freezeSettings(),t=Nh(n._databaseId);return new tj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nj(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);kg("Data must be an object, but it was:",u,r);const f=I1(r,u);let m,g;if(a.merge)m=new Bn(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const x=[];for(const _ of a.mergeFields){const E=Np(e,_,t);if(!u.contains(E))throw new pe(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);C1(x,E)||x.push(E)}m=new Bn(x),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new ej(new Nn(f),m,g)}class Rh extends qc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}class Ng extends qc{_toFieldTransform(e){return new Lb(e.path,new Rc)}isEqual(e){return e instanceof Ng}}class Cg extends qc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Mc(e.serializer,Rb(e.serializer,this.Fc));return new Lb(e.path,t)}isEqual(e){return e instanceof Cg&&this.Fc===e.Fc}}function rj(n,e,t,r){const o=n.Cc(1,e,t);kg("Data must be an object, but it was:",o,r);const a=[],u=Nn.empty();Li(r,((m,g)=>{const x=Ag(e,m,t);g=Dt(g);const _=o.yc(x);if(g instanceof Rh)a.push(x);else{const E=Gc(g,_);E!=null&&(a.push(x),u.set(x,E))}}));const f=new Bn(a);return new T1(u,f,o.fieldTransforms)}function sj(n,e,t,r,o,a){const u=n.Cc(1,e,t),f=[Np(e,r,t)],m=[o];if(a.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)f.push(Np(e,a[E])),m.push(a[E+1]);const g=[],x=Nn.empty();for(let E=f.length-1;E>=0;--E)if(!C1(g,f[E])){const k=f[E];let O=m[E];O=Dt(O);const I=u.yc(k);if(O instanceof Rh)g.push(k);else{const R=Gc(O,I);R!=null&&(g.push(k),x.set(k,R))}}const _=new Bn(g);return new T1(x,_,u.fieldTransforms)}function ij(n,e,t,r=!1){return Gc(t,n.Cc(r?4:3,e))}function Gc(n,e){if(N1(n=Dt(n)))return kg("Unsupported field value:",e,n),I1(n,e);if(n instanceof qc)return(function(r,o){if(!S1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const f of r){let m=Gc(f,o.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=vt.fromDate(r);return{timestampValue:Xd(o.serializer,a)}}if(r instanceof vt){const a=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xd(o.serializer,a)}}if(r instanceof Yr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rr)return{bytesValue:$b(o.serializer,r._byteString)};if(r instanceof Ut){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ug(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Xr)return(function(u,f){return{mapValue:{fields:{[gb]:{stringValue:yb},[Kd]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return og(f.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${vh(r)}`)})(n,e)}function I1(n,e){const t={};return ub(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(n,((r,o)=>{const a=Gc(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function N1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof Yr||n instanceof rr||n instanceof Ut||n instanceof qc||n instanceof Xr)}function kg(n,e,t){if(!N1(t)||!lb(t)){const r=vh(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Np(n,e,t){if((e=Dt(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return Ag(n,e);throw th("Field path arguments must be of type string or ",n,!1,void 0,t)}const oj=new RegExp("[~\\*/\\[\\]]");function Ag(n,e,t){if(e.search(oj)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ph(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function th(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${o}`),m+=")"),new pe(te.INVALID_ARGUMENT,f+n+m)}function C1(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aj extends k1{data(){return super.data()}}function jh(n,e){return typeof e=="string"?Ag(n,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class Rg extends Pg{}function ui(n,e,...t){let r=[];e instanceof Pg&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((m=>m instanceof jg)).length,f=a.filter((m=>m instanceof Dh)).length;if(u>1||u>0&&f>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Dh extends Rg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Dh(e,t,r)}_apply(e){const t=this._parse(e);return A1(e._query,t),new Fi(e.firestore,e.converter,yp(e._query,t))}_parse(e){const t=Ig(e.firestore);return(function(a,u,f,m,g,x,_){let E;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){tw(_,x);const O=[];for(const I of _)O.push(ew(m,a,I));E={arrayValue:{values:O}}}else E=ew(m,a,_)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||tw(_,x),E=ij(f,u,_,x==="in"||x==="not-in");return Vt.create(g,x,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ta(n,e,t){const r=e,o=jh("where",n);return Dh._create(o,r,t)}class jg extends Pg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:yr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const f=a.getFlattenedFilters();for(const m of f)A1(u,m),u=yp(u,m)})(e._query,t),new Fi(e.firestore,e.converter,yp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends Rg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dg(e,t)}_apply(e){const t=(function(o,a,u){if(o.startAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pc(a,u)})(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,(function(o,a){const u=o.explicitOrderBy.concat([a]);return new hl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function di(n,e="asc"){const t=e,r=jh("orderBy",n);return Dg._create(r,t)}class Mg extends Rg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Mg(e,t,r)}_apply(e){return new Fi(e.firestore,e.converter,Yd(e._query,this._limit,this._limitType))}}function cj(n){return h2("limit",n),Mg._create("limit",n,"F")}function ew(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sb(e)&&t.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ht.fromString(t));if(!Ae.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yx(n,new Ae(r))}if(t instanceof Ut)return yx(n,t._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(t)}.`)}function tw(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A1(n,e){const t=(function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uj{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Li(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Kd].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new Xr(t)}convertGeoPoint(e){return new Yr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_h(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=Ai(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);st(Qb(r),9688,{name:e});const o=new kc(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return o.isEqual(t)||As(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class gc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends k1{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Eo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:Ft("string",Eo._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Pd extends Eo{data(e={}){return super.data(e)}}class Fa{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new gc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Pd(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const m=new Pd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new gc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const m=new Pd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new gc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,x=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:hj(f.type),doc:m,oldIndex:g,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(n){n=Ps(n,Ut);const e=Ps(n.firestore,ml);return KR(Tg(e),n._key).then((t=>pj(e,n,t)))}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ft("string",Fa._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class P1 extends uj{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function xo(n){n=Ps(n,Fi);const e=Ps(n.firestore,ml),t=Tg(e),r=new P1(e);return lj(n._query),QR(t,n._query).then((o=>new Fa(e,r,n,o)))}function Sa(n,e,t,...r){n=Ps(n,Ut);const o=Ps(n.firestore,ml),a=Ig(o);let u;return u=typeof(e=Dt(e))=="string"||e instanceof Ph?sj(a,"updateDoc",n._key,e,t,r):rj(a,"updateDoc",n._key,e),Og(o,[u.toMutation(n._key,pr.exists(!0))])}function mj(n){return Og(Ps(n.firestore,ml),[new ag(n._key,pr.none())])}function Rd(n,e){const t=Ps(n.firestore,ml),r=Ts(n),o=dj(n.converter,e);return Og(t,[nj(Ig(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then((()=>r))}function Og(n,e){return(function(r,o){const a=new Ns;return r.asyncQueue.enqueueAndForget((async()=>OR(await GR(r),o,a))),a.promise})(Tg(n),e)}function pj(n,e,t){const r=t.docs.get(e._key),o=new P1(n);return new Eo(n,o,e._key,r,new gc(t.hasPendingWrites,t.fromCache),e.converter)}function tr(){return new Ng("serverTimestamp")}function cc(n){return new Cg("increment",n)}(function(e,t=!0){(function(o){cl=o})(ll),ts(new gr("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new ml(new r2(r.getProvider("auth-internal")),new o2(u,r.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(g.options.projectId,x)})(u,o),u);return a={useFetchStreams:t,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),sr(sx,ix,e),sr(sx,ix,"esm2020")})();var gj="firebase",yj="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(gj,yj,"app");function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vj=R1,j1=new Mo("auth","Firebase",R1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new yh("@firebase/auth");function xj(n,...e){nh.logLevel<=Qe.WARN&&nh.warn(`Auth (${ll}): ${n}`,...e)}function jd(n,...e){nh.logLevel<=Qe.ERROR&&nh.error(`Auth (${ll}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,...e){throw Lg(n,...e)}function Jr(n,...e){return Lg(n,...e)}function D1(n,e,t){const r={...vj(),[e]:t};return new Mo("auth","Firebase",r).create(e,{appName:n.name})}function Cs(n){return D1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return j1.create(n,...e)}function Ve(n,e,...t){if(!n)throw Lg(e,...t)}function Ss(n){const e="INTERNAL ASSERTION FAILED: "+n;throw jd(e),new Error(e)}function js(n,e){n||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){return typeof self<"u"&&self.location?.href||""}function wj(){return nw()==="http:"||nw()==="https:"}function nw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wj()||H_()||"connection"in navigator)?navigator.onLine:!0}function bj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.shortDelay=e,this.longDelay=t,js(t>e,"Short delay should be less than long delay!"),this.isMobile=Ak()||jk()}get(){return _j()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(n,e){js(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sj=new Kc(3e4,6e4);function Ui(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function zi(n,e,t,r,o={}){return O1(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Uc({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...a};return Rk()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&al(n.emulatorConfig.host)&&(g.credentials="include"),M1.fetch()(await L1(n,n.config.apiHost,t,f),g)})}async function O1(n,e,t){n._canInitEmulator=!1;const r={...Ej,...e};try{const o=new Nj(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw xd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw xd(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw xd(n,"user-disabled",u);const x=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw D1(n,x,g);vr(n,x)}}catch(o){if(o instanceof _r)throw o;vr(n,"network-request-failed",{message:String(o)})}}async function Qc(n,e,t,r,o={}){const a=await zi(n,e,t,r,o);return"mfaPendingCredential"in a&&vr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function L1(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Vg(n.config,o):`${n.config.apiScheme}://${o}`;return Tj.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Ij(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),Sj.get())})}}function xd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Jr(n,e,r);return o.customData._tokenResponse=t,o}function rw(n){return n!==void 0&&n.enterprise!==void 0}class Cj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ij(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kj(n,e){return zi(n,"GET","/v2/recaptchaConfig",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(n,e){return zi(n,"POST","/v1/accounts:delete",e)}async function rh(n,e){return zi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pj(n,e=!1){const t=Dt(n),r=await t.getIdToken(e),o=Fg(r);Ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Ec(Um(o.auth_time)),issuedAtTime:Ec(Um(o.iat)),expirationTime:Ec(Um(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Um(n){return Number(n)*1e3}function Fg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return jd("JWT malformed, contained fewer than 3 sections"),null;try{const o=V_(t);return o?JSON.parse(o):(jd("Failed to decode base64 JWT payload"),null)}catch(o){return jd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sw(n){const e=Fg(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _r&&Rj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Rj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(n){const e=n.auth,t=await n.getIdToken(),r=await Oc(n,rh(e,{idToken:t}));Ve(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?V1(o.providerUserInfo):[],u=Mj(n.providerData,a),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!u?.length,g=f?m:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new kp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,x)}async function Dj(n){const e=Dt(n);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mj(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function V1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(n,e){const t=await O1(n,{},async()=>{const r=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await L1(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return n.emulatorConfig&&al(n.emulatorConfig.host)&&(m.credentials="include"),M1.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Lj(n,e){return zi(n,"POST","/v2/accounts:revokeToken",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=sw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Oj(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Ua;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ve(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ve(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Oc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Pj(this,e)}reload(){return Dj(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nr(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Oc(this,Aj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:k,providerData:O,stsTokenManager:I}=t;Ve(_&&I,e,"internal-error");const R=Ua.fromJSON(this.name,I);Ve(typeof _=="string",e,"internal-error"),hi(r,e.name),hi(o,e.name),Ve(typeof E=="boolean",e,"internal-error"),Ve(typeof k=="boolean",e,"internal-error"),hi(a,e.name),hi(u,e.name),hi(f,e.name),hi(m,e.name),hi(g,e.name),hi(x,e.name);const $=new mr({uid:_,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:k,photoURL:u,phoneNumber:a,tenantId:f,stsTokenManager:R,createdAt:g,lastLoginAt:x});return O&&Array.isArray(O)&&($.providerData=O.map(H=>({...H}))),m&&($._redirectEventId=m),$}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ua;o.updateFromServerResponse(t);const a=new mr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await sh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ve(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?V1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,f=new Ua;f.updateFromIdToken(r);const m=new mr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;function Is(n){js(n instanceof Function,"Expected a class definition");let e=iw.get(n);return e?(js(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,iw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}F1.type="NONE";const ow=F1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n,e,t){return`firebase:${n}:${e}:${t}`}class za{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Dd(this.userKey,o.apiKey,a),this.fullPersistenceKey=Dd("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rh(this.auth,{idToken:e}).catch(()=>{});return t?mr._fromGetAccountInfoResponse(this.auth,t,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new za(Is(ow),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||Is(ow);const u=Dd(r,e.config.apiKey,e.name);let f=null;for(const g of t)try{const x=await g._get(u);if(x){let _;if(typeof x=="string"){const E=await rh(e,{idToken:x}).catch(()=>{});if(!E)break;_=await mr._fromGetAccountInfoResponse(e,E,x)}else _=mr._fromJSON(e,x);g!==a&&(f=_),a=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new za(a,e,r):(a=m[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new za(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W1(e))return"Blackberry";if(q1(e))return"Webos";if(z1(e))return"Safari";if((e.includes("chrome/")||B1(e))&&!e.includes("edge/"))return"Chrome";if(H1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function U1(n=fn()){return/firefox\//i.test(n)}function z1(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B1(n=fn()){return/crios\//i.test(n)}function $1(n=fn()){return/iemobile/i.test(n)}function H1(n=fn()){return/android/i.test(n)}function W1(n=fn()){return/blackberry/i.test(n)}function q1(n=fn()){return/webos/i.test(n)}function Ug(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Vj(n=fn()){return Ug(n)&&!!window.navigator?.standalone}function Fj(){return Dk()&&document.documentMode===10}function G1(n=fn()){return Ug(n)||H1(n)||q1(n)||W1(n)||/windows phone/i.test(n)||$1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n,e=[]){let t;switch(n){case"Browser":t=aw(fn());break;case"Worker":t=`${aw(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const m=e(a);u(m)}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(n,e={}){return zi(n,"GET","/v2/passwordPolicy",Ui(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=6;class $j{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Bj,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lw(this),this.idTokenSubscription=new lw(this),this.beforeStateQueue=new Uj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Is(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rh(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(nr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===u)&&f?.user&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nr(this.app))return Promise.reject(Cs(this));const t=e?Dt(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nr(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nr(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zj(this),t=new $j(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lj(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Is(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,o);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fo(n){return Dt(n)}class lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=zk(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wj(n){Mh=n}function Q1(n){return Mh.loadJS(n)}function qj(){return Mh.recaptchaEnterpriseScript}function Gj(){return Mh.gapiScript}function Kj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Qj{constructor(){this.enterprise=new Yj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Yj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Xj="recaptcha-enterprise",Y1="NO_RECAPTCHA";class Jj{constructor(e){this.type=Xj,this.auth=Fo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{kj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new Cj(m);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,u(g.siteKey)}}).catch(m=>{f(m)})})}function o(a,u,f){const m=window.grecaptcha;rw(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(g=>{u(g)}).catch(()=>{u(Y1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qj().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!t&&rw(window.grecaptcha))o(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=qj();m.length!==0&&(m+=f),Q1(m).then(()=>{o(f,a,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function cw(n,e,t,r=!1,o=!1){const a=new Jj(n);let u;if(o)u=Y1;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ap(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await cw(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await cw(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(n,e){const t=Oo(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ci(a,e??{}))return o;vr(o,"already-initialized")}return t.initialize({options:e})}function e4(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Is);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function t4(n,e,t){const r=Fo(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=X1(e),{host:u,port:f}=n4(e),m=f===null?"":`:${f}`,g={url:`${a}//${u}${m}/`},x=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(Ci(g,r.config.emulator)&&Ci(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,al(u)?(B_(`${a}//${u}${m}`),$_("Auth",!0)):r4()}function X1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function n4(n){const e=X1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:uw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:uw(u)}}}function uw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function r4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,t){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function s4(n,e){return zi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(n,e){return Qc(n,"POST","/v1/accounts:signInWithPassword",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e){return Qc(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}async function a4(n,e){return Qc(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends zg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Lc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Lc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,t,"signInWithPassword",i4);case"emailLink":return o4(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,r,"signUpPassword",s4);case"emailLink":return a4(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(n,e){return Qc(n,"POST","/v1/accounts:signInWithIdp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="http://localhost";class Io extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new Io(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ba(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ba(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ba(e,t)}buildRequest(){const e={requestUri:l4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u4(n){const e=uc(dc(n)).link,t=e?uc(dc(e)).deep_link_id:null,r=uc(dc(n)).deep_link_id;return(r?uc(dc(r)).link:null)||r||t||e||n}class Bg{constructor(e){const t=uc(dc(e)),r=t.apiKey??null,o=t.oobCode??null,a=c4(t.mode??null);Ve(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=u4(e);try{return new Bg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,t){return Lc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Bg.parseLink(t);return Ve(r,"argument-error"),Lc._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Yc{constructor(){super("facebook.com")}static credential(e){return Io._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Io._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gi.credential(t,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Yc{constructor(){super("github.com")}static credential(e){return Io._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Yc{constructor(){super("twitter.com")}static credential(e,t){return Io._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return vi.credential(t,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n,e){return Qc(n,"POST","/v1/accounts:signUp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await mr._fromIdTokenResponse(e,r,o),u=dw(r);return new No({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=dw(r);return new No({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function dw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends _r{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new ih(e,t,r,o)}}function Z1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(n,a,e,r):a})}async function h4(n,e,t=!1){const r=await Oc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return No._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(n,e,t=!1){const{auth:r}=n;if(nr(r.app))return Promise.reject(Cs(r));const o="reauthenticate";try{const a=await Oc(n,Z1(r,o,e,n),t);Ve(a.idToken,r,"internal-error");const u=Fg(a.idToken);Ve(u,r,"internal-error");const{sub:f}=u;return Ve(n.uid===f,r,"user-mismatch"),No._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&vr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(n,e,t=!1){if(nr(n.app))return Promise.reject(Cs(n));const r="signIn",o=await Z1(n,r,e),a=await No._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function m4(n,e){return eE(Fo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(n){const e=Fo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p4(n,e,t){if(nr(n.app))return Promise.reject(Cs(n));const r=Fo(n),u=await Ap(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d4).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&tE(n),m}),f=await No._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function g4(n,e,t){return nr(n.app)?Promise.reject(Cs(n)):m4(Dt(n),pl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tE(n),r})}function y4(n,e,t,r){return Dt(n).onIdTokenChanged(e,t,r)}function v4(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function hw(n,e,t,r){return Dt(n).onAuthStateChanged(e,t,r)}function x4(n){return Dt(n).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=1e3,_4=10;class rE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Fj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_4):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},w4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rE.type="LOCAL";const b4=rE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sE.type="SESSION";const iE=sE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async g=>g(t.origin,a)),m=await E4(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,m)=>{const g=$g("",20);o.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(x),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(E.data.response);break;default:clearTimeout(x),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function S4(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function I4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N4(){return navigator?.serviceWorker?.controller||null}function C4(){return oE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="firebaseLocalStorageDb",k4=1,ah="firebaseLocalStorage",lE="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lh(n,e){return n.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function A4(){const n=indexedDB.deleteDatabase(aE);return new Xc(n).toPromise()}function Pp(){const n=indexedDB.open(aE,k4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ah,{keyPath:lE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await A4(),e(await Pp()))})})}async function fw(n,e,t){const r=Lh(n,!0).put({[lE]:e,value:t});return new Xc(r).toPromise()}async function P4(n,e){const t=Lh(n,!1).get(e),r=await new Xc(t).toPromise();return r===void 0?null:r.value}function mw(n,e){const t=Lh(n,!0).delete(e);return new Xc(t).toPromise()}const R4=800,j4=3;class cE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>j4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(C4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I4(),!this.activeServiceWorker)return;this.sender=new T4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pp();return await fw(e,oh,"1"),await mw(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>P4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Lh(o,!1).getAll();return new Xc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cE.type="LOCAL";const D4=cE;new Kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(n,e){return e?Is(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ba(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function O4(n){return eE(n.auth,new Hg(n),n.bypassAuthState)}function L4(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),f4(t,new Hg(n),n.bypassAuthState)}async function V4(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),h4(t,new Hg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O4;case"linkViaPopup":case"linkViaRedirect":return V4;case"reauthViaPopup":case"reauthViaRedirect":return L4;default:vr(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new Kc(2e3,1e4);class Ma extends uE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=$g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F4.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="pendingRedirect",Md=new Map;class z4 extends uE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const r=await B4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B4(n,e){const t=W4(e),r=H4(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function $4(n,e){Md.set(n._key(),e)}function H4(n){return Is(n._redirectPersistence)}function W4(n){return Dd(U4,n.config.apiKey,n.name)}async function q4(n,e,t=!1){if(nr(n.app))return Promise.reject(Cs(n));const r=Fo(n),o=M4(r,e),u=await new z4(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=600*1e3;class K4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!dE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Jr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G4&&this.cachedEventUids.clear(),this.cachedEventUids.has(pw(e))}saveEventToCache(e){this.cachedEventUids.add(pw(e)),this.lastProcessedEventTime=Date.now()}}function pw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Q4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(n,e={}){return zi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J4=/^https?/;async function Z4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Y4(n);for(const t of e)try{if(eD(t))return}catch{}vr(n,"unauthorized-domain")}function eD(n){const e=Cp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!J4.test(t))return!1;if(X4.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Kc(3e4,6e4);function gw(){const n=Zr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nD(n){return new Promise((e,t)=>{function r(){gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gw(),t(Jr(n,"network-request-failed"))},timeout:tD.get()})}if(Zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zr().gapi?.load)r();else{const o=Kj("iframefcb");return Zr()[o]=()=>{gapi.load?r():t(Jr(n,"network-request-failed"))},Q1(`${Gj()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Od=null,e})}let Od=null;function rD(n){return Od=Od||nD(n),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Kc(5e3,15e3),iD="__/auth/iframe",oD="emulator/auth/iframe",aD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cD(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Vg(e,oD):`https://${n.config.authDomain}/${iD}`,r={apiKey:e.apiKey,appName:n.name,v:ll},o=lD.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Uc(r).slice(1)}`}async function uD(n){const e=await rD(n),t=Zr().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:cD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aD,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Jr(n,"network-request-failed"),f=Zr().setTimeout(()=>{a(u)},sD.get());function m(){Zr().clearTimeout(f),o(r)}r.ping(m).then(m,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hD=500,fD=600,mD="_blank",pD="http://localhost";class yw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gD(n,e,t,r=hD,o=fD){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m={...dD,width:r.toString(),height:o.toString(),top:a,left:u},g=fn().toLowerCase();t&&(f=B1(g)?mD:t),U1(g)&&(e=e||pD,m.scrollbars="yes");const x=Object.entries(m).reduce((E,[k,O])=>`${E}${k}=${O},`,"");if(Vj(g)&&f!=="_self")return yD(e||"",f),new yw(null);const _=window.open(e||"",f,x);Ve(_,n,"popup-blocked");try{_.focus()}catch{}return new yw(_)}function yD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__/auth/handler",xD="emulator/auth/handler",wD=encodeURIComponent("fac");async function vw(n,e,t,r,o,a){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ll,eventId:o};if(e instanceof J1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Uk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))u[x]=_}if(e instanceof Yc){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(u.scopes=x.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const m=await n._getAppCheckToken(),g=m?`#${wD}=${encodeURIComponent(m)}`:"";return`${_D(n)}?${Uc(f).slice(1)}${g}`}function _D({config:n}){return n.emulator?Vg(n,xD):`https://${n.authDomain}/${vD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class bD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iE,this._completeRedirectFn=q4,this._overrideRedirectResult=$4}async _openPopup(e,t,r,o){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await vw(e,t,r,Cp(),o);return gD(e,a,$g())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await vw(e,t,r,Cp(),o);return S4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(js(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await uD(e),r=new K4(e);return t.register("authEvent",o=>(Ve(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{const a=o?.[0]?.[zm];a!==void 0&&t(!!a),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Z4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return G1()||z1()||Ug()}}const ED=bD;var xw="@firebase/auth",ww="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ID(n){ts(new gr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K1(n)},g=new Hj(r,o,a,m);return e4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ts(new gr("auth-internal",e=>{const t=Fo(e.getProvider("auth").getImmediate());return(r=>new TD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(xw,ww,SD(n)),sr(xw,ww,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=300,CD=z_("authIdTokenMaxAge")||ND;let _w=null;const kD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>CD)return;const o=t?.token;_w!==o&&(_w=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AD(n=Xp()){const e=Oo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Zj(n,{popupRedirectResolver:ED,persistence:[D4,b4,iE]}),r=z_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=kD(a.toString());v4(t,u,()=>u(t.currentUser)),y4(t,f=>u(f))}}const o=F_("auth");return o&&t4(t,`http://${o}`),t}function PD(){return document.getElementsByTagName("head")?.[0]??document}Wj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Jr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",PD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ID("Browser");const hE="@firebase/installations",Wg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=1e4,mE=`w:${Wg}`,pE="FIS_v2",RD="https://firebaseinstallations.googleapis.com/v1",jD=3600*1e3,DD="installations",MD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Co=new Mo(DD,MD,OD);function gE(n){return n instanceof _r&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE({projectId:n}){return`${RD}/projects/${n}/installations`}function vE(n){return{token:n.token,requestStatus:2,expiresIn:VD(n.expiresIn),creationTime:Date.now()}}async function xE(n,e){const r=(await e.json()).error;return Co.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function wE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function LD(n,{refreshToken:e}){const t=wE(n);return t.append("Authorization",FD(e)),t}async function _E(n){const e=await n();return e.status>=500&&e.status<600?n():e}function VD(n){return Number(n.replace("s","000"))}function FD(n){return`${pE} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=yE(n),o=wE(n),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const u={fid:t,authVersion:pE,appId:n.appId,sdkVersion:mE},f={method:"POST",headers:o,body:JSON.stringify(u)},m=await _E(()=>fetch(r,f));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:vE(g.authToken)}}else throw await xE("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=/^[cdef][\w-]{21}$/,Rp="";function $D(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=HD(n);return BD.test(t)?t:Rp}catch{return Rp}}function HD(n){return zD(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function TE(n,e){const t=Vh(n);SE(t,e),WD(t,e)}function SE(n,e){const t=EE.get(n);if(t)for(const r of t)r(e)}function WD(n,e){const t=qD();t&&t.postMessage({key:n,fid:e}),GD()}let bo=null;function qD(){return!bo&&"BroadcastChannel"in self&&(bo=new BroadcastChannel("[Firebase] FID Change"),bo.onmessage=n=>{SE(n.data.key,n.data.fid)}),bo}function GD(){EE.size===0&&bo&&(bo.close(),bo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="firebase-installations-database",QD=1,ko="firebase-installations-store";let Bm=null;function qg(){return Bm||(Bm=Q_(KD,QD,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ko)}}})),Bm}async function lh(n,e){const t=Vh(n),o=(await qg()).transaction(ko,"readwrite"),a=o.objectStore(ko),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&TE(n,e.fid),e}async function IE(n){const e=Vh(n),r=(await qg()).transaction(ko,"readwrite");await r.objectStore(ko).delete(e),await r.done}async function Fh(n,e){const t=Vh(n),o=(await qg()).transaction(ko,"readwrite"),a=o.objectStore(ko),u=await a.get(t),f=e(u);return f===void 0?await a.delete(t):await a.put(f,t),await o.done,f&&(!u||u.fid!==f.fid)&&TE(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(n){let e;const t=await Fh(n.appConfig,r=>{const o=YD(r),a=XD(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Rp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function YD(n){const e=n||{fid:$D(),registrationStatus:0};return NE(e)}function XD(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Co.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=JD(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZD(n)}:{installationEntry:e}}async function JD(n,e){try{const t=await UD(n,e);return lh(n.appConfig,t)}catch(t){throw gE(t)&&t.customData.serverCode===409?await IE(n.appConfig):await lh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ZD(n){let e=await bw(n.appConfig);for(;e.registrationStatus===1;)await bE(100),e=await bw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Gg(n);return r||t}return e}function bw(n){return Fh(n,e=>{if(!e)throw Co.create("installation-not-found");return NE(e)})}function NE(n){return eM(n)?{fid:n.fid,registrationStatus:0}:n}function eM(n){return n.registrationStatus===1&&n.registrationTime+fE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM({appConfig:n,heartbeatServiceProvider:e},t){const r=nM(n,t),o=LD(n,t),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const u={installation:{sdkVersion:mE,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(u)},m=await _E(()=>fetch(r,f));if(m.ok){const g=await m.json();return vE(g)}else throw await xE("Generate Auth Token",m)}function nM(n,{fid:e}){return`${yE(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(n,e=!1){let t;const r=await Fh(n.appConfig,a=>{if(!CE(a))throw Co.create("not-registered");const u=a.authToken;if(!e&&iM(u))return a;if(u.requestStatus===1)return t=rM(n,e),a;{if(!navigator.onLine)throw Co.create("app-offline");const f=aM(a);return t=sM(n,f),f}});return t?await t:r.authToken}async function rM(n,e){let t=await Ew(n.appConfig);for(;t.authToken.requestStatus===1;)await bE(100),t=await Ew(n.appConfig);const r=t.authToken;return r.requestStatus===0?Kg(n,e):r}function Ew(n){return Fh(n,e=>{if(!CE(e))throw Co.create("not-registered");const t=e.authToken;return lM(t)?{...e,authToken:{requestStatus:0}}:e})}async function sM(n,e){try{const t=await tM(n,e),r={...e,authToken:t};return await lh(n.appConfig,r),t}catch(t){if(gE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await IE(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await lh(n.appConfig,r)}throw t}}function CE(n){return n!==void 0&&n.registrationStatus===2}function iM(n){return n.requestStatus===2&&!oM(n)}function oM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+jD}function aM(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function lM(n){return n.requestStatus===1&&n.requestTime+fE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(n){const e=n,{installationEntry:t,registrationPromise:r}=await Gg(e);return r?r.catch(console.error):Kg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n,e=!1){const t=n;return await dM(t),(await Kg(t,e)).token}async function dM(n){const{registrationPromise:e}=await Gg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(n){if(!n||!n.options)throw $m("App Configuration");if(!n.name)throw $m("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw $m(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function $m(n){return Co.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="installations",fM="installations-internal",mM=n=>{const e=n.getProvider("app").getImmediate(),t=hM(e),r=Oo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},pM=n=>{const e=n.getProvider("app").getImmediate(),t=Oo(e,kE).getImmediate();return{getId:()=>cM(t),getToken:o=>uM(t,o)}};function gM(){ts(new gr(kE,mM,"PUBLIC")),ts(new gr(fM,pM,"PRIVATE"))}gM();sr(hE,Wg);sr(hE,Wg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="analytics",yM="firebase_id",vM="origin",xM=60*1e3,wM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new Mo("analytics","Analytics",_M);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(n){if(!n.startsWith(Qg)){const e=$n.create("invalid-gtag-resource",{gtagURL:n});return xn.warn(e.message),""}return n}function AE(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function EM(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function TM(n,e){const t=EM("firebase-js-sdk-policy",{createScriptURL:bM}),r=document.createElement("script"),o=`${Qg}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function SM(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function IM(n,e,t,r,o,a){const u=r[o];try{if(u)await e[u];else{const m=(await AE(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(f){xn.error(f)}n("config",o,a)}async function NM(n,e,t,r,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const f=await AE(t);for(const m of u){const g=f.find(_=>_.measurementId===m),x=g&&e[g.appId];if(x)a.push(x);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,o||{})}catch(a){xn.error(a)}}function CM(n,e,t,r){async function o(a,...u){try{if(a==="event"){const[f,m]=u;await NM(n,e,t,f,m)}else if(a==="config"){const[f,m]=u;await IM(n,e,t,r,f,m)}else if(a==="consent"){const[f,m]=u;n("consent",f,m)}else if(a==="get"){const[f,m,g]=u;n("get",f,m,g)}else if(a==="set"){const[f]=u;n("set",f)}else n(a,...u)}catch(f){xn.error(f)}}return o}function kM(n,e,t,r,o){let a=function(...u){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=CM(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function AM(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Qg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=30,RM=1e3;class jM{constructor(e={},t=RM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PE=new jM;function DM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function MM(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:DM(t)},o=wM.replace("{app-id}",e),a=await fetch(o,r);if(a.status!==200&&a.status!==304){let u="";try{const f=await a.json();f.error?.message&&(u=f.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function OM(n,e=PE,t){const{appId:r,apiKey:o,measurementId:a}=n.options;if(!r)throw $n.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw $n.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new FM;return setTimeout(async()=>{f.abort()},xM),RE({appId:r,apiKey:o,measurementId:a},u,f,e)}async function RE(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=PE){const{appId:a,measurementId:u}=n;try{await LM(r,e)}catch(f){if(u)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:u};throw f}try{const f=await MM(n);return o.deleteThrottleMetadata(a),f}catch(f){const m=f;if(!VM(m)){if(o.deleteThrottleMetadata(a),u)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:a,measurementId:u};throw f}const g=Number(m?.customData?.httpStatus)===503?K0(t,o.intervalMillis,PM):K0(t,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return o.setThrottleMetadata(a,x),xn.debug(`Calling attemptFetch again in ${g} millis`),RE(n,x,r,o)}}function LM(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VM(n){if(!(n instanceof _r)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class FM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function UM(n,e,t,r,o){if(o&&o.global){n("event",t,r);return}else{const a=await e,u={...r,send_to:a};n("event",t,u)}}async function zM(n,e,t,r){if(r&&r.global){const o={};for(const a of Object.keys(t))o[`user_properties.${a}`]=t[a];return n("set",o),Promise.resolve()}else{const o=await e;n("config",o,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(){if(W_())try{await q_()}catch(n){return xn.warn($n.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return xn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $M(n,e,t,r,o,a,u){const f=OM(n);f.then(E=>{t[E.measurementId]=E.appId,n.options.measurementId&&E.measurementId!==n.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>xn.error(E)),e.push(f);const m=BM().then(E=>{if(E)return r.getId()}),[g,x]=await Promise.all([f,m]);AM(a)||TM(a,g.measurementId),o("js",new Date);const _=u?.config??{};return _[vM]="firebase",_.update=!0,x!=null&&(_[yM]=x),o("config",g.measurementId,_),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.app=e}_delete(){return delete $a[this.app.options.appId],Promise.resolve()}}let $a={},Tw=[];const Sw={};let Hm="dataLayer",WM="gtag",Iw,Yg,Nw=!1;function qM(){const n=[];if(H_()&&n.push("This is a browser extension environment."),Ok()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=$n.create("invalid-analytics-context",{errorInfo:e});xn.warn(t.message)}}function GM(n,e,t){qM();const r=n.options.appId;if(!r)throw $n.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if($a[r]!=null)throw $n.create("already-exists",{id:r});if(!Nw){SM(Hm);const{wrappedGtag:a,gtagCore:u}=kM($a,Tw,Sw,Hm,WM);Yg=a,Iw=u,Nw=!0}return $a[r]=$M(n,Tw,Sw,e,Iw,Hm,t),new HM(n)}function KM(n=Xp()){n=Dt(n);const e=Oo(n,ch);return e.isInitialized()?e.getImmediate():QM(n)}function QM(n,e={}){const t=Oo(n,ch);if(t.isInitialized()){const o=t.getImmediate();if(Ci(e,t.getOptions()))return o;throw $n.create("already-initialized")}return t.initialize({options:e})}function YM(n,e,t){n=Dt(n),zM(Yg,$a[n.app.options.appId],e,t).catch(r=>xn.error(r))}function XM(n,e,t,r){n=Dt(n),UM(Yg,$a[n.app.options.appId],e,t,r).catch(o=>xn.error(o))}const Cw="@firebase/analytics",kw="0.10.19";function JM(){ts(new gr(ch,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return GM(r,o,t)},"PUBLIC")),ts(new gr("analytics-internal",n,"PRIVATE")),sr(Cw,kw),sr(Cw,kw,"esm2020");function n(e){try{const t=e.getProvider(ch).getImmediate();return{logEvent:(r,o,a)=>XM(t,r,o,a),setUserProperties:(r,o)=>YM(t,r,o)}}catch(t){throw $n.create("interop-component-reg-failed",{reason:t})}}}JM();const ZM={apiKey:"AIzaSyDapRSmQtBhOEGJCHfrg-XGHhLrJhQoPTk",authDomain:"maclabs-blog.firebaseapp.com",projectId:"maclabs-blog",storageBucket:"maclabs-blog.firebasestorage.app",messagingSenderId:"291453247761",appId:"1:291453247761:web:bd1d6e397217d96a6f6cb0",measurementId:"G-E32WFEZ64K"},Uh=Y_(ZM),Oa=XR(Uh),ja=AD(Uh);typeof window<"u"&&KM(Uh);const e6=async()=>{try{return console.log("🔥 Testing Firebase connection..."),console.log("Firebase App:",Uh.name),console.log("Firestore DB:",Oa.app.name),console.log("Auth:",ja.app.name),console.log("✅ Firebase connection successful!"),!0}catch(n){return console.error("❌ Firebase connection failed:",n),!1}};class t6{postsCollection=pc(Oa,"blog_posts");categoriesCollection=pc(Oa,"blog_categories");analyticsCollection=pc(Oa,"blog_analytics");commentsCollection=pc(Oa,"blog_comments");async getAllPosts(){try{const e=ui(this.postsCollection,di("createdAt","desc"));return(await xo(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching posts:",e),[]}}async getPublishedPosts(){try{const e=ui(this.postsCollection,di("createdAt","desc"));return(await xo(e)).docs.map(o=>({id:o.id,...o.data()})).filter(o=>o.published===!0)}catch(e){return console.error("Error fetching published posts:",e),[]}}async getFeaturedPosts(){try{const e=ui(this.postsCollection,di("createdAt","desc"));return(await xo(e)).docs.map(o=>({id:o.id,...o.data()})).filter(o=>o.published===!0&&o.featured===!0)}catch(e){return console.error("Error fetching featured posts:",e),[]}}async getPostById(e){try{const t=Ts(this.postsCollection,e),r=await fj(t);return r.exists()?{id:r.id,...r.data()}:null}catch(t){return console.error("Error fetching post:",t),null}}async getPostsByCategory(e){try{const t=ui(this.postsCollection,Ta("published","==",!0),Ta("category","==",e),di("createdAt","desc"));return(await xo(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){return console.error("Error fetching posts by category:",t),[]}}async getRelatedPosts(e,t=3){try{const r=await this.getPostById(e);if(!r)return[];const o=ui(this.postsCollection,Ta("published","==",!0),Ta("category","==",r.category),di("createdAt","desc"),cj(t+1));return(await xo(o)).docs.map(f=>({id:f.id,...f.data()})).filter(f=>f.id!==e).slice(0,t)}catch(r){return console.error("Error fetching related posts:",r),[]}}async createPost(e){try{return{id:(await Rd(this.postsCollection,{...e,createdAt:tr(),updatedAt:tr()})).id,...e,createdAt:new Date,updatedAt:new Date}}catch(t){return console.error("Error creating post:",t),null}}async updatePost(e,t){try{const r=Ts(this.postsCollection,e);return await Sa(r,{...t,updatedAt:tr()}),await this.getPostById(e)}catch(r){return console.error("Error updating post:",r),null}}async deletePost(e){try{const t=Ts(this.postsCollection,e);return await mj(t),!0}catch(t){return console.error("Error deleting post:",t),!1}}async incrementViews(e){try{const t=Ts(this.postsCollection,e);await Sa(t,{views:cc(1),updatedAt:tr()}),await this.logAnalytics(e,"view")}catch(t){console.error("Error incrementing views:",t)}}async incrementLikes(e){try{const t=Ts(this.postsCollection,e);await Sa(t,{likes:cc(1),updatedAt:tr()}),await this.logAnalytics(e,"like")}catch(t){console.error("Error incrementing likes:",t)}}async incrementShares(e){try{const t=Ts(this.postsCollection,e);await Sa(t,{shares:cc(1),updatedAt:tr()}),await this.logAnalytics(e,"share")}catch(t){console.error("Error incrementing shares:",t)}}async decrementLikes(e){try{const t=Ts(this.postsCollection,e);await Sa(t,{likes:cc(-1),updatedAt:tr()})}catch(t){console.error("Error decrementing likes:",t)}}async addComment(e,t){try{const r=await Rd(this.commentsCollection,{postId:e,author:t.author,content:t.content,isAnonymous:t.isAnonymous||!1,createdAt:tr(),updatedAt:tr()});return await this.incrementComments(e),await this.logAnalytics(e,"comment"),{id:r.id,postId:e,author:t.author,content:t.content,isAnonymous:t.isAnonymous||!1,createdAt:new Date,updatedAt:new Date}}catch(r){return console.error("Error adding comment:",r),null}}async getComments(e){try{const t=ui(this.commentsCollection,Ta("postId","==",e),di("createdAt","asc"));return(await xo(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){return console.error("Error fetching comments:",t),[]}}async incrementComments(e){try{const t=Ts(this.postsCollection,e);await Sa(t,{comments:cc(1),updatedAt:tr()})}catch(t){console.error("Error incrementing comments:",t)}}async getCategories(){try{const e=await this.getPublishedPosts(),t=new Map;e.forEach(o=>{t.set(o.category,(t.get(o.category)||0)+1)});const r=Array.from(t.entries()).map(([o,a])=>({name:o,count:a}));return r.unshift({name:"All Posts",count:e.length}),r}catch(e){return console.error("Error fetching categories:",e),[]}}async searchPosts(e){try{const t=await this.getPublishedPosts(),r=e.toLowerCase();return t.filter(o=>o.title.toLowerCase().includes(r)||o.excerpt.toLowerCase().includes(r)||o.tags.some(a=>a.toLowerCase().includes(r)))}catch(t){return console.error("Error searching posts:",t),[]}}async logAnalytics(e,t){try{await Rd(this.analyticsCollection,{postId:e,eventType:t,userAgent:typeof navigator<"u"?navigator.userAgent:"",referrer:typeof document<"u"?document.referrer:"",timestamp:tr()})}catch(r){console.error("Error logging analytics:",r)}}async getAnalytics(e){try{let t=ui(this.analyticsCollection,di("timestamp","desc"));return e&&(t=ui(this.analyticsCollection,Ta("postId","==",e),di("timestamp","desc"))),(await xo(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){return console.error("Error fetching analytics:",t),[]}}async getAnalyticsSummary(){try{const e=await this.getAnalytics(),t=await this.getAllPosts();return{totalViews:e.filter(o=>o.eventType==="view").length,totalLikes:e.filter(o=>o.eventType==="like").length,totalShares:e.filter(o=>o.eventType==="share").length,totalComments:e.filter(o=>o.eventType==="comment").length,topPosts:t.sort((o,a)=>a.views-o.views).slice(0,5).map(o=>({postId:o.id,title:o.title,views:o.views}))}}catch(e){return console.error("Error fetching analytics summary:",e),{totalViews:0,totalLikes:0,totalShares:0,totalComments:0,topPosts:[]}}}async migrateFromLocalStorage(){try{const e=localStorage.getItem("maclabs-blog-posts");if(!e)return;const t=JSON.parse(e);console.log(`Migrating ${t.length} posts from localStorage to Firestore...`);for(const r of t)await this.createPost({title:r.title,excerpt:r.excerpt,content:r.content,author:r.author,authorImage:r.authorImage,date:r.date,readTime:r.readTime,category:r.category,image:r.image,tags:r.tags,views:r.views||0,likes:r.likes||0,comments:r.comments||0,shares:r.shares||0,featured:r.featured||!1,published:r.published!==!1});console.log("Migration completed successfully!")}catch(e){console.error("Error during migration:",e)}}async initializeDefaultPosts(){try{if((await this.getAllPosts()).length>0)return;const t=[{title:"Understanding DeFi: The Future of Decentralized Finance",excerpt:"Explore how decentralized finance is revolutionizing traditional banking and financial services through blockchain technology and smart contracts.",content:`<p>Decentralized Finance, or DeFi, represents one of the most significant innovations in the financial sector since the advent of digital banking. By leveraging blockchain technology and smart contracts, DeFi is creating a new financial ecosystem that operates without traditional intermediaries like banks and financial institutions.</p>

<h2>What is DeFi?</h2>
<p>DeFi refers to financial applications built on blockchain networks, primarily Ethereum, that aim to recreate and improve upon traditional financial systems. Unlike conventional finance, DeFi applications are open, permissionless, and operate on a peer-to-peer basis.</p>

<h3>Key Components of DeFi</h3>
<ul>
<li><strong>Smart Contracts:</strong> Self-executing contracts with terms directly written into code</li>
<li><strong>Decentralized Exchanges (DEXs):</strong> Peer-to-peer trading platforms without central authorities</li>
<li><strong>Lending Protocols:</strong> Automated lending and borrowing systems</li>
<li><strong>Yield Farming:</strong> Earning rewards by providing liquidity to DeFi protocols</li>
</ul>

<h2>The Benefits of DeFi</h2>
<p>DeFi offers several advantages over traditional financial systems:</p>

<h3>1. Accessibility</h3>
<p>Anyone with an internet connection and a cryptocurrency wallet can access DeFi services, regardless of their location or financial status.</p>

<h3>2. Transparency</h3>
<p>All transactions and smart contract code are publicly visible on the blockchain, ensuring complete transparency.</p>

<h3>3. Interoperability</h3>
<p>DeFi protocols are designed to work together, creating a composable financial ecosystem.</p>

<h2>Popular DeFi Applications</h2>
<p>Some of the most successful DeFi platforms include:</p>

<ul>
<li><strong>Uniswap:</strong> A decentralized exchange for trading cryptocurrencies</li>
<li><strong>Compound:</strong> A lending protocol that allows users to earn interest on deposits</li>
<li><strong>Aave:</strong> A decentralized lending and borrowing platform</li>
<li><strong>MakerDAO:</strong> A protocol for creating and managing the DAI stablecoin</li>
</ul>

<h2>Risks and Challenges</h2>
<p>While DeFi offers exciting opportunities, it also comes with risks:</p>

<ul>
<li><strong>Smart Contract Risk:</strong> Bugs in smart contract code can lead to loss of funds</li>
<li><strong>Liquidity Risk:</strong> Sudden withdrawal of liquidity can affect protocol stability</li>
<li><strong>Regulatory Risk:</strong> Evolving regulations may impact DeFi operations</li>
<li><strong>Technical Risk:</strong> Blockchain network congestion and high gas fees</li>
</ul>

<h2>The Future of DeFi</h2>
<p>As DeFi continues to evolve, we can expect to see improvements in user experience, scalability, and security. The integration of traditional finance with DeFi protocols, known as "DeFi 2.0," promises to bring even more innovation to the space.</p>

<p>DeFi represents a paradigm shift in how we think about financial services. By removing intermediaries and leveraging blockchain technology, it's creating a more open, transparent, and accessible financial system for everyone.</p>`,author:"Sarah Chen",date:"2024-10-10",readTime:"8 min read",category:"DeFi",image:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxEZWZpJTIwY3J5cHRvY3VycmVuY3l8ZW58MXx8fHwxNzU3NzQ0NTUwfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tags:["DeFi","Blockchain","Finance","Ethereum"],views:1247,likes:89,comments:23,shares:45,featured:!0,published:!0}];for(const r of t)await this.createPost(r);console.log("Default posts initialized in Firestore")}catch(e){console.error("Error initializing default posts:",e)}}}const ot=new t6;function n6({onPageChange:n}){const[e,t]=S.useState([]),[r,o]=S.useState(null),[a,u]=S.useState([]),[f,m]=S.useState("All Posts"),[g,x]=S.useState(""),[_,E]=S.useState(new Set),[k,O]=S.useState({});S.useEffect(()=>((async()=>{try{console.log("🔄 Loading blog data...");const q=await ot.getPublishedPosts();console.log("📊 Published posts loaded:",q.length),t(q);const ee={};q.forEach(A=>{ee[A.id]=A.likes||0}),O(ee);const C=await ot.getFeaturedPosts();console.log("⭐ Featured posts loaded:",C.length),o(C[0]||null);const T=await ot.getCategories();console.log("📂 Categories loaded:",T.length),u(T.map(A=>({...A,active:A.name==="All Posts"})))}catch(q){console.error("Error loading blog data:",q)}})(),()=>{}),[]),S.useEffect(()=>{const U=localStorage.getItem("likedPosts");if(U)try{const q=JSON.parse(U);E(new Set(q))}catch(q){console.error("Error loading saved likes:",q)}},[]);const I=e.filter(U=>{const q=f==="All Posts"||U.category===f,ee=g===""||U.title.toLowerCase().includes(g.toLowerCase())||U.excerpt.toLowerCase().includes(g.toLowerCase())||U.content.toLowerCase().includes(g.toLowerCase())||U.tags.some(C=>C.toLowerCase().includes(g.toLowerCase()));return q&&ee}),R=U=>{m(U),u(q=>q.map(ee=>({...ee,active:ee.name===U})))},$=async(U,q)=>{q.stopPropagation();const ee=_.has(U),C=k[U]||0;if(ee){E(A=>{const D=new Set(A);return D.delete(U),D}),O(A=>({...A,[U]:Math.max(0,C-1)}));try{await ot.decrementLikes(U)}catch{}}else{E(A=>new Set(A).add(U)),O(A=>({...A,[U]:C+1}));try{await ot.incrementLikes(U)}catch{}}const T=Array.from(_);if(ee){const A=T.filter(D=>D!==U);localStorage.setItem("likedPosts",JSON.stringify(A))}else localStorage.setItem("likedPosts",JSON.stringify([...T,U]))},H=(U,q)=>{q.stopPropagation();const ee=e.find(A=>A.id===U);if(!ee)return;const C=`${window.location.origin}?post=${U}`,T=`Check out this article: ${ee.title}`;navigator.share?navigator.share({title:ee.title,text:T,url:C}):(navigator.clipboard.writeText(C),alert("Link copied to clipboard!"))},W=U=>new Date(U).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});return c.jsxs("div",{className:"pt-16",children:[c.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center mb-12",children:[c.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:["MacLabs Crypto & Web3",c.jsx("span",{className:"block text-blue-600 mt-2",children:"Marketing Insights"})]}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Stay ahead in the crypto space with expert insights on Web3 marketing, ghostwriting strategies, and actionable tips for crypto founders. Learn what's working for successful DeFi and Web3 projects."})]})})}),r&&c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[c.jsx(Bd,{className:"h-6 w-6 text-yellow-500 mr-2 fill-current"}),"Featured Article"]})}),c.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-0",children:[c.jsxs("div",{className:"relative h-[450px] lg:h-[600px]",children:[c.jsx(vn,{src:r.image,alt:r.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-md text-sm font-medium",children:r.category})})]}),c.jsxs("div",{className:"p-10 lg:p-12 flex flex-col justify-center border-l border-blue-300 bg-white",children:[c.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-4 leading-tight",children:r.title}),c.jsx("p",{className:"text-base text-gray-600 mb-6 leading-relaxed",children:r.excerpt}),c.jsxs("div",{className:"flex items-center gap-6 mb-6 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-6 h-6 rounded-full mr-2 overflow-hidden flex-shrink-0",children:r.authorImage?c.jsx(vn,{src:r.authorImage,alt:r.author,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-gray-300 rounded-full flex items-center justify-center",children:c.jsx(Xa,{className:"h-3 w-3 text-gray-600"})})}),c.jsx("span",{className:"font-medium",children:r.author})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tc,{className:"h-4 w-4 mr-2"}),W(r.date)]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),r.readTime]})]}),c.jsxs(Oe,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg w-fit font-medium",onClick:()=>n("blog-post",r.id.toString()),children:["Read Featured Article",c.jsx(La,{className:"ml-2 h-4 w-4"})]})]})]})})]})}),c.jsx("section",{className:"py-6 bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"bg-white border border-blue-300 rounded-xl p-6 shadow-sm",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[c.jsxs("div",{className:"relative flex-1 max-w-md pl-4",children:[c.jsx(Kp,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search articles...",value:g,onChange:U=>x(U.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-gray-50",style:{paddingLeft:"3.5rem"}})]}),c.jsxs("div",{className:"relative px-4",children:[c.jsx(HN,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("select",{value:f,onChange:U=>R(U.target.value),className:"pl-12 pr-8 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none bg-gray-50 text-gray-700",style:{paddingLeft:"3.5rem"},children:a.map((U,q)=>c.jsx("option",{value:U.name,children:U.name},q))})]})]})})})}),c.jsx("section",{className:"py-16 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-12",children:c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Latest Articles"})}),c.jsx("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 gap-6",children:I.map(U=>c.jsxs("article",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer group",onClick:()=>n("blog-post",U.id.toString()),children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx(vn,{src:U.image,alt:U.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",style:{borderRadius:"0.5rem 0.5rem 0 0"}}),c.jsx("div",{className:"absolute top-3 left-3",children:c.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:U.category})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 leading-tight mt-2",children:U.title}),c.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed text-sm",children:U.excerpt}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden flex-shrink-0",children:U.authorImage?c.jsx(vn,{src:U.authorImage,alt:U.author,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-gray-300 rounded-full flex items-center justify-center",children:c.jsx(Xa,{className:"h-3 w-3 text-gray-600"})})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:U.author})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-4 mt-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tc,{className:"h-4 w-4 mr-2"}),W(U.date)]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),U.readTime]})]}),c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:q=>$(U.id,q),className:`flex items-center gap-2 px-3 py-2 rounded-full text-sm border transition-all duration-200 ${_.has(U.id)?"bg-red-500 border-red-500 text-white":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[c.jsx(Qa,{className:"h-4 w-4",style:{fill:_.has(U.id)?"currentColor":"none",stroke:_.has(U.id)?"currentColor":"#ef4444",strokeWidth:2}}),c.jsx("span",{children:k[U.id]??U.likes??0})]}),c.jsxs("button",{onClick:q=>H(U.id,q),className:"flex items-center gap-1 px-3 py-2 rounded-full text-sm bg-gray-50 text-gray-600 border border-gray-200 hover:bg-gray-100 transition-all duration-200",children:[c.jsx(zd,{className:"h-4 w-4"}),c.jsx("span",{children:"Share"})]})]})}),c.jsx("div",{className:"w-full",children:c.jsx("div",{className:"text-gray-900 font-medium text-sm px-4 py-3 rounded-md hover:bg-gray-100 transition-all duration-300 cursor-pointer text-center transform hover:scale-105",children:"Read More →"})})]})]},U.id))}),c.jsx("div",{className:"text-center mt-12",children:c.jsxs(Oe,{variant:"outline",size:"lg",className:"group border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg",children:["Load More Posts",c.jsx(La,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})}),c.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-700",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8",children:[c.jsx(Bd,{className:"h-12 w-12 text-white mx-auto mb-6"}),c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Stay Ahead of the Curve"}),c.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Get the latest digital marketing insights, strategies, and trends delivered straight to your inbox. Join 2,000+ marketers who trust our weekly newsletter."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[c.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 px-4 py-3 rounded-lg border-2 border-white text-white placeholder-white/70 bg-white/5 focus:ring-2 focus:ring-white focus:border-white focus:bg-white/10 focus:outline-none transition-all duration-200"}),c.jsx(Oe,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 whitespace-nowrap",children:"Subscribe Now"})]}),c.jsx("p",{className:"text-white text-sm mt-4",children:"No spam, unsubscribe at any time. We respect your privacy."})]})})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Ready to Scale Your Crypto Project?"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Reading about crypto marketing is valuable, but implementation is where founders see real results. Let's work together to turn your Web3 expertise into authority and capital."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(Oe,{onClick:()=>n("contact"),size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:["Get Custom Crypto Strategy",c.jsx(La,{className:"ml-2 h-5 w-5"})]}),c.jsx(Oe,{variant:"outline",size:"lg",className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-3",onClick:()=>n("services"),children:"View Crypto Services"})]})]})})]})}function r6({onPageChange:n,postId:e}){const[t,r]=S.useState(!1),[o,a]=S.useState(!1),[u,f]=S.useState(!1),[m,g]=S.useState(!1),[x,_]=S.useState(null),[E,k]=S.useState([]),[O,I]=S.useState(0);if(S.useEffect(()=>{(async()=>{if(e)try{const ee=await ot.getPostById(e);if(ee){_(ee),await ot.incrementViews(e);const C=await ot.getRelatedPosts(e,3);k(C);const T=JSON.parse(localStorage.getItem("bookmarkedPosts")||"[]");g(T.includes(e))}}catch(ee){console.error("Error loading post data:",ee)}})()},[e]),S.useEffect(()=>{if(e){const q=JSON.parse(localStorage.getItem("likedPosts")||"[]");f(q.includes(e)),I(x?.likes||0)}},[e,x]),S.useEffect(()=>{const q=ee=>{t&&(ee.target.closest(".share-dropdown-container")||r(!1))};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[t]),!x)return c.jsx("div",{className:"pt-16 min-h-screen bg-white flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Post Not Found"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist."}),c.jsx(Oe,{onClick:()=>n("blog"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Back to Blog"})]})});const R=q=>new Date(q).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),$=q=>{const ee=window.location.href,C=x.title,T=x.excerpt,A=x.tags?x.tags.join(","):"crypto,web3,marketing";let D="";switch(q){case"facebook":D=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ee)}&quote=${encodeURIComponent(C)}`;break;case"twitter":D=`https://twitter.com/intent/tweet?url=${encodeURIComponent(ee)}&text=${encodeURIComponent(C)}&hashtags=${encodeURIComponent(A)}`;break;case"linkedin":D=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(ee)}&title=${encodeURIComponent(C)}&summary=${encodeURIComponent(T)}`;break;case"whatsapp":D=`https://wa.me/?text=${encodeURIComponent(`${C}

${T}

Read more: ${ee}`)}`;break;default:return}ot.incrementShares(x.id),window.open(D,"_blank","width=600,height=400"),r(!1)},H=async()=>{try{const ee=`${window.location.origin}?post=${x.id}`;await navigator.clipboard.writeText(ee),a(!0),setTimeout(()=>a(!1),2e3)}catch(q){console.error("Failed to copy link:",q)}},W=async()=>{if(u)try{await ot.decrementLikes(x.id),I(ee=>Math.max(0,ee-1))}catch(ee){console.error("Error decrementing likes:",ee)}else try{await ot.incrementLikes(x.id),I(ee=>ee+1)}catch(ee){console.error("Error incrementing likes:",ee)}f(!u);const q=JSON.parse(localStorage.getItem("likedPosts")||"[]");if(u){const ee=q.filter(C=>C!==e);localStorage.setItem("likedPosts",JSON.stringify(ee))}else localStorage.setItem("likedPosts",JSON.stringify([...q,e]))},U=()=>{if(!e)return;const q=JSON.parse(localStorage.getItem("bookmarkedPosts")||"[]");if(m){const ee=q.filter(C=>C!==e);localStorage.setItem("bookmarkedPosts",JSON.stringify(ee))}else q.push(e),localStorage.setItem("bookmarkedPosts",JSON.stringify(q));g(!m)};return c.jsxs("div",{className:"pt-16",children:[c.jsx("div",{className:"bg-white border-b border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("button",{onClick:()=>n("blog"),className:"flex items-center text-gray-900 hover:text-blue-600 transition-colors",children:[c.jsx(E_,{className:"h-4 w-4 mr-2"}),"Back to Blog"]})})}),c.jsxs("div",{className:"relative h-96 bg-black",children:[c.jsx(vn,{src:x.image,alt:x.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),c.jsx("article",{className:"bg-white",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsx("div",{className:"mb-6 mt-12",children:c.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:x.category})}),c.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:x.title}),c.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[c.jsxs("div",{className:"flex items-center border-r-4 border-gray-500 pr-6",children:[c.jsx("div",{className:"w-10 h-10 rounded-full mr-3 overflow-hidden",children:x.authorImage?c.jsx(vn,{src:x.authorImage,alt:x.author,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-gray-300 rounded-full flex items-center justify-center",children:c.jsx(Xa,{className:"h-5 w-5 text-gray-600"})})}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:x.author}),c.jsx("div",{className:"text-sm text-gray-500",children:"Author"})]}),c.jsx("div",{className:"w-0.5 h-8 bg-gray-400 mx-4"})]})]}),c.jsx("div",{className:"w-px h-6 bg-gray-300"}),c.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[c.jsx(Tc,{className:"h-4 w-4 mr-2"}),R(x.date)]}),c.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),x.readTime]})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-8 pt-12 pb-6",children:[c.jsxs("button",{onClick:W,className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${u?"border-red-500 bg-red-500 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(Qa,{className:"h-4 w-4",style:{fill:u?"currentColor":"none",stroke:u?"currentColor":"#ef4444",strokeWidth:2}}),u?"Liked":"Like"," (",O,")"]}),c.jsxs("div",{className:"relative share-dropdown-container",children:[c.jsxs("button",{onClick:()=>r(!t),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[c.jsx(zd,{className:"h-4 w-4"}),"Share"]}),t&&c.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white border border-gray-200 rounded-xl shadow-xl z-10 overflow-hidden",children:c.jsxs("div",{className:"py-2",children:[c.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide border-b border-gray-100",children:"Share on Social"}),c.jsxs("button",{onClick:()=>$("linkedin"),className:"flex items-center gap-3 w-full px-4 py-3 text-left text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 group",children:[c.jsx(C_,{className:"h-5 w-5 text-blue-600 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"font-medium",children:"LinkedIn"})]}),c.jsxs("button",{onClick:()=>$("twitter"),className:"flex items-center gap-3 w-full px-4 py-3 text-left text-gray-700 hover:bg-sky-50 hover:text-sky-700 transition-all duration-200 group",children:[c.jsx(M_,{className:"h-5 w-5 text-blue-400 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"font-medium",children:"X (Twitter)"})]}),c.jsxs("button",{onClick:()=>$("facebook"),className:"flex items-center gap-3 w-full px-4 py-3 text-left text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 group",children:[c.jsx(N_,{className:"h-5 w-5 text-blue-600 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"font-medium",children:"Facebook"})]}),c.jsxs("button",{onClick:()=>$("whatsapp"),className:"flex items-center gap-3 w-full px-4 py-3 text-left text-gray-700 hover:bg-green-50 hover:text-green-700 transition-all duration-200 group",children:[c.jsx(Gp,{className:"h-5 w-5 text-green-500 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"font-medium",children:"WhatsApp"})]}),c.jsx("hr",{className:"my-2 border-gray-100"}),c.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Other Options"}),c.jsx("button",{onClick:H,className:"flex items-center gap-3 w-full px-4 py-3 text-left text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-all duration-200 group",children:o?c.jsxs(c.Fragment,{children:[c.jsx(S_,{className:"h-5 w-5 text-green-500 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"font-medium text-green-600",children:"Copied to Clipboard!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(eC,{className:"h-5 w-5 text-gray-500 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"font-medium",children:"Copy Link"})]})})]})})]}),c.jsxs("button",{onClick:U,className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${m?"border-blue-600 bg-blue-50 text-blue-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(SN,{className:`h-4 w-4 ${m?"fill-current":""}`}),m?"Saved":"Save"]})]}),c.jsx("hr",{className:"border-gray-300 my-8 mb-12"}),c.jsx("div",{className:"prose prose-lg max-w-none mb-12 blog-content",dangerouslySetInnerHTML:{__html:x.content}}),c.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 mt-6",children:["About ",x.author]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden",children:x.authorImage?c.jsx(vn,{src:x.authorImage,alt:x.author,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-gray-300 rounded-full flex items-center justify-center",children:c.jsx(Xa,{className:"h-6 w-6 text-gray-600"})})}),c.jsx("div",{children:c.jsx("p",{className:"text-gray-600 leading-relaxed",children:x.authorBio||"Author bio not available."})})]})]})]})}),c.jsx("section",{className:"bg-gray-50 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Related Articles"}),c.jsx("p",{className:"text-gray-600",children:"Continue reading with these related insights"})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:E.map(q=>c.jsxs("article",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow group cursor-pointer",onClick:()=>n("blog-post",q.id),children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx(vn,{src:q.image,alt:q.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-700 px-3 py-1 rounded-full text-sm font-medium",children:q.category})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-500",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ka,{className:"h-4 w-4 mr-1"}),q.readTime]})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 leading-tight group-hover:text-blue-600 transition-colors",children:q.title}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:q.excerpt})]})]},q.id))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx(Oe,{onClick:()=>n("blog"),variant:"outline",size:"lg",className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-3",children:"View All Articles"})})]})})]})}function s6({onPageChange:n}){const[e,t]=S.useState(!1),[r,o]=S.useState(""),[a,u]=S.useState(""),[f,m]=S.useState(""),[g,x]=S.useState([]),[_,E]=S.useState(!1),[k,O]=S.useState(null),[I,R]=S.useState(!1),[$,H]=S.useState(null),[W,U]=S.useState(!1),[q,ee]=S.useState(!1),[C,T]=S.useState(null),[A,D]=S.useState(""),[M,L]=S.useState([]),P=S.useRef(null),Z=S.useRef(null),ue=S.useRef(null),ge=S.useRef(null),[ae,F]=S.useState({title:"",excerpt:"",content:"",author:"Sam Daodu",authorBio:"",authorImage:"",category:"Digital Strategy",image:"",tags:[],featured:!1,published:!0});S.useEffect(()=>{(async()=>{try{const se=await ot.getAllPosts();x(se),L(se)}catch(se){console.error("Error loading posts:",se),x([]),L([])}})()},[]);const fe=J=>{J.preventDefault(),r==="admin"&&a==="maclabs2024"?(t(!0),m("")):m("Invalid credentials")},he=()=>{t(!1),o(""),u("")},B=()=>{E(!0),O(null),H(null),T(null),F({title:"",excerpt:"",content:"",author:"Sam Daodu",authorBio:"",authorImage:"",category:"Digital Strategy",image:"",tags:[],featured:!1,published:!0})},ne=J=>{O(J),E(!1),H(null),T(null),F(J)},_e=async J=>{if(window.confirm("Are you sure you want to delete this post?"))try{await ot.deletePost(J)?(x(Ce=>Ce.filter(Me=>Me.id!==J)),L(Ce=>Ce.filter(Me=>Me.id!==J)),alert("Post deleted successfully!")):alert("Error deleting post. Please try again.")}catch(se){console.error("Error deleting post:",se),alert("Error deleting post. Please try again.")}},xe=async()=>{if(!ae.title||!ae.content){alert("Please fill in at least the title and content");return}try{const J=new Date,se={title:ae.title||"",excerpt:ae.excerpt||"",content:ae.content||"",author:ae.author||"Sam Daodu",authorBio:ae.authorBio||"",authorImage:ae.authorImage||"",date:k?.date||J.toISOString().split("T")[0],readTime:ae.readTime||je(ae.content||""),category:ae.category||"Digital Strategy",image:ae.image&&ae.image.startsWith("http")?ae.image:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxibG9nJTIwcG9zdHxlbnwxfHx8fDE3NTc3NDQ1NTB8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tags:ae.tags||[],views:k?.views||0,likes:k?.likes||0,comments:k?.comments||0,shares:k?.shares||0,featured:ae.featured||!1,published:ae.published!==void 0?ae.published:!0};if(k){const Ce=await ot.updatePost(k.id,se);Ce&&(x(Me=>Me.map(ze=>ze.id===k.id?Ce:ze)),L(Me=>Me.map(ze=>ze.id===k.id?Ce:ze)))}else{const Ce=await ot.createPost(se);Ce&&(x(Me=>[Ce,...Me]),L(Me=>[Ce,...Me]))}E(!1),O(null),H(null),alert("Post saved successfully!")}catch(J){console.error("Error saving post:",J),alert("Error saving post. Please try again.")}},je=J=>{const Ce=J.replace(/<[^>]*>/g,"").split(/\s+/).length;return`${Math.ceil(Ce/200)} min read`},Le=J=>{if(J.key==="Enter"||J.key===","){J.preventDefault();const se=J.currentTarget,Ce=se.value.trim();Ce&&!ae.tags?.includes(Ce)&&(F(Me=>({...Me,tags:[...Me.tags||[],Ce]})),se.value="")}},le=J=>{F(se=>({...se,tags:se.tags?.filter(Ce=>Ce!==J)||[]}))},Ie=async J=>{if(!J.type.startsWith("image/")){alert("Please select an image file");return}if(J.size>1*1024*1024){alert("Image size must be less than 1MB for Firestore compatibility");return}U(!0);try{const se="https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxibG9nJTIwcG9zdHxlbnwxfHx8fDE3NTc3NDQ1NTB8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral";H(se),F(Ce=>({...Ce,image:se})),U(!1),alert("Image uploaded successfully! (Using default image for Firestore compatibility)")}catch(se){console.error("Error uploading image:",se),alert("Error uploading image. Please try again."),U(!1)}},De=J=>{J.preventDefault(),R(!0)},Ue=J=>{J.preventDefault(),R(!1)},Ke=J=>{J.preventDefault(),R(!1);const se=J.dataTransfer.files;if(se&&se.length>0){const Ce=se.item(0);Ie(Ce)}},et=J=>{const se=J.target.files;if(se&&se.length>0){const Ce=se.item(0);Ie(Ce)}},wt=()=>{H(null),F(J=>({...J,image:""})),P.current&&(P.current.value="")},rn=async J=>{if(!J.type.startsWith("image/")){alert("Please select an image file");return}if(J.size>5*1024*1024){alert("Image size must be less than 5MB");return}ee(!0);try{const se=new FileReader;se.onload=Ce=>{const Me=Ce.target?.result;T(Me),F(ze=>({...ze,authorImage:Me})),ee(!1)},se.readAsDataURL(J)}catch(se){console.error("Error uploading author image:",se),alert("Error uploading author image. Please try again."),ee(!1)}},Er=J=>{const se=J.target.files;se&&se.length>0&&rn(se[0])},Wn=()=>{T(null),F(J=>({...J,authorImage:""})),Z.current&&(Z.current.value="")},at=(J,se)=>{ue.current&&(document.execCommand(J,!1,se),F(Ce=>({...Ce,content:ue.current?.innerHTML||""})))},Os=J=>{if(!ue.current)return;const se=window.getSelection();if(se&&se.rangeCount>0){const Ce=se.getRangeAt(0),Me=se.toString();if(Me){const ze=document.createElement(`h${J}`);Ce.deleteContents(),ze.textContent=Me,Ce.insertNode(ze);const ft=document.createRange();ft.setStartAfter(ze),ft.collapse(!0),se.removeAllRanges(),se.addRange(ft),F(ut=>({...ut,content:ue.current?.innerHTML||""}))}}},It=()=>{if(!ue.current)return;const J=window.getSelection();if(J&&J.rangeCount>0){const se=J.getRangeAt(0),Ce=J.toString();if(Ce){const Me=document.createElement("p");se.deleteContents(),Me.textContent=Ce,se.insertNode(Me);const ze=document.createRange();ze.setStartAfter(Me),ze.collapse(!0),J.removeAllRanges(),J.addRange(ze),F(ft=>({...ft,content:ue.current?.innerHTML||""}))}}},_t=()=>{if(!ue.current)return;const J=window.getSelection();if(J&&J.rangeCount>0){const se=J.getRangeAt(0),Ce=J.toString();if(Ce){const Me=document.createTextNode(Ce);se.deleteContents(),se.insertNode(Me);const ze=document.createRange();ze.setStartAfter(Me),ze.collapse(!0),J.removeAllRanges(),J.addRange(ze),F(ft=>({...ft,content:ue.current?.innerHTML||""}))}}},Cn=()=>{const J=prompt("Enter URL:");J&&at("createLink",J)},Ls=(J=!1)=>{at(J?"insertOrderedList":"insertUnorderedList")},Hi=()=>{if(!ue.current)return;const J=window.getSelection();if(J&&J.rangeCount>0){const se=J.getRangeAt(0);let Ce=se.commonAncestorContainer;Ce.nodeType===Node.TEXT_NODE&&(Ce=Ce.parentNode);let Me=Ce;for(;Me&&Me!==ue.current;){if(Me.nodeName==="BLOCKQUOTE")return;Me=Me.parentNode}const ze=document.createElement("blockquote"),ft=J.toString();if(ft){se.deleteContents(),ze.textContent=ft,se.insertNode(ze);const ut=document.createRange();ut.setStartAfter(ze),ut.collapse(!0);const Nt=document.createElement("p");Nt.innerHTML="<br>",ut.insertNode(Nt);const pn=document.createRange();pn.setStart(Nt,0),pn.collapse(!0),J.removeAllRanges(),J.addRange(pn)}F(ut=>({...ut,content:ue.current?.innerHTML||""}))}},Uo=()=>{ue.current&&F(J=>({...J,content:ue.current?.innerHTML||""}))},Tr=J=>{const se=J.target.files;if(!se||se.length===0)return;const Ce=se.item(0);if(!Ce.type.startsWith("image/")){alert("Please select an image file");return}const Me=new FileReader;Me.onload=()=>{const ze=Me.result;at("insertImage",ze),ge.current&&(ge.current.value="")},Me.readAsDataURL(Ce)},Wi=()=>{if(!ue.current)return;const J=prompt("Number of rows?","3")||"3",se=prompt("Number of columns?","3")||"3",Ce=Math.max(1,parseInt(J,10)||3),Me=Math.max(1,parseInt(se,10)||3),ze=document.createElement("table");ze.style.width="100%",ze.style.borderCollapse="collapse";for(let ut=0;ut<Ce;ut++){const Nt=document.createElement("tr");for(let pn=0;pn<Me;pn++){const kn=ut===0?document.createElement("th"):document.createElement("td");kn.textContent=ut===0?`Header ${pn+1}`:`Cell ${ut}-${pn+1}`,kn.style.border="1px solid #e5e7eb",kn.style.padding="12px",Nt.appendChild(kn)}ze.appendChild(Nt)}const ft=window.getSelection();if(ft&&ft.rangeCount>0){const ut=ft.getRangeAt(0);ut.deleteContents(),ut.insertNode(ze),F(Nt=>({...Nt,content:ue.current?.innerHTML||""}))}},Vs=J=>{if(J.key==="Enter"){const se=window.getSelection();if(se&&se.rangeCount>0){let Me=se.getRangeAt(0).commonAncestorContainer;Me.nodeType===Node.TEXT_NODE&&(Me=Me.parentNode);let ze=Me;for(;ze&&ze!==ue.current;){if(ze.nodeName==="BLOCKQUOTE"){J.preventDefault();const ft=document.createElement("p");if(ft.innerHTML="<br>",ze.parentNode){ze.parentNode.insertBefore(ft,ze.nextSibling);const ut=document.createRange();ut.setStart(ft,0),ut.collapse(!0),se.removeAllRanges(),se.addRange(ut),F(Nt=>({...Nt,content:ue.current?.innerHTML||""}))}return}ze=ze.parentNode}}}};S.useEffect(()=>{ue.current&&!ue.current.innerHTML&&(ue.current.innerHTML="<p>Start writing your blog post here...</p>")},[]),S.useEffect(()=>{ue.current&&k&&ae.content&&(ue.current.innerHTML=ae.content)},[k]),S.useEffect(()=>{if(A.trim()==="")L(g);else{const J=g.filter(se=>se.title.toLowerCase().includes(A.toLowerCase())||se.excerpt.toLowerCase().includes(A.toLowerCase())||se.author.toLowerCase().includes(A.toLowerCase())||se.category.toLowerCase().includes(A.toLowerCase())||se.tags.some(Ce=>Ce.toLowerCase().includes(A.toLowerCase())));L(J)}},[A,g]);const Sr=J=>new Date(J).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});return e?_||k?c.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[c.jsxs("div",{className:"flex items-start justify-between mb-8",children:[c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsxs("button",{onClick:()=>{E(!1),O(null),H(null)},className:"flex items-center text-blue-600 hover:text-blue-700 transition-colors w-fit",children:[c.jsx(E_,{className:"h-4 w-4 mr-2"}),"Back to Posts"]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:k?"Edit Post":"Create New Post"})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs(Oe,{onClick:xe,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(sp,{className:"h-4 w-4 mr-2"}),"Save Post"]})})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),c.jsx("input",{type:"text",value:ae.title||"",onChange:J=>F(se=>({...se,title:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter post title..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),c.jsxs("select",{value:ae.category||"",onChange:J=>F(se=>({...se,category:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"Digital Strategy",children:"Digital Strategy"}),c.jsx("option",{value:"SEO",children:"SEO"}),c.jsx("option",{value:"Social Media",children:"Social Media"}),c.jsx("option",{value:"Email Marketing",children:"Email Marketing"}),c.jsx("option",{value:"Content Marketing",children:"Content Marketing"}),c.jsx("option",{value:"PPC",children:"PPC"}),c.jsx("option",{value:"Brand Strategy",children:"Brand Strategy"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt"}),c.jsx("textarea",{value:ae.excerpt||"",onChange:J=>F(se=>({...se,excerpt:J.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief description of the post..."})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Author Profile"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Name"}),c.jsx("input",{type:"text",value:ae.author||"",onChange:J=>F(se=>({...se,author:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter author name..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Bio"}),c.jsx("textarea",{value:ae.authorBio||"",onChange:J=>F(se=>({...se,authorBio:J.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief bio about the author..."})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Profile Image"}),c.jsxs("div",{className:`image-upload-area border-2 border-dashed rounded-lg p-4 text-center ${q?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[q?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mb-2"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Uploading image..."})]}):C||ae.authorImage?c.jsxs("div",{className:"image-upload-preview relative",children:[c.jsx(vn,{src:C||ae.authorImage||"",alt:"Author Preview",className:"w-20 h-20 object-cover rounded-full mx-auto"}),c.jsx("button",{onClick:Wn,className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:c.jsx(B0,{className:"h-3 w-3"})})]}):c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(km,{className:"h-8 w-8 text-gray-400 mb-2"}),c.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Upload author photo"}),c.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Click to select or drag and drop"}),c.jsxs(Oe,{type:"button",onClick:()=>Z.current?.click(),variant:"outline",size:"sm",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[c.jsx($0,{className:"h-4 w-4 mr-2"}),"Choose Photo"]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]}),c.jsx("input",{ref:Z,type:"file",accept:"image/*",onChange:Er,className:"hidden"})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or enter image URL"}),c.jsx("input",{type:"url",value:ae.authorImage||"",onChange:J=>F(se=>({...se,authorImage:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/author-photo.jpg"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),c.jsxs("div",{className:`image-upload-area border-2 border-dashed rounded-lg p-6 text-center ${I?"drag-over border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:De,onDragLeave:Ue,onDrop:Ke,children:[W?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),c.jsx("p",{className:"text-gray-600",children:"Uploading image..."})]}):$||ae.image?c.jsxs("div",{className:"image-upload-preview relative",children:[c.jsx(vn,{src:$||ae.image||"",alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),c.jsx("button",{onClick:wt,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:c.jsx(B0,{className:"h-4 w-4"})})]}):c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(km,{className:"h-12 w-12 text-gray-400 mb-4"}),c.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload an image"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop an image here, or click to select"}),c.jsxs(Oe,{type:"button",onClick:()=>P.current?.click(),variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[c.jsx($0,{className:"h-4 w-4 mr-2"}),"Choose File"]}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 5MB"})]}),c.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:et,className:"hidden"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or enter image URL"}),c.jsx("input",{type:"url",value:ae.image||"",onChange:J=>F(se=>({...se,image:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),c.jsx("input",{type:"text",onKeyDown:Le,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Type a tag and press Enter..."}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ae.tags?.map((J,se)=>c.jsxs("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[J,c.jsx("button",{onClick:()=>le(J),className:"ml-2 text-blue-600 hover:text-blue-800",children:c.jsx(Sc,{className:"h-3 w-3"})})]},se))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"rich-text-toolbar border border-gray-300 rounded-t-lg p-2 flex flex-wrap gap-1",children:[c.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[c.jsx("button",{type:"button",onClick:()=>at("bold"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Bold",children:c.jsx(_N,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>at("italic"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Italic",children:c.jsx(JN,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>at("underline"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Underline",children:c.jsx(XC,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[c.jsx("button",{type:"button",onClick:()=>Os(2),className:"p-2 hover:bg-gray-200 rounded text-gray-700 text-sm font-bold",title:"Heading 2",children:"H2"}),c.jsx("button",{type:"button",onClick:()=>Os(3),className:"p-2 hover:bg-gray-200 rounded text-gray-700 text-sm font-bold",title:"Heading 3",children:"H3"}),c.jsx("button",{type:"button",onClick:()=>It(),className:"p-2 hover:bg-gray-200 rounded text-gray-700 text-sm font-bold",title:"Paragraph",children:"P"}),c.jsx("button",{type:"button",onClick:()=>_t(),className:"p-2 hover:bg-gray-200 rounded text-gray-700 text-sm font-bold",title:"Normal Text",children:"Normal"})]}),c.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[c.jsx("button",{type:"button",onClick:()=>Ls(!1),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Bullet List",children:c.jsx(aC,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>Ls(!0),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Numbered List",children:c.jsx(iC,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[c.jsx("button",{type:"button",onClick:Cn,className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Insert Link",children:c.jsx(nC,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:Hi,className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Quote",children:c.jsx(j_,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:Wi,className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Insert Table",children:c.jsx(BC,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>ge.current?.click(),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Insert Image",children:c.jsx(km,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[c.jsx("button",{type:"button",onClick:()=>at("justifyLeft"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Align Left",children:c.jsx(fN,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>at("justifyCenter"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Align Center",children:c.jsx(cN,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>at("justifyRight"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Align Right",children:c.jsx(pN,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>at("justifyFull"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Justify",children:c.jsx(dN,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-2 mr-2",children:[c.jsxs("select",{onChange:J=>at("fontName",J.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",title:"Font Family",children:[c.jsx("option",{value:"",children:"Font"}),c.jsx("option",{value:"Arial",children:"Arial"}),c.jsx("option",{value:"Helvetica",children:"Helvetica"}),c.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),c.jsx("option",{value:"Georgia",children:"Georgia"}),c.jsx("option",{value:"Verdana",children:"Verdana"}),c.jsx("option",{value:"Courier New",children:"Courier New"}),c.jsx("option",{value:"Monaco",children:"Monaco"}),c.jsx("option",{value:"Calibri",children:"Calibri"}),c.jsx("option",{value:"Montserrat",children:"Montserrat"}),c.jsx("option",{value:"Lato",children:"Lato"})]}),c.jsxs("select",{onChange:J=>at("fontSize",J.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",title:"Font Size",children:[c.jsx("option",{value:"",children:"Size"}),c.jsx("option",{value:"1",children:"8px"}),c.jsx("option",{value:"2",children:"10px"}),c.jsx("option",{value:"3",children:"12px"}),c.jsx("option",{value:"4",children:"14px"}),c.jsx("option",{value:"5",children:"18px"}),c.jsx("option",{value:"6",children:"24px"}),c.jsx("option",{value:"7",children:"36px"})]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{type:"button",onClick:()=>at("insertHorizontalRule"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Insert Horizontal Line",children:c.jsx(xC,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>at("insertParagraph"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Insert Line Break",children:c.jsx(rp,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>at("removeFormat"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Remove Formatting",children:c.jsx(kC,{className:"h-4 w-4"})})]})]}),c.jsx("div",{ref:ue,contentEditable:!0,onInput:Uo,onKeyDown:Vs,className:"w-full min-h-96 px-3 py-2 border border-t-0 border-gray-300 rounded-b-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",style:{minHeight:"24rem"},suppressContentEditableWarning:!0}),c.jsx("input",{ref:ge,type:"file",accept:"image/*",onChange:Tr,className:"hidden"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Use the toolbar above to format your text. No HTML knowledge required!"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Live Preview"}),c.jsx("div",{className:"admin-preview",style:{height:"80rem"},children:c.jsx("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:ae.content||'<p class="text-gray-500 italic">Start typing to see preview...</p>'}})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:ae.featured||!1,onChange:J=>F(se=>({...se,featured:J.target.checked})),className:"mr-2"}),"Featured Post"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:ae.published!==!1,onChange:J=>F(se=>({...se,published:J.target.checked})),className:"mr-2"}),"Published"]})]}),c.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:c.jsxs(Oe,{onClick:xe,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:[c.jsx(sp,{className:"h-4 w-4 mr-2"}),"Save Post"]})})]})})]})}):c.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blog Management"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your blog posts and content"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Oe,{onClick:B,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(rp,{className:"h-4 w-4 mr-2"}),"New Post"]}),c.jsx(Oe,{onClick:he,variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Logout"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[c.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200 shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-blue-900",children:g.length}),c.jsx("div",{className:"text-sm font-medium text-blue-700",children:"Total Posts"})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:c.jsx(ip,{className:"h-6 w-6 text-white"})})]})}),c.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200 shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-green-900",children:g.filter(J=>J.published).length}),c.jsx("div",{className:"text-sm font-medium text-green-700",children:"Published"})]}),c.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:c.jsx(Da,{className:"h-6 w-6 text-white"})})]})}),c.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-6 border border-yellow-200 shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:g.filter(J=>J.featured).length}),c.jsx("div",{className:"text-sm font-medium text-yellow-700",children:"Featured"})]}),c.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center",children:c.jsx(Bd,{className:"h-6 w-6 text-white"})})]})}),c.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200 shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-purple-900",children:g.reduce((J,se)=>J+se.views,0).toLocaleString()}),c.jsx("div",{className:"text-sm font-medium text-purple-700",children:"Total Views"})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:c.jsx(Da,{className:"h-6 w-6 text-white"})})]})})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:c.jsxs("div",{className:"px-6 py-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Kp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search posts by title, author, category, or tags...",value:A,onChange:J=>D(J.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"}),A&&c.jsx("button",{onClick:()=>D(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(Sc,{className:"h-5 w-5"})})]}),A&&c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[M.length," post",M.length!==1?"s":""," found"]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"All Posts"})}),c.jsx("div",{className:"divide-y divide-gray-200",children:M.map(J=>c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:J.title}),J.featured&&c.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",children:"Featured"}),!J.published&&c.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium",children:"Draft"})]}),c.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:J.excerpt}),c.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tc,{className:"h-4 w-4 mr-1"}),Sr(J.date)]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xa,{className:"h-4 w-4 mr-1"}),J.author]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Da,{className:"h-4 w-4 mr-1"}),J.views.toLocaleString()," views"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(HC,{className:"h-4 w-4 mr-1"}),J.category]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(Oe,{onClick:()=>n("blog-post",J.id),variant:"outline",size:"sm",className:"text-gray-600 hover:text-gray-900",children:c.jsx(Da,{className:"h-4 w-4"})}),c.jsx(Oe,{onClick:()=>ne(J),variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:c.jsx(ip,{className:"h-4 w-4"})}),c.jsx(Oe,{onClick:()=>_e(J.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:c.jsx(D_,{className:"h-4 w-4"})})]})]})},J.id))})]})]})}):c.jsx("div",{className:"pt-16 min-h-screen bg-gray-50 flex items-center justify-center px-4",children:c.jsx("div",{className:"w-full",style:{maxWidth:"380px"},children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Login"}),c.jsx("p",{className:"text-gray-600",children:"Access the blog management system"})]}),c.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),c.jsx("input",{type:"text",value:r,onChange:J=>o(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsx("input",{type:"password",value:a,onChange:J=>u(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),f&&c.jsx("div",{className:"text-red-600 text-sm text-center",children:f}),c.jsx(Oe,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Login"})]})]})})})}function Fn({className:n,...e}){return c.jsx("div",{"data-slot":"card",className:Tt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function bi({className:n,...e}){return c.jsx("div",{"data-slot":"card-header",className:Tt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Ei({className:n,...e}){return c.jsx("h4",{"data-slot":"card-title",className:Tt("leading-none",n),...e})}function Xg({className:n,...e}){return c.jsx("p",{"data-slot":"card-description",className:Tt("text-muted-foreground",n),...e})}function Un({className:n,...e}){return c.jsx("div",{"data-slot":"card-content",className:Tt("px-6 [&:last-child]:pb-6",n),...e})}var Jc=o_();const i6=i_(Jc);var o6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=o6.reduce((n,e)=>{const t=Ga(`Primitive.${e}`),r=S.forwardRef((o,a)=>{const{asChild:u,...f}=o,m=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(m,{...f,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function a6(n,e){n&&Jc.flushSync(()=>n.dispatchEvent(e))}var l6="Label",jE=S.forwardRef((n,e)=>c.jsx(ct.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));jE.displayName=l6;var c6=jE;function Hr({className:n,...e}){return c.jsx(c6,{"data-slot":"label",className:Tt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const u6=Wp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Aw({className:n,variant:e,asChild:t=!1,...r}){const o=t?c_:"span";return c.jsx(o,{"data-slot":"badge",className:Tt(u6({variant:e}),n),...r})}const d6=Wp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function xi({className:n,variant:e,...t}){return c.jsx("div",{"data-slot":"alert",role:"alert",className:Tt(d6({variant:e}),n),...t})}function wi({className:n,...e}){return c.jsx("div",{"data-slot":"alert-description",className:Tt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}class h6{currentUser=null;constructor(){hw(ja,e=>{this.currentUser=e?{uid:e.uid,email:e.email,displayName:e.displayName}:null})}async signIn(e,t){try{const r=await g4(ja,e,t);return{uid:r.user.uid,email:r.user.email,displayName:r.user.displayName}}catch(r){throw console.error("Error signing in:",r),r}}async createAdmin(e,t){try{const r=await p4(ja,e,t);return{uid:r.user.uid,email:r.user.email,displayName:r.user.displayName}}catch(r){throw console.error("Error creating admin:",r),r}}async signOut(){try{await x4(ja),this.currentUser=null}catch(e){throw console.error("Error signing out:",e),e}}getCurrentUser(){return this.currentUser}isAuthenticated(){return this.currentUser!==null}async waitForAuth(){return new Promise(e=>{const t=hw(ja,r=>{t(),e(r?{uid:r.uid,email:r.email,displayName:r.displayName}:null)})})}}const Ld=new h6;function f6({onPageChange:n}){const[e,t]=S.useState(!1),[r,o]=S.useState(!0),[a,u]=S.useState(""),[f,m]=S.useState(""),[g,x]=S.useState(""),[_,E]=S.useState([]),[k,O]=S.useState(null),[I,R]=S.useState(!1),[$,H]=S.useState(null),[W,U]=S.useState({title:"",excerpt:"",content:"",author:"",authorImage:"",date:new Date().toISOString().split("T")[0],readTime:"",category:"",image:"",tags:[],featured:!1,published:!0});S.useEffect(()=>{q()},[]);const q=async()=>{try{const Z=await Ld.waitForAuth();t(!!Z),Z&&ee()}catch(Z){console.error("Auth check failed:",Z)}finally{o(!1)}},ee=async()=>{try{const[Z,ue]=await Promise.all([ot.getAllPosts(),ot.getAnalyticsSummary()]);E(Z),O(ue)}catch(Z){console.error("Error loading dashboard data:",Z)}},C=async Z=>{Z.preventDefault(),x("");try{await Ld.signIn(a,f),t(!0),ee()}catch(ue){x(ue.message||"Login failed")}},T=async()=>{try{await Ld.signOut(),t(!1),u(""),m("")}catch(Z){console.error("Logout failed:",Z)}},A=async Z=>{Z.preventDefault();try{const ue=await ot.createPost(W);ue&&(E([ue,..._]),L(),R(!1))}catch(ue){console.error("Error creating post:",ue)}},D=async Z=>{if(Z.preventDefault(),!!$)try{const ue=await ot.updatePost($.id,W);ue&&(E(_.map(ge=>ge.id===$.id?ue:ge)),H(null),L())}catch(ue){console.error("Error updating post:",ue)}},M=async Z=>{if(confirm("Are you sure you want to delete this post?"))try{await ot.deletePost(Z)&&E(_.filter(ge=>ge.id!==Z))}catch(ue){console.error("Error deleting post:",ue)}},L=()=>{U({title:"",excerpt:"",content:"",author:"",authorImage:"",date:new Date().toISOString().split("T")[0],readTime:"",category:"",image:"",tags:[],featured:!1,published:!0})},P=Z=>{H(Z),U({title:Z.title,excerpt:Z.excerpt,content:Z.content,author:Z.author,authorImage:Z.authorImage||"",date:Z.date,readTime:Z.readTime,category:Z.category,image:Z.image,tags:Z.tags,featured:Z.featured,published:Z.published}),R(!1)};return r?c.jsx("div",{className:"pt-16 min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?c.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Blog Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Manage your blog posts and analytics"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx(Oe,{onClick:()=>n("blog"),variant:"outline",children:"View Blog"}),c.jsx(Oe,{onClick:T,variant:"outline",children:"Logout"})]})]}),k&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(Fn,{children:c.jsx(Un,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Da,{className:"h-8 w-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.totalViews})]})]})})}),c.jsx(Fn,{children:c.jsx(Un,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qa,{className:"h-8 w-8 text-red-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Likes"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.totalLikes})]})]})})}),c.jsx(Fn,{children:c.jsx(Un,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(zd,{className:"h-8 w-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Shares"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.totalShares})]})]})})}),c.jsx(Fn,{children:c.jsx(Un,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gp,{className:"h-8 w-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Comments"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.totalComments})]})]})})})]}),k?.topPosts&&k.topPosts.length>0&&c.jsxs(Fn,{className:"mb-8",children:[c.jsx(bi,{children:c.jsxs(Ei,{className:"flex items-center",children:[c.jsx(Qp,{className:"h-5 w-5 mr-2"}),"Top Performing Posts"]})}),c.jsx(Un,{children:c.jsx("div",{className:"space-y-4",children:k.topPosts.map((Z,ue)=>c.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"text-2xl font-bold text-blue-600 mr-4",children:["#",ue+1]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:Z.title}),c.jsxs("p",{className:"text-sm text-gray-600",children:[Z.views," views"]})]})]})},Z.postId))})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Blog Posts"}),c.jsxs(Oe,{onClick:()=>R(!0),children:[c.jsx(rp,{className:"h-4 w-4 mr-2"}),"New Post"]})]}),c.jsx("div",{className:"space-y-4",children:_.map(Z=>c.jsx(Fn,{children:c.jsx(Un,{className:"p-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold",children:Z.title}),Z.featured&&c.jsx(Aw,{variant:"secondary",children:"Featured"}),!Z.published&&c.jsx(Aw,{variant:"outline",children:"Draft"})]}),c.jsx("p",{className:"text-gray-600 mb-2",children:Z.excerpt}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(Da,{className:"h-4 w-4 mr-1"}),Z.views]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx(Qa,{className:"h-4 w-4 mr-1"}),Z.likes]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx(zd,{className:"h-4 w-4 mr-1"}),Z.shares]}),c.jsx("span",{children:Z.category})]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>P(Z),children:c.jsx(ip,{className:"h-4 w-4"})}),c.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>M(Z.id),children:c.jsx(D_,{className:"h-4 w-4"})})]})]})})},Z.id))})]}),c.jsx("div",{className:"lg:col-span-1",children:(I||$)&&c.jsxs(Fn,{children:[c.jsx(bi,{children:c.jsx(Ei,{children:$?"Edit Post":"Create New Post"})}),c.jsx(Un,{children:c.jsxs("form",{onSubmit:$?D:A,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"title",children:"Title"}),c.jsx(Ht,{id:"title",value:W.title,onChange:Z=>U({...W,title:Z.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"excerpt",children:"Excerpt"}),c.jsx($d,{id:"excerpt",value:W.excerpt,onChange:Z=>U({...W,excerpt:Z.target.value}),rows:3})]}),c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"content",children:"Content"}),c.jsx($d,{id:"content",value:W.content,onChange:Z=>U({...W,content:Z.target.value}),rows:8,required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"author",children:"Author"}),c.jsx(Ht,{id:"author",value:W.author,onChange:Z=>U({...W,author:Z.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"category",children:"Category"}),c.jsx(Ht,{id:"category",value:W.category,onChange:Z=>U({...W,category:Z.target.value}),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"readTime",children:"Read Time"}),c.jsx(Ht,{id:"readTime",value:W.readTime,onChange:Z=>U({...W,readTime:Z.target.value}),placeholder:"5 min read"})]}),c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"date",children:"Date"}),c.jsx(Ht,{id:"date",type:"date",value:W.date,onChange:Z=>U({...W,date:Z.target.value}),required:!0})]})]}),c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"image",children:"Featured Image URL"}),c.jsx(Ht,{id:"image",value:W.image,onChange:Z=>U({...W,image:Z.target.value})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:W.featured,onChange:Z=>U({...W,featured:Z.target.checked}),className:"mr-2"}),"Featured"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:W.published,onChange:Z=>U({...W,published:Z.target.checked}),className:"mr-2"}),"Published"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Oe,{type:"submit",className:"flex-1",children:[c.jsx(sp,{className:"h-4 w-4 mr-2"}),$?"Update":"Create"]}),c.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{R(!1),H(null),L()},children:c.jsx(Sc,{className:"h-4 w-4"})})]})]})})]})})]})]})}):c.jsx("div",{className:"pt-16 min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs(Fn,{className:"w-full max-w-md",children:[c.jsxs(bi,{children:[c.jsx(Ei,{children:"Admin Login"}),c.jsx(Xg,{children:"Sign in to manage your blog"})]}),c.jsx(Un,{children:c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"email",children:"Email"}),c.jsx(Ht,{id:"email",type:"email",value:a,onChange:Z=>u(Z.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx(Hr,{htmlFor:"password",children:"Password"}),c.jsx(Ht,{id:"password",type:"password",value:f,onChange:Z=>m(Z.target.value),required:!0})]}),g&&c.jsx(xi,{children:c.jsx(wi,{children:g})}),c.jsx(Oe,{type:"submit",className:"w-full",children:"Sign In"})]})})]})})}function Pw(n,[e,t]){return Math.min(t,Math.max(e,n))}function yt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function m6(n,e){const t=S.createContext(e),r=a=>{const{children:u,...f}=a,m=S.useMemo(()=>f,Object.values(f));return c.jsx(t.Provider,{value:m,children:u})};r.displayName=n+"Provider";function o(a){const u=S.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,o]}function zh(n,e=[]){let t=[];function r(a,u){const f=S.createContext(u),m=t.length;t=[...t,u];const g=_=>{const{scope:E,children:k,...O}=_,I=E?.[n]?.[m]||f,R=S.useMemo(()=>O,Object.values(O));return c.jsx(I.Provider,{value:R,children:k})};g.displayName=a+"Provider";function x(_,E){const k=E?.[n]?.[m]||f,O=S.useContext(k);if(O)return O;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[g,x]}const o=()=>{const a=t.map(u=>S.createContext(u));return function(f){const m=f?.[n]||a;return S.useMemo(()=>({[`__scope${n}`]:{...f,[n]:m}}),[f,m])}};return o.scopeName=n,[r,p6(o,...e)]}function p6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((f,{useScope:m,scopeName:g})=>{const _=m(a)[`__scope${g}`];return{...f,..._}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function g6(n){const e=n+"CollectionProvider",[t,r]=zh(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=I=>{const{scope:R,children:$}=I,H=fi.useRef(null),W=fi.useRef(new Map).current;return c.jsx(o,{scope:R,itemMap:W,collectionRef:H,children:$})};u.displayName=e;const f=n+"CollectionSlot",m=Ga(f),g=fi.forwardRef((I,R)=>{const{scope:$,children:H}=I,W=a(f,$),U=jt(R,W.collectionRef);return c.jsx(m,{ref:U,children:H})});g.displayName=f;const x=n+"CollectionItemSlot",_="data-radix-collection-item",E=Ga(x),k=fi.forwardRef((I,R)=>{const{scope:$,children:H,...W}=I,U=fi.useRef(null),q=jt(R,U),ee=a(x,$);return fi.useEffect(()=>(ee.itemMap.set(U,{ref:U,...W}),()=>void ee.itemMap.delete(U))),c.jsx(E,{[_]:"",ref:q,children:H})});k.displayName=x;function O(I){const R=a(n+"CollectionConsumer",I);return fi.useCallback(()=>{const H=R.collectionRef.current;if(!H)return[];const W=Array.from(H.querySelectorAll(`[${_}]`));return Array.from(R.itemMap.values()).sort((ee,C)=>W.indexOf(ee.ref.current)-W.indexOf(C.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:u,Slot:g,ItemSlot:k},O,r]}var y6=S.createContext(void 0);function v6(n){const e=S.useContext(y6);return n||e||"ltr"}function Ao(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>e.current?.(...t),[])}function x6(n,e=globalThis?.document){const t=Ao(n);S.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var w6="DismissableLayer",jp="dismissableLayer.update",_6="dismissableLayer.pointerDownOutside",b6="dismissableLayer.focusOutside",Rw,DE=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jg=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:f,...m}=n,g=S.useContext(DE),[x,_]=S.useState(null),E=x?.ownerDocument??globalThis?.document,[,k]=S.useState({}),O=jt(e,C=>_(C)),I=Array.from(g.layers),[R]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),$=I.indexOf(R),H=x?I.indexOf(x):-1,W=g.layersWithOutsidePointerEventsDisabled.size>0,U=H>=$,q=S6(C=>{const T=C.target,A=[...g.branches].some(D=>D.contains(T));!U||A||(o?.(C),u?.(C),C.defaultPrevented||f?.())},E),ee=I6(C=>{const T=C.target;[...g.branches].some(D=>D.contains(T))||(a?.(C),u?.(C),C.defaultPrevented||f?.())},E);return x6(C=>{H===g.layers.size-1&&(r?.(C),!C.defaultPrevented&&f&&(C.preventDefault(),f()))},E),S.useEffect(()=>{if(x)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Rw=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),jw(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=Rw)}},[x,E,t,g]),S.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),jw())},[x,g]),S.useEffect(()=>{const C=()=>k({});return document.addEventListener(jp,C),()=>document.removeEventListener(jp,C)},[]),c.jsx(ct.div,{...m,ref:O,style:{pointerEvents:W?U?"auto":"none":void 0,...n.style},onFocusCapture:yt(n.onFocusCapture,ee.onFocusCapture),onBlurCapture:yt(n.onBlurCapture,ee.onBlurCapture),onPointerDownCapture:yt(n.onPointerDownCapture,q.onPointerDownCapture)})});Jg.displayName=w6;var E6="DismissableLayerBranch",T6=S.forwardRef((n,e)=>{const t=S.useContext(DE),r=S.useRef(null),o=jt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),c.jsx(ct.div,{...n,ref:o})});T6.displayName=E6;function S6(n,e=globalThis?.document){const t=Ao(n),r=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const a=f=>{if(f.target&&!r.current){let m=function(){ME(_6,t,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=m,e.addEventListener("click",o.current,{once:!0})):m()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function I6(n,e=globalThis?.document){const t=Ao(n),r=S.useRef(!1);return S.useEffect(()=>{const o=a=>{a.target&&!r.current&&ME(b6,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jw(){const n=new CustomEvent(jp);document.dispatchEvent(n)}function ME(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?a6(o,a):o.dispatchEvent(a)}var Wm=0;function OE(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Dw()),document.body.insertAdjacentElement("beforeend",n[1]??Dw()),Wm++,()=>{Wm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Wm--}},[])}function Dw(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var qm="focusScope.autoFocusOnMount",Gm="focusScope.autoFocusOnUnmount",Mw={bubbles:!1,cancelable:!0},N6="FocusScope",Zg=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=n,[f,m]=S.useState(null),g=Ao(o),x=Ao(a),_=S.useRef(null),E=jt(e,I=>m(I)),k=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let I=function(W){if(k.paused||!f)return;const U=W.target;f.contains(U)?_.current=U:mi(_.current,{select:!0})},R=function(W){if(k.paused||!f)return;const U=W.relatedTarget;U!==null&&(f.contains(U)||mi(_.current,{select:!0}))},$=function(W){if(document.activeElement===document.body)for(const q of W)q.removedNodes.length>0&&mi(f)};document.addEventListener("focusin",I),document.addEventListener("focusout",R);const H=new MutationObserver($);return f&&H.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",R),H.disconnect()}}},[r,f,k.paused]),S.useEffect(()=>{if(f){Lw.add(k);const I=document.activeElement;if(!f.contains(I)){const $=new CustomEvent(qm,Mw);f.addEventListener(qm,g),f.dispatchEvent($),$.defaultPrevented||(C6(j6(LE(f)),{select:!0}),document.activeElement===I&&mi(f))}return()=>{f.removeEventListener(qm,g),setTimeout(()=>{const $=new CustomEvent(Gm,Mw);f.addEventListener(Gm,x),f.dispatchEvent($),$.defaultPrevented||mi(I??document.body,{select:!0}),f.removeEventListener(Gm,x),Lw.remove(k)},0)}}},[f,g,x,k]);const O=S.useCallback(I=>{if(!t&&!r||k.paused)return;const R=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,$=document.activeElement;if(R&&$){const H=I.currentTarget,[W,U]=k6(H);W&&U?!I.shiftKey&&$===U?(I.preventDefault(),t&&mi(W,{select:!0})):I.shiftKey&&$===W&&(I.preventDefault(),t&&mi(U,{select:!0})):$===H&&I.preventDefault()}},[t,r,k.paused]);return c.jsx(ct.div,{tabIndex:-1,...u,ref:E,onKeyDown:O})});Zg.displayName=N6;function C6(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(mi(r,{select:e}),document.activeElement!==t)return}function k6(n){const e=LE(n),t=Ow(e,n),r=Ow(e.reverse(),n);return[t,r]}function LE(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Ow(n,e){for(const t of n)if(!A6(t,{upTo:e}))return t}function A6(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function P6(n){return n instanceof HTMLInputElement&&"select"in n}function mi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&P6(n)&&e&&n.select()}}var Lw=R6();function R6(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Vw(n,e),n.unshift(e)},remove(e){n=Vw(n,e),n[0]?.resume()}}}function Vw(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function j6(n){return n.filter(e=>e.tagName!=="A")}var mn=globalThis?.document?S.useLayoutEffect:()=>{},D6=a_[" useId ".trim().toString()]||(()=>{}),M6=0;function Ha(n){const[e,t]=S.useState(D6());return mn(()=>{t(r=>r??String(M6++))},[n]),n||(e?`radix-${e}`:"")}const O6=["top","right","bottom","left"],Mi=Math.min,zn=Math.max,uh=Math.round,wd=Math.floor,es=n=>({x:n,y:n}),L6={left:"right",right:"left",bottom:"top",top:"bottom"},V6={start:"end",end:"start"};function Dp(n,e,t){return zn(n,Mi(e,t))}function Ds(n,e){return typeof n=="function"?n(e):n}function Ms(n){return n.split("-")[0]}function gl(n){return n.split("-")[1]}function ey(n){return n==="x"?"y":"x"}function ty(n){return n==="y"?"height":"width"}const F6=new Set(["top","bottom"]);function Gr(n){return F6.has(Ms(n))?"y":"x"}function ny(n){return ey(Gr(n))}function U6(n,e,t){t===void 0&&(t=!1);const r=gl(n),o=ny(n),a=ty(o);let u=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=dh(u)),[u,dh(u)]}function z6(n){const e=dh(n);return[Mp(n),e,Mp(e)]}function Mp(n){return n.replace(/start|end/g,e=>V6[e])}const Fw=["left","right"],Uw=["right","left"],B6=["top","bottom"],$6=["bottom","top"];function H6(n,e,t){switch(n){case"top":case"bottom":return t?e?Uw:Fw:e?Fw:Uw;case"left":case"right":return e?B6:$6;default:return[]}}function W6(n,e,t,r){const o=gl(n);let a=H6(Ms(n),t==="start",r);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(Mp)))),a}function dh(n){return n.replace(/left|right|bottom|top/g,e=>L6[e])}function q6(n){return{top:0,right:0,bottom:0,left:0,...n}}function VE(n){return typeof n!="number"?q6(n):{top:n,right:n,bottom:n,left:n}}function hh(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function zw(n,e,t){let{reference:r,floating:o}=n;const a=Gr(e),u=ny(e),f=ty(u),m=Ms(e),g=a==="y",x=r.x+r.width/2-o.width/2,_=r.y+r.height/2-o.height/2,E=r[f]/2-o[f]/2;let k;switch(m){case"top":k={x,y:r.y-o.height};break;case"bottom":k={x,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:_};break;case"left":k={x:r.x-o.width,y:_};break;default:k={x:r.x,y:r.y}}switch(gl(e)){case"start":k[u]-=E*(t&&g?-1:1);break;case"end":k[u]+=E*(t&&g?-1:1);break}return k}const G6=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:u}=t,f=a.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:n,floating:e,strategy:o}),{x,y:_}=zw(g,r,m),E=r,k={},O=0;for(let I=0;I<f.length;I++){const{name:R,fn:$}=f[I],{x:H,y:W,data:U,reset:q}=await $({x,y:_,initialPlacement:r,placement:E,strategy:o,middlewareData:k,rects:g,platform:u,elements:{reference:n,floating:e}});x=H??x,_=W??_,k={...k,[R]:{...k[R],...U}},q&&O<=50&&(O++,typeof q=="object"&&(q.placement&&(E=q.placement),q.rects&&(g=q.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):q.rects),{x,y:_}=zw(g,E,m)),I=-1)}return{x,y:_,placement:E,strategy:o,middlewareData:k}};async function Vc(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:u,elements:f,strategy:m}=n,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:_="floating",altBoundary:E=!1,padding:k=0}=Ds(e,n),O=VE(k),R=f[E?_==="floating"?"reference":"floating":_],$=hh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(R)))==null||t?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(f.floating)),boundary:g,rootBoundary:x,strategy:m})),H=_==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,W=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f.floating)),U=await(a.isElement==null?void 0:a.isElement(W))?await(a.getScale==null?void 0:a.getScale(W))||{x:1,y:1}:{x:1,y:1},q=hh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:H,offsetParent:W,strategy:m}):H);return{top:($.top-q.top+O.top)/U.y,bottom:(q.bottom-$.bottom+O.bottom)/U.y,left:($.left-q.left+O.left)/U.x,right:(q.right-$.right+O.right)/U.x}}const K6=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:u,elements:f,middlewareData:m}=e,{element:g,padding:x=0}=Ds(n,e)||{};if(g==null)return{};const _=VE(x),E={x:t,y:r},k=ny(o),O=ty(k),I=await u.getDimensions(g),R=k==="y",$=R?"top":"left",H=R?"bottom":"right",W=R?"clientHeight":"clientWidth",U=a.reference[O]+a.reference[k]-E[k]-a.floating[O],q=E[k]-a.reference[k],ee=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let C=ee?ee[W]:0;(!C||!await(u.isElement==null?void 0:u.isElement(ee)))&&(C=f.floating[W]||a.floating[O]);const T=U/2-q/2,A=C/2-I[O]/2-1,D=Mi(_[$],A),M=Mi(_[H],A),L=D,P=C-I[O]-M,Z=C/2-I[O]/2+T,ue=Dp(L,Z,P),ge=!m.arrow&&gl(o)!=null&&Z!==ue&&a.reference[O]/2-(Z<L?D:M)-I[O]/2<0,ae=ge?Z<L?Z-L:Z-P:0;return{[k]:E[k]+ae,data:{[k]:ue,centerOffset:Z-ue-ae,...ge&&{alignmentOffset:ae}},reset:ge}}}),Q6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:u,initialPlacement:f,platform:m,elements:g}=e,{mainAxis:x=!0,crossAxis:_=!0,fallbackPlacements:E,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:I=!0,...R}=Ds(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const $=Ms(o),H=Gr(f),W=Ms(f)===f,U=await(m.isRTL==null?void 0:m.isRTL(g.floating)),q=E||(W||!I?[dh(f)]:z6(f)),ee=O!=="none";!E&&ee&&q.push(...W6(f,I,O,U));const C=[f,...q],T=await Vc(e,R),A=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(x&&A.push(T[$]),_){const Z=U6(o,u,U);A.push(T[Z[0]],T[Z[1]])}if(D=[...D,{placement:o,overflows:A}],!A.every(Z=>Z<=0)){var M,L;const Z=(((M=a.flip)==null?void 0:M.index)||0)+1,ue=C[Z];if(ue&&(!(_==="alignment"?H!==Gr(ue):!1)||D.every(F=>Gr(F.placement)===H?F.overflows[0]>0:!0)))return{data:{index:Z,overflows:D},reset:{placement:ue}};let ge=(L=D.filter(ae=>ae.overflows[0]<=0).sort((ae,F)=>ae.overflows[1]-F.overflows[1])[0])==null?void 0:L.placement;if(!ge)switch(k){case"bestFit":{var P;const ae=(P=D.filter(F=>{if(ee){const fe=Gr(F.placement);return fe===H||fe==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(fe=>fe>0).reduce((fe,he)=>fe+he,0)]).sort((F,fe)=>F[1]-fe[1])[0])==null?void 0:P[0];ae&&(ge=ae);break}case"initialPlacement":ge=f;break}if(o!==ge)return{reset:{placement:ge}}}return{}}}};function Bw(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function $w(n){return O6.some(e=>n[e]>=0)}const Y6=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=Ds(n,e);switch(r){case"referenceHidden":{const a=await Vc(e,{...o,elementContext:"reference"}),u=Bw(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:$w(u)}}}case"escaped":{const a=await Vc(e,{...o,altBoundary:!0}),u=Bw(a,t.floating);return{data:{escapedOffsets:u,escaped:$w(u)}}}default:return{}}}}},FE=new Set(["left","top"]);async function X6(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=Ms(t),f=gl(t),m=Gr(t)==="y",g=FE.has(u)?-1:1,x=a&&m?-1:1,_=Ds(e,n);let{mainAxis:E,crossAxis:k,alignmentAxis:O}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof O=="number"&&(k=f==="end"?O*-1:O),m?{x:k*x,y:E*g}:{x:E*g,y:k*x}}const J6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:u,middlewareData:f}=e,m=await X6(e,n);return u===((t=f.offset)==null?void 0:t.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:o+m.x,y:a+m.y,data:{...m,placement:u}}}}},Z6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:f={fn:R=>{let{x:$,y:H}=R;return{x:$,y:H}}},...m}=Ds(n,e),g={x:t,y:r},x=await Vc(e,m),_=Gr(Ms(o)),E=ey(_);let k=g[E],O=g[_];if(a){const R=E==="y"?"top":"left",$=E==="y"?"bottom":"right",H=k+x[R],W=k-x[$];k=Dp(H,k,W)}if(u){const R=_==="y"?"top":"left",$=_==="y"?"bottom":"right",H=O+x[R],W=O-x[$];O=Dp(H,O,W)}const I=f.fn({...e,[E]:k,[_]:O});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[E]:a,[_]:u}}}}}},eO=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:u}=e,{offset:f=0,mainAxis:m=!0,crossAxis:g=!0}=Ds(n,e),x={x:t,y:r},_=Gr(o),E=ey(_);let k=x[E],O=x[_];const I=Ds(f,e),R=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(m){const W=E==="y"?"height":"width",U=a.reference[E]-a.floating[W]+R.mainAxis,q=a.reference[E]+a.reference[W]-R.mainAxis;k<U?k=U:k>q&&(k=q)}if(g){var $,H;const W=E==="y"?"width":"height",U=FE.has(Ms(o)),q=a.reference[_]-a.floating[W]+(U&&(($=u.offset)==null?void 0:$[_])||0)+(U?0:R.crossAxis),ee=a.reference[_]+a.reference[W]+(U?0:((H=u.offset)==null?void 0:H[_])||0)-(U?R.crossAxis:0);O<q?O=q:O>ee&&(O=ee)}return{[E]:k,[_]:O}}}},tO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:u,elements:f}=e,{apply:m=()=>{},...g}=Ds(n,e),x=await Vc(e,g),_=Ms(o),E=gl(o),k=Gr(o)==="y",{width:O,height:I}=a.floating;let R,$;_==="top"||_==="bottom"?(R=_,$=E===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):($=_,R=E==="end"?"top":"bottom");const H=I-x.top-x.bottom,W=O-x.left-x.right,U=Mi(I-x[R],H),q=Mi(O-x[$],W),ee=!e.middlewareData.shift;let C=U,T=q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=W),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=H),ee&&!E){const D=zn(x.left,0),M=zn(x.right,0),L=zn(x.top,0),P=zn(x.bottom,0);k?T=O-2*(D!==0||M!==0?D+M:zn(x.left,x.right)):C=I-2*(L!==0||P!==0?L+P:zn(x.top,x.bottom))}await m({...e,availableWidth:T,availableHeight:C});const A=await u.getDimensions(f.floating);return O!==A.width||I!==A.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function yl(n){return UE(n)?(n.nodeName||"").toLowerCase():"#document"}function Hn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ss(n){var e;return(e=(UE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function UE(n){return Bh()?n instanceof Node||n instanceof Hn(n).Node:!1}function xr(n){return Bh()?n instanceof Element||n instanceof Hn(n).Element:!1}function rs(n){return Bh()?n instanceof HTMLElement||n instanceof Hn(n).HTMLElement:!1}function Hw(n){return!Bh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hn(n).ShadowRoot}const nO=new Set(["inline","contents"]);function Zc(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=wr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!nO.has(o)}const rO=new Set(["table","td","th"]);function sO(n){return rO.has(yl(n))}const iO=[":popover-open",":modal"];function $h(n){return iO.some(e=>{try{return n.matches(e)}catch{return!1}})}const oO=["transform","translate","scale","rotate","perspective"],aO=["transform","translate","scale","rotate","perspective","filter"],lO=["paint","layout","strict","content"];function ry(n){const e=sy(),t=xr(n)?wr(n):n;return oO.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||aO.some(r=>(t.willChange||"").includes(r))||lO.some(r=>(t.contain||"").includes(r))}function cO(n){let e=Oi(n);for(;rs(e)&&!sl(e);){if(ry(e))return e;if($h(e))return null;e=Oi(e)}return null}function sy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uO=new Set(["html","body","#document"]);function sl(n){return uO.has(yl(n))}function wr(n){return Hn(n).getComputedStyle(n)}function Hh(n){return xr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Oi(n){if(yl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Hw(n)&&n.host||ss(n);return Hw(e)?e.host:e}function zE(n){const e=Oi(n);return sl(e)?n.ownerDocument?n.ownerDocument.body:n.body:rs(e)&&Zc(e)?e:zE(e)}function Fc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=zE(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),u=Hn(o);if(a){const f=Op(u);return e.concat(u,u.visualViewport||[],Zc(o)?o:[],f&&t?Fc(f):[])}return e.concat(o,Fc(o,[],t))}function Op(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function BE(n){const e=wr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=rs(n),a=o?n.offsetWidth:t,u=o?n.offsetHeight:r,f=uh(t)!==a||uh(r)!==u;return f&&(t=a,r=u),{width:t,height:r,$:f}}function iy(n){return xr(n)?n:n.contextElement}function Wa(n){const e=iy(n);if(!rs(e))return es(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=BE(e);let u=(a?uh(t.width):t.width)/r,f=(a?uh(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const dO=es(0);function $E(n){const e=Hn(n);return!sy()||!e.visualViewport?dO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hO(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hn(n)?!1:e}function Po(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=iy(n);let u=es(1);e&&(r?xr(r)&&(u=Wa(r)):u=Wa(n));const f=hO(a,t,r)?$E(a):es(0);let m=(o.left+f.x)/u.x,g=(o.top+f.y)/u.y,x=o.width/u.x,_=o.height/u.y;if(a){const E=Hn(a),k=r&&xr(r)?Hn(r):r;let O=E,I=Op(O);for(;I&&r&&k!==O;){const R=Wa(I),$=I.getBoundingClientRect(),H=wr(I),W=$.left+(I.clientLeft+parseFloat(H.paddingLeft))*R.x,U=$.top+(I.clientTop+parseFloat(H.paddingTop))*R.y;m*=R.x,g*=R.y,x*=R.x,_*=R.y,m+=W,g+=U,O=Hn(I),I=Op(O)}}return hh({width:x,height:_,x:m,y:g})}function Wh(n,e){const t=Hh(n).scrollLeft;return e?e.left+t:Po(ss(n)).left+t}function HE(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Wh(n,t),o=t.top+e.scrollTop;return{x:r,y:o}}function fO(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",u=ss(r),f=e?$h(e.floating):!1;if(r===u||f&&a)return t;let m={scrollLeft:0,scrollTop:0},g=es(1);const x=es(0),_=rs(r);if((_||!_&&!a)&&((yl(r)!=="body"||Zc(u))&&(m=Hh(r)),rs(r))){const k=Po(r);g=Wa(r),x.x=k.x+r.clientLeft,x.y=k.y+r.clientTop}const E=u&&!_&&!a?HE(u,m):es(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-m.scrollLeft*g.x+x.x+E.x,y:t.y*g.y-m.scrollTop*g.y+x.y+E.y}}function mO(n){return Array.from(n.getClientRects())}function pO(n){const e=ss(n),t=Hh(n),r=n.ownerDocument.body,o=zn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=zn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+Wh(n);const f=-t.scrollTop;return wr(r).direction==="rtl"&&(u+=zn(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:u,y:f}}const Ww=25;function gO(n,e){const t=Hn(n),r=ss(n),o=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,f=0,m=0;if(o){a=o.width,u=o.height;const x=sy();(!x||x&&e==="fixed")&&(f=o.offsetLeft,m=o.offsetTop)}const g=Wh(r);if(g<=0){const x=r.ownerDocument,_=x.body,E=getComputedStyle(_),k=x.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,O=Math.abs(r.clientWidth-_.clientWidth-k);O<=Ww&&(a-=O)}else g<=Ww&&(a+=g);return{width:a,height:u,x:f,y:m}}const yO=new Set(["absolute","fixed"]);function vO(n,e){const t=Po(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=rs(n)?Wa(n):es(1),u=n.clientWidth*a.x,f=n.clientHeight*a.y,m=o*a.x,g=r*a.y;return{width:u,height:f,x:m,y:g}}function qw(n,e,t){let r;if(e==="viewport")r=gO(n,t);else if(e==="document")r=pO(ss(n));else if(xr(e))r=vO(e,t);else{const o=$E(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return hh(r)}function WE(n,e){const t=Oi(n);return t===e||!xr(t)||sl(t)?!1:wr(t).position==="fixed"||WE(t,e)}function xO(n,e){const t=e.get(n);if(t)return t;let r=Fc(n,[],!1).filter(f=>xr(f)&&yl(f)!=="body"),o=null;const a=wr(n).position==="fixed";let u=a?Oi(n):n;for(;xr(u)&&!sl(u);){const f=wr(u),m=ry(u);!m&&f.position==="fixed"&&(o=null),(a?!m&&!o:!m&&f.position==="static"&&!!o&&yO.has(o.position)||Zc(u)&&!m&&WE(n,u))?r=r.filter(x=>x!==u):o=f,u=Oi(u)}return e.set(n,r),r}function wO(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const u=[...t==="clippingAncestors"?$h(e)?[]:xO(e,this._c):[].concat(t),r],f=u[0],m=u.reduce((g,x)=>{const _=qw(e,x,o);return g.top=zn(_.top,g.top),g.right=Mi(_.right,g.right),g.bottom=Mi(_.bottom,g.bottom),g.left=zn(_.left,g.left),g},qw(e,f,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function _O(n){const{width:e,height:t}=BE(n);return{width:e,height:t}}function bO(n,e,t){const r=rs(e),o=ss(e),a=t==="fixed",u=Po(n,!0,a,e);let f={scrollLeft:0,scrollTop:0};const m=es(0);function g(){m.x=Wh(o)}if(r||!r&&!a)if((yl(e)!=="body"||Zc(o))&&(f=Hh(e)),r){const k=Po(e,!0,a,e);m.x=k.x+e.clientLeft,m.y=k.y+e.clientTop}else o&&g();a&&!r&&o&&g();const x=o&&!r&&!a?HE(o,f):es(0),_=u.left+f.scrollLeft-m.x-x.x,E=u.top+f.scrollTop-m.y-x.y;return{x:_,y:E,width:u.width,height:u.height}}function Km(n){return wr(n).position==="static"}function Gw(n,e){if(!rs(n)||wr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ss(n)===t&&(t=t.ownerDocument.body),t}function qE(n,e){const t=Hn(n);if($h(n))return t;if(!rs(n)){let o=Oi(n);for(;o&&!sl(o);){if(xr(o)&&!Km(o))return o;o=Oi(o)}return t}let r=Gw(n,e);for(;r&&sO(r)&&Km(r);)r=Gw(r,e);return r&&sl(r)&&Km(r)&&!ry(r)?t:r||cO(n)||t}const EO=async function(n){const e=this.getOffsetParent||qE,t=this.getDimensions,r=await t(n.floating);return{reference:bO(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TO(n){return wr(n).direction==="rtl"}const SO={convertOffsetParentRelativeRectToViewportRelativeRect:fO,getDocumentElement:ss,getClippingRect:wO,getOffsetParent:qE,getElementRects:EO,getClientRects:mO,getDimensions:_O,getScale:Wa,isElement:xr,isRTL:TO};function GE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function IO(n,e){let t=null,r;const o=ss(n);function a(){var f;clearTimeout(r),(f=t)==null||f.disconnect(),t=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),a();const g=n.getBoundingClientRect(),{left:x,top:_,width:E,height:k}=g;if(f||e(),!E||!k)return;const O=wd(_),I=wd(o.clientWidth-(x+E)),R=wd(o.clientHeight-(_+k)),$=wd(x),W={rootMargin:-O+"px "+-I+"px "+-R+"px "+-$+"px",threshold:zn(0,Mi(1,m))||1};let U=!0;function q(ee){const C=ee[0].intersectionRatio;if(C!==m){if(!U)return u();C?u(!1,C):r=setTimeout(()=>{u(!1,1e-7)},1e3)}C===1&&!GE(g,n.getBoundingClientRect())&&u(),U=!1}try{t=new IntersectionObserver(q,{...W,root:o.ownerDocument})}catch{t=new IntersectionObserver(q,W)}t.observe(n)}return u(!0),a}function NO(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,g=iy(n),x=o||a?[...g?Fc(g):[],...Fc(e)]:[];x.forEach($=>{o&&$.addEventListener("scroll",t,{passive:!0}),a&&$.addEventListener("resize",t)});const _=g&&f?IO(g,t):null;let E=-1,k=null;u&&(k=new ResizeObserver($=>{let[H]=$;H&&H.target===g&&k&&(k.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var W;(W=k)==null||W.observe(e)})),t()}),g&&!m&&k.observe(g),k.observe(e));let O,I=m?Po(n):null;m&&R();function R(){const $=Po(n);I&&!GE(I,$)&&t(),I=$,O=requestAnimationFrame(R)}return t(),()=>{var $;x.forEach(H=>{o&&H.removeEventListener("scroll",t),a&&H.removeEventListener("resize",t)}),_?.(),($=k)==null||$.disconnect(),k=null,m&&cancelAnimationFrame(O)}}const CO=J6,kO=Z6,AO=Q6,PO=tO,RO=Y6,Kw=K6,jO=eO,DO=(n,e,t)=>{const r=new Map,o={platform:SO,...t},a={...o.platform,_c:r};return G6(n,e,{...o,platform:a})};var MO=typeof document<"u",OO=function(){},Vd=MO?S.useLayoutEffect:OO;function fh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!fh(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!fh(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function KE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Qw(n,e){const t=KE(n);return Math.round(e*t)/t}function Qm(n){const e=S.useRef(n);return Vd(()=>{e.current=n}),e}function LO(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:u}={},transform:f=!0,whileElementsMounted:m,open:g}=n,[x,_]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,k]=S.useState(r);fh(E,r)||k(r);const[O,I]=S.useState(null),[R,$]=S.useState(null),H=S.useCallback(F=>{F!==ee.current&&(ee.current=F,I(F))},[]),W=S.useCallback(F=>{F!==C.current&&(C.current=F,$(F))},[]),U=a||O,q=u||R,ee=S.useRef(null),C=S.useRef(null),T=S.useRef(x),A=m!=null,D=Qm(m),M=Qm(o),L=Qm(g),P=S.useCallback(()=>{if(!ee.current||!C.current)return;const F={placement:e,strategy:t,middleware:E};M.current&&(F.platform=M.current),DO(ee.current,C.current,F).then(fe=>{const he={...fe,isPositioned:L.current!==!1};Z.current&&!fh(T.current,he)&&(T.current=he,Jc.flushSync(()=>{_(he)}))})},[E,e,t,M,L]);Vd(()=>{g===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,_(F=>({...F,isPositioned:!1})))},[g]);const Z=S.useRef(!1);Vd(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Vd(()=>{if(U&&(ee.current=U),q&&(C.current=q),U&&q){if(D.current)return D.current(U,q,P);P()}},[U,q,P,D,A]);const ue=S.useMemo(()=>({reference:ee,floating:C,setReference:H,setFloating:W}),[H,W]),ge=S.useMemo(()=>({reference:U,floating:q}),[U,q]),ae=S.useMemo(()=>{const F={position:t,left:0,top:0};if(!ge.floating)return F;const fe=Qw(ge.floating,x.x),he=Qw(ge.floating,x.y);return f?{...F,transform:"translate("+fe+"px, "+he+"px)",...KE(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:fe,top:he}},[t,f,ge.floating,x.x,x.y]);return S.useMemo(()=>({...x,update:P,refs:ue,elements:ge,floatingStyles:ae}),[x,P,ue,ge,ae])}const VO=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Kw({element:r.current,padding:o}).fn(t):{}:r?Kw({element:r,padding:o}).fn(t):{}}}},FO=(n,e)=>({...CO(n),options:[n,e]}),UO=(n,e)=>({...kO(n),options:[n,e]}),zO=(n,e)=>({...jO(n),options:[n,e]}),BO=(n,e)=>({...AO(n),options:[n,e]}),$O=(n,e)=>({...PO(n),options:[n,e]}),HO=(n,e)=>({...RO(n),options:[n,e]}),WO=(n,e)=>({...VO(n),options:[n,e]});var qO="Arrow",QE=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return c.jsx(ct.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});QE.displayName=qO;var GO=QE;function KO(n){const[e,t]=S.useState(void 0);return mn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,f;if("borderBoxSize"in a){const m=a.borderBoxSize,g=Array.isArray(m)?m[0]:m;u=g.inlineSize,f=g.blockSize}else u=n.offsetWidth,f=n.offsetHeight;t({width:u,height:f})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var oy="Popper",[YE,XE]=zh(oy),[QO,JE]=YE(oy),ZE=n=>{const{__scopePopper:e,children:t}=n,[r,o]=S.useState(null);return c.jsx(QO,{scope:e,anchor:r,onAnchorChange:o,children:t})};ZE.displayName=oy;var eT="PopperAnchor",tT=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=JE(eT,t),u=S.useRef(null),f=jt(e,u),m=S.useRef(null);return S.useEffect(()=>{const g=m.current;m.current=r?.current||u.current,g!==m.current&&a.onAnchorChange(m.current)}),r?null:c.jsx(ct.div,{...o,ref:f})});tT.displayName=eT;var ay="PopperContent",[YO,XO]=YE(ay),nT=S.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:_="partial",hideWhenDetached:E=!1,updatePositionStrategy:k="optimized",onPlaced:O,...I}=n,R=JE(ay,t),[$,H]=S.useState(null),W=jt(e,le=>H(le)),[U,q]=S.useState(null),ee=KO(U),C=ee?.width??0,T=ee?.height??0,A=r+(a!=="center"?"-"+a:""),D=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},M=Array.isArray(g)?g:[g],L=M.length>0,P={padding:D,boundary:M.filter(ZO),altBoundary:L},{refs:Z,floatingStyles:ue,placement:ge,isPositioned:ae,middlewareData:F}=LO({strategy:"fixed",placement:A,whileElementsMounted:(...le)=>NO(...le,{animationFrame:k==="always"}),elements:{reference:R.anchor},middleware:[FO({mainAxis:o+T,alignmentAxis:u}),m&&UO({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?zO():void 0,...P}),m&&BO({...P}),$O({...P,apply:({elements:le,rects:Ie,availableWidth:De,availableHeight:Ue})=>{const{width:Ke,height:et}=Ie.reference,wt=le.floating.style;wt.setProperty("--radix-popper-available-width",`${De}px`),wt.setProperty("--radix-popper-available-height",`${Ue}px`),wt.setProperty("--radix-popper-anchor-width",`${Ke}px`),wt.setProperty("--radix-popper-anchor-height",`${et}px`)}}),U&&WO({element:U,padding:f}),eL({arrowWidth:C,arrowHeight:T}),E&&HO({strategy:"referenceHidden",...P})]}),[fe,he]=iT(ge),B=Ao(O);mn(()=>{ae&&B?.()},[ae,B]);const ne=F.arrow?.x,_e=F.arrow?.y,xe=F.arrow?.centerOffset!==0,[je,Le]=S.useState();return mn(()=>{$&&Le(window.getComputedStyle($).zIndex)},[$]),c.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:ae?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:c.jsx(YO,{scope:t,placedSide:fe,onArrowChange:q,arrowX:ne,arrowY:_e,shouldHideArrow:xe,children:c.jsx(ct.div,{"data-side":fe,"data-align":he,...I,ref:W,style:{...I.style,animation:ae?void 0:"none"}})})})});nT.displayName=ay;var rT="PopperArrow",JO={top:"bottom",right:"left",bottom:"top",left:"right"},sT=S.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=XO(rT,r),u=JO[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(GO,{...o,ref:t,style:{...o.style,display:"block"}})})});sT.displayName=rT;function ZO(n){return n!==null}var eL=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,f=u?0:n.arrowWidth,m=u?0:n.arrowHeight,[g,x]=iT(t),_={start:"0%",center:"50%",end:"100%"}[x],E=(o.arrow?.x??0)+f/2,k=(o.arrow?.y??0)+m/2;let O="",I="";return g==="bottom"?(O=u?_:`${E}px`,I=`${-m}px`):g==="top"?(O=u?_:`${E}px`,I=`${r.floating.height+m}px`):g==="right"?(O=`${-m}px`,I=u?_:`${k}px`):g==="left"&&(O=`${r.floating.width+m}px`,I=u?_:`${k}px`),{data:{x:O,y:I}}}});function iT(n){const[e,t="center"]=n.split("-");return[e,t]}var tL=ZE,nL=tT,rL=nT,sL=sT,iL="Portal",ly=S.forwardRef((n,e)=>{const{container:t,...r}=n,[o,a]=S.useState(!1);mn(()=>a(!0),[]);const u=t||o&&globalThis?.document?.body;return u?i6.createPortal(c.jsx(ct.div,{...r,ref:e}),u):null});ly.displayName=iL;var oL=a_[" useInsertionEffect ".trim().toString()]||mn;function Lp({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,u]=aL({defaultProp:e,onChange:t}),f=n!==void 0,m=f?n:o;{const x=S.useRef(n!==void 0);S.useEffect(()=>{const _=x.current;_!==f&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,r])}const g=S.useCallback(x=>{if(f){const _=lL(x)?x(n):x;_!==n&&u.current?.(_)}else a(x)},[f,n,a,u]);return[m,g]}function aL({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),o=S.useRef(t),a=S.useRef(e);return oL(()=>{a.current=e},[e]),S.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,r,a]}function lL(n){return typeof n=="function"}function cL(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var oT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uL="VisuallyHidden",dL=S.forwardRef((n,e)=>c.jsx(ct.span,{...n,ref:e,style:{...oT,...n.style}}));dL.displayName=uL;var hL=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ia=new WeakMap,_d=new WeakMap,bd={},Ym=0,aT=function(n){return n&&(n.host||aT(n.parentNode))},fL=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=aT(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},mL=function(n,e,t,r){var o=fL(e,Array.isArray(n)?n:[n]);bd[t]||(bd[t]=new WeakMap);var a=bd[t],u=[],f=new Set,m=new Set(o),g=function(_){!_||f.has(_)||(f.add(_),g(_.parentNode))};o.forEach(g);var x=function(_){!_||m.has(_)||Array.prototype.forEach.call(_.children,function(E){if(f.has(E))x(E);else try{var k=E.getAttribute(r),O=k!==null&&k!=="false",I=(Ia.get(E)||0)+1,R=(a.get(E)||0)+1;Ia.set(E,I),a.set(E,R),u.push(E),I===1&&O&&_d.set(E,!0),R===1&&E.setAttribute(t,"true"),O||E.setAttribute(r,"true")}catch($){console.error("aria-hidden: cannot operate on ",E,$)}})};return x(e),f.clear(),Ym++,function(){u.forEach(function(_){var E=Ia.get(_)-1,k=a.get(_)-1;Ia.set(_,E),a.set(_,k),E||(_d.has(_)||_.removeAttribute(r),_d.delete(_)),k||_.removeAttribute(t)}),Ym--,Ym||(Ia=new WeakMap,Ia=new WeakMap,_d=new WeakMap,bd={})}},lT=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=hL(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),mL(r,o,t,"aria-hidden")):function(){return null}},qr=function(){return qr=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},qr.apply(this,arguments)};function cT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function pL(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var Fd="right-scroll-bar-position",Ud="width-before-scroll-bar",gL="with-scroll-bars-hidden",yL="--removed-body-scroll-bar-size";function Xm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function vL(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var xL=typeof window<"u"?S.useLayoutEffect:S.useEffect,Yw=new WeakMap;function wL(n,e){var t=vL(null,function(r){return n.forEach(function(o){return Xm(o,r)})});return xL(function(){var r=Yw.get(t);if(r){var o=new Set(r),a=new Set(n),u=t.current;o.forEach(function(f){a.has(f)||Xm(f,null)}),a.forEach(function(f){o.has(f)||Xm(f,u)})}Yw.set(t,n)},[n]),t}function _L(n){return n}function bL(n,e){e===void 0&&(e=_L);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,r);return t.push(u),function(){t=t.filter(function(f){return f!==u})}},assignSyncMedium:function(a){for(r=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(f){return a(f)},filter:function(){return t}}},assignMedium:function(a){r=!0;var u=[];if(t.length){var f=t;t=[],f.forEach(a),u=t}var m=function(){var x=u;u=[],x.forEach(a)},g=function(){return Promise.resolve().then(m)};g(),t={push:function(x){u.push(x),g()},filter:function(x){return u=u.filter(x),t}}}};return o}function EL(n){n===void 0&&(n={});var e=bL(null);return e.options=qr({async:!0,ssr:!1},n),e}var uT=function(n){var e=n.sideCar,t=cT(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,qr({},t))};uT.isSideCarExport=!0;function TL(n,e){return n.useMedium(e),uT}var dT=EL(),Jm=function(){},qh=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:Jm,onWheelCapture:Jm,onTouchMoveCapture:Jm}),o=r[0],a=r[1],u=n.forwardProps,f=n.children,m=n.className,g=n.removeScrollBar,x=n.enabled,_=n.shards,E=n.sideCar,k=n.noRelative,O=n.noIsolation,I=n.inert,R=n.allowPinchZoom,$=n.as,H=$===void 0?"div":$,W=n.gapMode,U=cT(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=E,ee=wL([t,e]),C=qr(qr({},U),o);return S.createElement(S.Fragment,null,x&&S.createElement(q,{sideCar:dT,removeScrollBar:g,shards:_,noRelative:k,noIsolation:O,inert:I,setCallbacks:a,allowPinchZoom:!!R,lockRef:t,gapMode:W}),u?S.cloneElement(S.Children.only(f),qr(qr({},C),{ref:ee})):S.createElement(H,qr({},C,{className:m,ref:ee}),f))});qh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qh.classNames={fullWidth:Ud,zeroRight:Fd};var SL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IL(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=SL();return e&&n.setAttribute("nonce",e),n}function NL(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function CL(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var kL=function(){var n=0,e=null;return{add:function(t){n==0&&(e=IL())&&(NL(e,t),CL(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AL=function(){var n=kL();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},hT=function(){var n=AL(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},PL={left:0,top:0,right:0,gap:0},Zm=function(n){return parseInt(n||"",10)||0},RL=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Zm(t),Zm(r),Zm(o)]},jL=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return PL;var e=RL(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},DL=hT(),qa="data-scroll-locked",ML=function(n,e,t,r){var o=n.left,a=n.top,u=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(gL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(qa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fd,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(Ud,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ud," .").concat(Ud,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qa,`] {
    `).concat(yL,": ").concat(f,`px;
  }
`)},Xw=function(){var n=parseInt(document.body.getAttribute(qa)||"0",10);return isFinite(n)?n:0},OL=function(){S.useEffect(function(){return document.body.setAttribute(qa,(Xw()+1).toString()),function(){var n=Xw()-1;n<=0?document.body.removeAttribute(qa):document.body.setAttribute(qa,n.toString())}},[])},LL=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;OL();var a=S.useMemo(function(){return jL(o)},[o]);return S.createElement(DL,{styles:ML(a,!e,o,t?"":"!important")})},Vp=!1;if(typeof window<"u")try{var Ed=Object.defineProperty({},"passive",{get:function(){return Vp=!0,!0}});window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{Vp=!1}var Na=Vp?{passive:!1}:!1,VL=function(n){return n.tagName==="TEXTAREA"},fT=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!VL(n)&&t[e]==="visible")},FL=function(n){return fT(n,"overflowY")},UL=function(n){return fT(n,"overflowX")},Jw=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=mT(n,r);if(o){var a=pT(n,r),u=a[1],f=a[2];if(u>f)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},zL=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},BL=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},mT=function(n,e){return n==="v"?FL(e):UL(e)},pT=function(n,e){return n==="v"?zL(e):BL(e)},$L=function(n,e){return n==="h"&&e==="rtl"?-1:1},HL=function(n,e,t,r,o){var a=$L(n,window.getComputedStyle(e).direction),u=a*r,f=t.target,m=e.contains(f),g=!1,x=u>0,_=0,E=0;do{if(!f)break;var k=pT(n,f),O=k[0],I=k[1],R=k[2],$=I-R-a*O;(O||$)&&mT(n,f)&&(_+=$,E+=O);var H=f.parentNode;f=H&&H.nodeType===Node.DOCUMENT_FRAGMENT_NODE?H.host:H}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(x&&Math.abs(_)<1||!x&&Math.abs(E)<1)&&(g=!0),g},Td=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Zw=function(n){return[n.deltaX,n.deltaY]},e_=function(n){return n&&"current"in n?n.current:n},WL=function(n,e){return n[0]===e[0]&&n[1]===e[1]},qL=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},GL=0,Ca=[];function KL(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),o=S.useState(GL++)[0],a=S.useState(hT)[0],u=S.useRef(n);S.useEffect(function(){u.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var I=pL([n.lockRef.current],(n.shards||[]).map(e_),!0).filter(Boolean);return I.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var f=S.useCallback(function(I,R){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!u.current.allowPinchZoom;var $=Td(I),H=t.current,W="deltaX"in I?I.deltaX:H[0]-$[0],U="deltaY"in I?I.deltaY:H[1]-$[1],q,ee=I.target,C=Math.abs(W)>Math.abs(U)?"h":"v";if("touches"in I&&C==="h"&&ee.type==="range")return!1;var T=Jw(C,ee);if(!T)return!0;if(T?q=C:(q=C==="v"?"h":"v",T=Jw(C,ee)),!T)return!1;if(!r.current&&"changedTouches"in I&&(W||U)&&(r.current=q),!q)return!0;var A=r.current||q;return HL(A,R,I,A==="h"?W:U)},[]),m=S.useCallback(function(I){var R=I;if(!(!Ca.length||Ca[Ca.length-1]!==a)){var $="deltaY"in R?Zw(R):Td(R),H=e.current.filter(function(q){return q.name===R.type&&(q.target===R.target||R.target===q.shadowParent)&&WL(q.delta,$)})[0];if(H&&H.should){R.cancelable&&R.preventDefault();return}if(!H){var W=(u.current.shards||[]).map(e_).filter(Boolean).filter(function(q){return q.contains(R.target)}),U=W.length>0?f(R,W[0]):!u.current.noIsolation;U&&R.cancelable&&R.preventDefault()}}},[]),g=S.useCallback(function(I,R,$,H){var W={name:I,delta:R,target:$,should:H,shadowParent:QL($)};e.current.push(W),setTimeout(function(){e.current=e.current.filter(function(U){return U!==W})},1)},[]),x=S.useCallback(function(I){t.current=Td(I),r.current=void 0},[]),_=S.useCallback(function(I){g(I.type,Zw(I),I.target,f(I,n.lockRef.current))},[]),E=S.useCallback(function(I){g(I.type,Td(I),I.target,f(I,n.lockRef.current))},[]);S.useEffect(function(){return Ca.push(a),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:E}),document.addEventListener("wheel",m,Na),document.addEventListener("touchmove",m,Na),document.addEventListener("touchstart",x,Na),function(){Ca=Ca.filter(function(I){return I!==a}),document.removeEventListener("wheel",m,Na),document.removeEventListener("touchmove",m,Na),document.removeEventListener("touchstart",x,Na)}},[]);var k=n.removeScrollBar,O=n.inert;return S.createElement(S.Fragment,null,O?S.createElement(a,{styles:qL(o)}):null,k?S.createElement(LL,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function QL(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const YL=TL(dT,KL);var cy=S.forwardRef(function(n,e){return S.createElement(qh,qr({},n,{ref:e,sideCar:YL}))});cy.classNames=qh.classNames;var XL=[" ","Enter","ArrowUp","ArrowDown"],JL=[" ","Enter"],Ro="Select",[Gh,Kh,ZL]=g6(Ro),[vl]=zh(Ro,[ZL,XE]),Qh=XE(),[e3,Bi]=vl(Ro),[t3,n3]=vl(Ro),gT=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:a,value:u,defaultValue:f,onValueChange:m,dir:g,name:x,autoComplete:_,disabled:E,required:k,form:O}=n,I=Qh(e),[R,$]=S.useState(null),[H,W]=S.useState(null),[U,q]=S.useState(!1),ee=v6(g),[C,T]=Lp({prop:r,defaultProp:o??!1,onChange:a,caller:Ro}),[A,D]=Lp({prop:u,defaultProp:f,onChange:m,caller:Ro}),M=S.useRef(null),L=R?O||!!R.closest("form"):!0,[P,Z]=S.useState(new Set),ue=Array.from(P).map(ge=>ge.props.value).join(";");return c.jsx(tL,{...I,children:c.jsxs(e3,{required:k,scope:e,trigger:R,onTriggerChange:$,valueNode:H,onValueNodeChange:W,valueNodeHasChildren:U,onValueNodeHasChildrenChange:q,contentId:Ha(),value:A,onValueChange:D,open:C,onOpenChange:T,dir:ee,triggerPointerDownPosRef:M,disabled:E,children:[c.jsx(Gh.Provider,{scope:e,children:c.jsx(t3,{scope:n.__scopeSelect,onNativeOptionAdd:S.useCallback(ge=>{Z(ae=>new Set(ae).add(ge))},[]),onNativeOptionRemove:S.useCallback(ge=>{Z(ae=>{const F=new Set(ae);return F.delete(ge),F})},[]),children:t})}),L?c.jsxs(VT,{"aria-hidden":!0,required:k,tabIndex:-1,name:x,autoComplete:_,value:A,onChange:ge=>D(ge.target.value),disabled:E,form:O,children:[A===void 0?c.jsx("option",{value:""}):null,Array.from(P)]},ue):null]})})};gT.displayName=Ro;var yT="SelectTrigger",vT=S.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,a=Qh(t),u=Bi(yT,t),f=u.disabled||r,m=jt(e,u.onTriggerChange),g=Kh(t),x=S.useRef("touch"),[_,E,k]=UT(I=>{const R=g().filter(W=>!W.disabled),$=R.find(W=>W.value===u.value),H=zT(R,I,$);H!==void 0&&u.onValueChange(H.value)}),O=I=>{f||(u.onOpenChange(!0),k()),I&&(u.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return c.jsx(nL,{asChild:!0,...a,children:c.jsx(ct.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":FT(u.value)?"":void 0,...o,ref:m,onClick:yt(o.onClick,I=>{I.currentTarget.focus(),x.current!=="mouse"&&O(I)}),onPointerDown:yt(o.onPointerDown,I=>{x.current=I.pointerType;const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(O(I),I.preventDefault())}),onKeyDown:yt(o.onKeyDown,I=>{const R=_.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&E(I.key),!(R&&I.key===" ")&&XL.includes(I.key)&&(O(),I.preventDefault())})})})});vT.displayName=yT;var xT="SelectValue",wT=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:a,placeholder:u="",...f}=n,m=Bi(xT,t),{onValueNodeHasChildrenChange:g}=m,x=a!==void 0,_=jt(e,m.onValueNodeChange);return mn(()=>{g(x)},[g,x]),c.jsx(ct.span,{...f,ref:_,style:{pointerEvents:"none"},children:FT(m.value)?c.jsx(c.Fragment,{children:u}):a})});wT.displayName=xT;var r3="SelectIcon",_T=S.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return c.jsx(ct.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});_T.displayName=r3;var s3="SelectPortal",bT=n=>c.jsx(ly,{asChild:!0,...n});bT.displayName=s3;var jo="SelectContent",ET=S.forwardRef((n,e)=>{const t=Bi(jo,n.__scopeSelect),[r,o]=S.useState();if(mn(()=>{o(new DocumentFragment)},[]),!t.open){const a=r;return a?Jc.createPortal(c.jsx(TT,{scope:n.__scopeSelect,children:c.jsx(Gh.Slot,{scope:n.__scopeSelect,children:c.jsx("div",{children:n.children})})}),a):null}return c.jsx(ST,{...n,ref:e})});ET.displayName=jo;var fr=10,[TT,$i]=vl(jo),i3="SelectContentImpl",o3=Ga("SelectContent.RemoveScroll"),ST=S.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:u,side:f,sideOffset:m,align:g,alignOffset:x,arrowPadding:_,collisionBoundary:E,collisionPadding:k,sticky:O,hideWhenDetached:I,avoidCollisions:R,...$}=n,H=Bi(jo,t),[W,U]=S.useState(null),[q,ee]=S.useState(null),C=jt(e,le=>U(le)),[T,A]=S.useState(null),[D,M]=S.useState(null),L=Kh(t),[P,Z]=S.useState(!1),ue=S.useRef(!1);S.useEffect(()=>{if(W)return lT(W)},[W]),OE();const ge=S.useCallback(le=>{const[Ie,...De]=L().map(et=>et.ref.current),[Ue]=De.slice(-1),Ke=document.activeElement;for(const et of le)if(et===Ke||(et?.scrollIntoView({block:"nearest"}),et===Ie&&q&&(q.scrollTop=0),et===Ue&&q&&(q.scrollTop=q.scrollHeight),et?.focus(),document.activeElement!==Ke))return},[L,q]),ae=S.useCallback(()=>ge([T,W]),[ge,T,W]);S.useEffect(()=>{P&&ae()},[P,ae]);const{onOpenChange:F,triggerPointerDownPosRef:fe}=H;S.useEffect(()=>{if(W){let le={x:0,y:0};const Ie=Ue=>{le={x:Math.abs(Math.round(Ue.pageX)-(fe.current?.x??0)),y:Math.abs(Math.round(Ue.pageY)-(fe.current?.y??0))}},De=Ue=>{le.x<=10&&le.y<=10?Ue.preventDefault():W.contains(Ue.target)||F(!1),document.removeEventListener("pointermove",Ie),fe.current=null};return fe.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",De,{capture:!0})}}},[W,F,fe]),S.useEffect(()=>{const le=()=>F(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[F]);const[he,B]=UT(le=>{const Ie=L().filter(Ke=>!Ke.disabled),De=Ie.find(Ke=>Ke.ref.current===document.activeElement),Ue=zT(Ie,le,De);Ue&&setTimeout(()=>Ue.ref.current.focus())}),ne=S.useCallback((le,Ie,De)=>{const Ue=!ue.current&&!De;(H.value!==void 0&&H.value===Ie||Ue)&&(A(le),Ue&&(ue.current=!0))},[H.value]),_e=S.useCallback(()=>W?.focus(),[W]),xe=S.useCallback((le,Ie,De)=>{const Ue=!ue.current&&!De;(H.value!==void 0&&H.value===Ie||Ue)&&M(le)},[H.value]),je=r==="popper"?Fp:IT,Le=je===Fp?{side:f,sideOffset:m,align:g,alignOffset:x,arrowPadding:_,collisionBoundary:E,collisionPadding:k,sticky:O,hideWhenDetached:I,avoidCollisions:R}:{};return c.jsx(TT,{scope:t,content:W,viewport:q,onViewportChange:ee,itemRefCallback:ne,selectedItem:T,onItemLeave:_e,itemTextRefCallback:xe,focusSelectedItem:ae,selectedItemText:D,position:r,isPositioned:P,searchRef:he,children:c.jsx(cy,{as:o3,allowPinchZoom:!0,children:c.jsx(Zg,{asChild:!0,trapped:H.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:yt(o,le=>{H.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:c.jsx(Jg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>H.onOpenChange(!1),children:c.jsx(je,{role:"listbox",id:H.contentId,"data-state":H.open?"open":"closed",dir:H.dir,onContextMenu:le=>le.preventDefault(),...$,...Le,onPlaced:()=>Z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...$.style},onKeyDown:yt($.onKeyDown,le=>{const Ie=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Ie&&le.key.length===1&&B(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ue=L().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ke=le.target,et=Ue.indexOf(Ke);Ue=Ue.slice(et+1)}setTimeout(()=>ge(Ue)),le.preventDefault()}})})})})})})});ST.displayName=i3;var a3="SelectItemAlignedPosition",IT=S.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,a=Bi(jo,t),u=$i(jo,t),[f,m]=S.useState(null),[g,x]=S.useState(null),_=jt(e,C=>x(C)),E=Kh(t),k=S.useRef(!1),O=S.useRef(!0),{viewport:I,selectedItem:R,selectedItemText:$,focusSelectedItem:H}=u,W=S.useCallback(()=>{if(a.trigger&&a.valueNode&&f&&g&&I&&R&&$){const C=a.trigger.getBoundingClientRect(),T=g.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),D=$.getBoundingClientRect();if(a.dir!=="rtl"){const Ke=D.left-T.left,et=A.left-Ke,wt=C.left-et,rn=C.width+wt,Er=Math.max(rn,T.width),Wn=window.innerWidth-fr,at=Pw(et,[fr,Math.max(fr,Wn-Er)]);f.style.minWidth=rn+"px",f.style.left=at+"px"}else{const Ke=T.right-D.right,et=window.innerWidth-A.right-Ke,wt=window.innerWidth-C.right-et,rn=C.width+wt,Er=Math.max(rn,T.width),Wn=window.innerWidth-fr,at=Pw(et,[fr,Math.max(fr,Wn-Er)]);f.style.minWidth=rn+"px",f.style.right=at+"px"}const M=E(),L=window.innerHeight-fr*2,P=I.scrollHeight,Z=window.getComputedStyle(g),ue=parseInt(Z.borderTopWidth,10),ge=parseInt(Z.paddingTop,10),ae=parseInt(Z.borderBottomWidth,10),F=parseInt(Z.paddingBottom,10),fe=ue+ge+P+F+ae,he=Math.min(R.offsetHeight*5,fe),B=window.getComputedStyle(I),ne=parseInt(B.paddingTop,10),_e=parseInt(B.paddingBottom,10),xe=C.top+C.height/2-fr,je=L-xe,Le=R.offsetHeight/2,le=R.offsetTop+Le,Ie=ue+ge+le,De=fe-Ie;if(Ie<=xe){const Ke=M.length>0&&R===M[M.length-1].ref.current;f.style.bottom="0px";const et=g.clientHeight-I.offsetTop-I.offsetHeight,wt=Math.max(je,Le+(Ke?_e:0)+et+ae),rn=Ie+wt;f.style.height=rn+"px"}else{const Ke=M.length>0&&R===M[0].ref.current;f.style.top="0px";const wt=Math.max(xe,ue+I.offsetTop+(Ke?ne:0)+Le)+De;f.style.height=wt+"px",I.scrollTop=Ie-xe+I.offsetTop}f.style.margin=`${fr}px 0`,f.style.minHeight=he+"px",f.style.maxHeight=L+"px",r?.(),requestAnimationFrame(()=>k.current=!0)}},[E,a.trigger,a.valueNode,f,g,I,R,$,a.dir,r]);mn(()=>W(),[W]);const[U,q]=S.useState();mn(()=>{g&&q(window.getComputedStyle(g).zIndex)},[g]);const ee=S.useCallback(C=>{C&&O.current===!0&&(W(),H?.(),O.current=!1)},[W,H]);return c.jsx(c3,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:k,onScrollButtonChange:ee,children:c.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:c.jsx(ct.div,{...o,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});IT.displayName=a3;var l3="SelectPopperPosition",Fp=S.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=fr,...a}=n,u=Qh(t);return c.jsx(rL,{...u,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fp.displayName=l3;var[c3,uy]=vl(jo,{}),Up="SelectViewport",NT=S.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,a=$i(Up,t),u=uy(Up,t),f=jt(e,a.onViewportChange),m=S.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Gh.Slot,{scope:t,children:c.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:yt(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:E}=u;if(E?.current&&_){const k=Math.abs(m.current-x.scrollTop);if(k>0){const O=window.innerHeight-fr*2,I=parseFloat(_.style.minHeight),R=parseFloat(_.style.height),$=Math.max(I,R);if($<O){const H=$+k,W=Math.min(O,H),U=H-W;_.style.height=W+"px",_.style.bottom==="0px"&&(x.scrollTop=U>0?U:0,_.style.justifyContent="flex-end")}}}m.current=x.scrollTop})})})]})});NT.displayName=Up;var CT="SelectGroup",[u3,d3]=vl(CT),h3=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Ha();return c.jsx(u3,{scope:t,id:o,children:c.jsx(ct.div,{role:"group","aria-labelledby":o,...r,ref:e})})});h3.displayName=CT;var kT="SelectLabel",f3=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=d3(kT,t);return c.jsx(ct.div,{id:o.id,...r,ref:e})});f3.displayName=kT;var mh="SelectItem",[m3,AT]=vl(mh),PT=S.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:a,...u}=n,f=Bi(mh,t),m=$i(mh,t),g=f.value===r,[x,_]=S.useState(a??""),[E,k]=S.useState(!1),O=jt(e,H=>m.itemRefCallback?.(H,r,o)),I=Ha(),R=S.useRef("touch"),$=()=>{o||(f.onValueChange(r),f.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(m3,{scope:t,value:r,disabled:o,textId:I,isSelected:g,onItemTextChange:S.useCallback(H=>{_(W=>W||(H?.textContent??"").trim())},[]),children:c.jsx(Gh.ItemSlot,{scope:t,value:r,disabled:o,textValue:x,children:c.jsx(ct.div,{role:"option","aria-labelledby":I,"data-highlighted":E?"":void 0,"aria-selected":g&&E,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:O,onFocus:yt(u.onFocus,()=>k(!0)),onBlur:yt(u.onBlur,()=>k(!1)),onClick:yt(u.onClick,()=>{R.current!=="mouse"&&$()}),onPointerUp:yt(u.onPointerUp,()=>{R.current==="mouse"&&$()}),onPointerDown:yt(u.onPointerDown,H=>{R.current=H.pointerType}),onPointerMove:yt(u.onPointerMove,H=>{R.current=H.pointerType,o?m.onItemLeave?.():R.current==="mouse"&&H.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(u.onPointerLeave,H=>{H.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:yt(u.onKeyDown,H=>{m.searchRef?.current!==""&&H.key===" "||(JL.includes(H.key)&&$(),H.key===" "&&H.preventDefault())})})})})});PT.displayName=mh;var yc="SelectItemText",RT=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...a}=n,u=Bi(yc,t),f=$i(yc,t),m=AT(yc,t),g=n3(yc,t),[x,_]=S.useState(null),E=jt(e,$=>_($),m.onItemTextChange,$=>f.itemTextRefCallback?.($,m.value,m.disabled)),k=x?.textContent,O=S.useMemo(()=>c.jsx("option",{value:m.value,disabled:m.disabled,children:k},m.value),[m.disabled,m.value,k]),{onNativeOptionAdd:I,onNativeOptionRemove:R}=g;return mn(()=>(I(O),()=>R(O)),[I,R,O]),c.jsxs(c.Fragment,{children:[c.jsx(ct.span,{id:m.textId,...a,ref:E}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Jc.createPortal(a.children,u.valueNode):null]})});RT.displayName=yc;var jT="SelectItemIndicator",DT=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return AT(jT,t).isSelected?c.jsx(ct.span,{"aria-hidden":!0,...r,ref:e}):null});DT.displayName=jT;var zp="SelectScrollUpButton",MT=S.forwardRef((n,e)=>{const t=$i(zp,n.__scopeSelect),r=uy(zp,n.__scopeSelect),[o,a]=S.useState(!1),u=jt(e,r.onScrollButtonChange);return mn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=m.scrollTop>0;a(g)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?c.jsx(LT,{...n,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});MT.displayName=zp;var Bp="SelectScrollDownButton",OT=S.forwardRef((n,e)=>{const t=$i(Bp,n.__scopeSelect),r=uy(Bp,n.__scopeSelect),[o,a]=S.useState(!1),u=jt(e,r.onScrollButtonChange);return mn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=m.scrollHeight-m.clientHeight,x=Math.ceil(m.scrollTop)<g;a(x)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?c.jsx(LT,{...n,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});OT.displayName=Bp;var LT=S.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,a=$i("SelectScrollButton",t),u=S.useRef(null),f=Kh(t),m=S.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return S.useEffect(()=>()=>m(),[m]),mn(()=>{f().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),c.jsx(ct.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:yt(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:yt(o.onPointerMove,()=>{a.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:yt(o.onPointerLeave,()=>{m()})})}),p3="SelectSeparator",g3=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return c.jsx(ct.div,{"aria-hidden":!0,...r,ref:e})});g3.displayName=p3;var $p="SelectArrow",y3=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Qh(t),a=Bi($p,t),u=$i($p,t);return a.open&&u.position==="popper"?c.jsx(sL,{...o,...r,ref:e}):null});y3.displayName=$p;var v3="SelectBubbleInput",VT=S.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=S.useRef(null),a=jt(r,o),u=cL(e);return S.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==e&&x){const _=new Event("change",{bubbles:!0});x.call(f,e),f.dispatchEvent(_)}},[u,e]),c.jsx(ct.select,{...t,style:{...oT,...t.style},ref:a,defaultValue:e})});VT.displayName=v3;function FT(n){return n===""||n===void 0}function UT(n){const e=Ao(n),t=S.useRef(""),r=S.useRef(0),o=S.useCallback(u=>{const f=t.current+u;e(f),(function m(g){t.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>m(""),1e3))})(f)},[e]),a=S.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,a]}function zT(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let u=x3(n,Math.max(a,0));o.length===1&&(u=u.filter(g=>g!==t));const m=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==t?m:void 0}function x3(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var w3=gT,_3=vT,b3=wT,E3=_T,T3=bT,S3=ET,I3=NT,N3=PT,C3=RT,k3=DT,A3=MT,P3=OT;function t_({...n}){return c.jsx(w3,{"data-slot":"select",...n})}function n_({...n}){return c.jsx(b3,{"data-slot":"select-value",...n})}function r_({className:n,size:e="default",children:t,...r}){return c.jsxs(_3,{"data-slot":"select-trigger","data-size":e,className:Tt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,c.jsx(E3,{asChild:!0,children:c.jsx(I_,{className:"size-4 opacity-50"})})]})}function s_({className:n,children:e,position:t="popper",...r}){return c.jsx(T3,{children:c.jsxs(S3,{"data-slot":"select-content",className:Tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[c.jsx(R3,{}),c.jsx(I3,{className:Tt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),c.jsx(j3,{})]})})}function er({className:n,children:e,...t}){return c.jsxs(N3,{"data-slot":"select-item",className:Tt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[c.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:c.jsx(k3,{children:c.jsx(S_,{className:"size-4"})})}),c.jsx(C3,{children:e})]})}function R3({className:n,...e}){return c.jsx(A3,{"data-slot":"select-scroll-up-button",className:Tt("flex cursor-default items-center justify-center py-1",n),...e,children:c.jsx(jN,{className:"size-4"})})}function j3({className:n,...e}){return c.jsx(P3,{"data-slot":"select-scroll-down-button",className:Tt("flex cursor-default items-center justify-center py-1",n),...e,children:c.jsx(I_,{className:"size-4"})})}function D3(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var Yh=n=>{const{present:e,children:t}=n,r=M3(e),o=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),a=jt(r.ref,O3(o));return typeof t=="function"||r.isPresent?S.cloneElement(o,{ref:a}):null};Yh.displayName="Presence";function M3(n){const[e,t]=S.useState(),r=S.useRef(null),o=S.useRef(n),a=S.useRef("none"),u=n?"mounted":"unmounted",[f,m]=D3(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const g=Sd(r.current);a.current=f==="mounted"?g:"none"},[f]),mn(()=>{const g=r.current,x=o.current;if(x!==n){const E=a.current,k=Sd(g);n?m("MOUNT"):k==="none"||g?.display==="none"?m("UNMOUNT"):m(x&&E!==k?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,m]),mn(()=>{if(e){let g;const x=e.ownerDocument.defaultView??window,_=k=>{const I=Sd(r.current).includes(CSS.escape(k.animationName));if(k.target===e&&I&&(m("ANIMATION_END"),!o.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",g=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=k=>{k.target===e&&(a.current=Sd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{x.clearTimeout(g),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:S.useCallback(g=>{r.current=g?getComputedStyle(g):null,t(g)},[])}}function Sd(n){return n?.animationName||"none"}function O3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Xh="Dialog",[BT]=zh(Xh),[L3,br]=BT(Xh),$T=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:u=!0}=n,f=S.useRef(null),m=S.useRef(null),[g,x]=Lp({prop:r,defaultProp:o??!1,onChange:a,caller:Xh});return c.jsx(L3,{scope:e,triggerRef:f,contentRef:m,contentId:Ha(),titleId:Ha(),descriptionId:Ha(),open:g,onOpenChange:x,onOpenToggle:S.useCallback(()=>x(_=>!_),[x]),modal:u,children:t})};$T.displayName=Xh;var HT="DialogTrigger",V3=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=br(HT,t),a=jt(e,o.triggerRef);return c.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":fy(o.open),...r,ref:a,onClick:yt(n.onClick,o.onOpenToggle)})});V3.displayName=HT;var dy="DialogPortal",[F3,WT]=BT(dy,{forceMount:void 0}),qT=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,a=br(dy,e);return c.jsx(F3,{scope:e,forceMount:t,children:S.Children.map(r,u=>c.jsx(Yh,{present:t||a.open,children:c.jsx(ly,{asChild:!0,container:o,children:u})}))})};qT.displayName=dy;var ph="DialogOverlay",GT=S.forwardRef((n,e)=>{const t=WT(ph,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=br(ph,n.__scopeDialog);return a.modal?c.jsx(Yh,{present:r||a.open,children:c.jsx(z3,{...o,ref:e})}):null});GT.displayName=ph;var U3=Ga("DialogOverlay.RemoveScroll"),z3=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=br(ph,t);return c.jsx(cy,{as:U3,allowPinchZoom:!0,shards:[o.contentRef],children:c.jsx(ct.div,{"data-state":fy(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Do="DialogContent",KT=S.forwardRef((n,e)=>{const t=WT(Do,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=br(Do,n.__scopeDialog);return c.jsx(Yh,{present:r||a.open,children:a.modal?c.jsx(B3,{...o,ref:e}):c.jsx($3,{...o,ref:e})})});KT.displayName=Do;var B3=S.forwardRef((n,e)=>{const t=br(Do,n.__scopeDialog),r=S.useRef(null),o=jt(e,t.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return lT(a)},[]),c.jsx(QT,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(n.onCloseAutoFocus,a=>{a.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:yt(n.onPointerDownOutside,a=>{const u=a.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&a.preventDefault()}),onFocusOutside:yt(n.onFocusOutside,a=>a.preventDefault())})}),$3=S.forwardRef((n,e)=>{const t=br(Do,n.__scopeDialog),r=S.useRef(!1),o=S.useRef(!1);return c.jsx(QT,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=a.target;t.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),QT=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...u}=n,f=br(Do,t),m=S.useRef(null),g=jt(e,m);return OE(),c.jsxs(c.Fragment,{children:[c.jsx(Zg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:c.jsx(Jg,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":fy(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(H3,{titleId:f.titleId}),c.jsx(q3,{contentRef:m,descriptionId:f.descriptionId})]})]})}),hy="DialogTitle",YT=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=br(hy,t);return c.jsx(ct.h2,{id:o.titleId,...r,ref:e})});YT.displayName=hy;var XT="DialogDescription",JT=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=br(XT,t);return c.jsx(ct.p,{id:o.descriptionId,...r,ref:e})});JT.displayName=XT;var ZT="DialogClose",eS=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=br(ZT,t);return c.jsx(ct.button,{type:"button",...r,ref:e,onClick:yt(n.onClick,()=>o.onOpenChange(!1))})});eS.displayName=ZT;function fy(n){return n?"open":"closed"}var tS="DialogTitleWarning",[mV,nS]=m6(tS,{contentName:Do,titleName:hy,docsSlug:"dialog"}),H3=({titleId:n})=>{const e=nS(tS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},W3="DialogDescriptionWarning",q3=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nS(W3).contentName}}.`;return S.useEffect(()=>{const o=n.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},G3=$T,K3=qT,Q3=GT,Y3=KT,X3=YT,J3=JT,Z3=eS;function eV({...n}){return c.jsx(G3,{"data-slot":"dialog",...n})}function tV({...n}){return c.jsx(K3,{"data-slot":"dialog-portal",...n})}function nV({className:n,...e}){return c.jsx(Q3,{"data-slot":"dialog-overlay",className:Tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function rV({className:n,children:e,...t}){return c.jsxs(tV,{"data-slot":"dialog-portal",children:[c.jsx(nV,{}),c.jsxs(Y3,{"data-slot":"dialog-content",className:Tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,c.jsxs(Z3,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(Sc,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function sV({className:n,...e}){return c.jsx("div",{"data-slot":"dialog-header",className:Tt("flex flex-col gap-2 text-center sm:text-left",n),...e})}function iV({className:n,...e}){return c.jsx(X3,{"data-slot":"dialog-title",className:Tt("text-lg leading-none font-semibold",n),...e})}function oV({className:n,...e}){return c.jsx(J3,{"data-slot":"dialog-description",className:Tt("text-muted-foreground text-sm",n),...e})}class aV{static SHEETS_API_URL="https://sheets.googleapis.com/v4/spreadsheets";static SCRIPT_URL="https://script.google.com/macros/s/AKfycbz_Wg2EWYGw_R55MJL4HQFgZRxyGUCDuTF7FYBaYHrpex_IXRJcvYpsBEthJf1k-cJYXQ/exec";static async sendToGoogleSheets(e,t){try{const r={type:t,timestamp:new Date().toISOString(),...e},o=await fetch(this.SCRIPT_URL,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return console.log("Data sent to Google Sheets successfully"),{success:!0}}catch(r){throw console.error("Google Sheets error:",r),r}}static async sendToSheetsAPI(e,t){const r=Deno.env.get("GOOGLE_SHEETS_API_KEY"),o=Deno.env.get("GOOGLE_SHEETS_ID");if(!r||!o)throw new Error("Google Sheets API key or spreadsheet ID not configured");const u=`${t==="contact"?"Contacts":"Bookings"}!A:Z`,f=t==="contact"?[new Date().toISOString(),e.name,e.email,e.phone||"",e.company||"",e.service||"",e.budget||"",e.message||"","new"]:[new Date().toISOString(),e.name,e.email,e.phone||"",e.company||"",e.selectedDate,e.selectedTime,e.message||"","scheduled"],m=await fetch(`${this.SHEETS_API_URL}/${o}/values/${u}:append?valueInputOption=RAW&key=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({values:[f]})});if(!m.ok)throw new Error(`Google Sheets API error: ${m.statusText}`);return await m.json()}}function lV(){const[n,e]=S.useState({name:"",email:"",phone:"",company:"",service:"",budget:"",message:""}),[t,r]=S.useState(!1),o=async m=>{m.preventDefault();try{await Rd(pc(Oa,"contacts"),{...n,status:"new",createdAt:tr()});try{await aV.sendToGoogleSheets(n,"contact")}catch(g){console.warn("Google Apps Script notification skipped/failed (non-blocking):",g)}r(!0),e({name:"",email:"",phone:"",company:"",service:"",budget:"",message:""})}catch(g){console.error("Contact form error:",g),alert("There was an error submitting your message. Please try again or contact us directly.")}},a=m=>{e({...n,[m.target.name]:m.target.value})},u=[{icon:c.jsx(k_,{className:"h-6 w-6 text-blue-600"}),title:"Email Us",content:"sam.daodu@maclabsmarketing.com",description:"We'll respond within 24 hours"},{icon:c.jsx(R_,{className:"h-6 w-6 text-green-600"}),title:"Call Us",content:"+447831692196",description:"Mon - Sat, 9AM-6PM GMT"},{icon:c.jsx(Ka,{className:"h-6 w-6 text-orange-600"}),title:"Business Hours",content:"Mon - Sat 9AM-6PM",description:"GMT (Greenwich Mean Time)"}],f=[{question:"How long does it take to see results?",answer:"Most clients start seeing initial results within 30-60 days, with significant improvements typically visible after 3 months of consistent implementation."},{question:"What's included in your monthly retainer?",answer:"Our retainers include strategy development, campaign execution, content creation, performance monitoring, and monthly reporting calls."},{question:"Do you work with small businesses?",answer:"Absolutely! We work with businesses of all sizes, from startups to enterprise companies. We tailor our services to fit your budget and goals."},{question:"Can we start with a small project?",answer:"Yes, we offer project-based work and can start with a smaller engagement to demonstrate our capabilities before moving to a retainer relationship."}];return c.jsxs("div",{className:"pt-16",children:[c.jsx(eV,{open:t,onOpenChange:r,children:c.jsxs(rV,{className:"sm:max-w-md",children:[c.jsxs(sV,{children:[c.jsx(iV,{className:"text-2xl",children:"Message sent successfully"}),c.jsx(oV,{children:"Thank you for reaching out. We'll get back to you within 24 hours."})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(Oe,{onClick:()=>r(!1),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Close"})})]})}),c.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-indigo-100",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Let's Scale Your"," ",c.jsx("span",{className:"text-blue-600",children:"Crypto Project"})]}),c.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-8",children:"Ready to build authority and attract investors? Get in touch with our crypto-native team and let's discuss how we can help you achieve your Web3 goals."}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-500",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Free Consultation"]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Custom Crypto Strategy"]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"No Pressure Sales"]})]})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 lg:p-12",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Send us a message"}),c.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),c.jsxs("form",{onSubmit:o,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),c.jsx(Ht,{type:"text",name:"name",value:n.name,onChange:a,placeholder:"John Doe",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),c.jsx(Ht,{type:"email",name:"email",value:n.email,onChange:a,placeholder:"john@company.com",required:!0})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsx(Ht,{type:"tel",name:"phone",value:n.phone,onChange:a,placeholder:"+44 (0)115 123 4567"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),c.jsx(Ht,{type:"text",name:"company",value:n.company,onChange:a,placeholder:"Your Company"})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Interest"}),c.jsxs(t_,{value:n.service,onValueChange:m=>e({...n,service:m}),children:[c.jsx(r_,{children:c.jsx(n_,{placeholder:"Select a service"})}),c.jsxs(s_,{children:[c.jsx(er,{value:"content-strategy",children:"Content Strategy"}),c.jsx(er,{value:"social-media",children:"Social Media Marketing"}),c.jsx(er,{value:"email-marketing",children:"Email Marketing"}),c.jsx(er,{value:"seo-sem",children:"SEO & SEM"}),c.jsx(er,{value:"brand-design",children:"Brand Design"}),c.jsx(er,{value:"analytics",children:"Analytics & Reporting"}),c.jsx(er,{value:"full-service",children:"Full Service Package"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Budget"}),c.jsxs(t_,{value:n.budget,onValueChange:m=>e({...n,budget:m}),children:[c.jsx(r_,{children:c.jsx(n_,{placeholder:"Select budget range"})}),c.jsxs(s_,{children:[c.jsx(er,{value:"under-2k",children:"Under £1,500"}),c.jsx(er,{value:"2k-5k",children:"£1,500 - £4,000"}),c.jsx(er,{value:"5k-10k",children:"£4,000 - £8,000"}),c.jsx(er,{value:"10k-25k",children:"£8,000 - £20,000"}),c.jsx(er,{value:"over-25k",children:"Over £20,000"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tell us about your project"}),c.jsx($d,{name:"message",value:n.message,onChange:a,placeholder:"Describe your goals, challenges, and what you're hoping to achieve...",rows:5})]}),c.jsxs(Oe,{type:"submit",size:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx(jC,{className:"h-5 w-5 mr-2"}),"Send Message"]})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get in touch"}),c.jsx("div",{className:"space-y-6",children:u.map((m,g)=>c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mr-4",children:c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:m.icon})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:m.title}),c.jsx("p",{className:"text-gray-900 mb-1",children:m.content}),c.jsx("p",{className:"text-sm text-gray-500",children:m.description})]})]},g))})]}),c.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(A_,{className:"h-5 w-5 mr-2 text-blue-600"}),"Prefer to talk?"]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Schedule a free 30-minute consultation call to discuss your needs."}),c.jsx(Oe,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Schedule a Call"})]})]})]})})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),c.jsx("p",{className:"text-gray-600",children:"Get quick answers to common questions about our services and process."})]}),c.jsx("div",{className:"space-y-6",children:f.map((m,g)=>c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:m.question}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:m.answer})]},g))}),c.jsxs("div",{className:"text-center mt-12",children:[c.jsx("p",{className:"text-gray-600 mb-4",children:"Still have questions? We're here to help."}),c.jsx(Oe,{variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:"Contact Support"})]})]})})]})}function cV(){const[n,e]=S.useState({connection:{status:"pending",message:"Testing Firebase connection..."},firestore:{status:"pending",message:"Testing Firestore access..."},auth:{status:"pending",message:"Testing Authentication..."},blogService:{status:"pending",message:"Testing Blog Service..."}}),[t,r]=S.useState(!1),o=async()=>{r(!0),e(f=>({...f,connection:{status:"running",message:"Testing Firebase connection..."}}));try{const f=await e6();e(m=>({...m,connection:{status:f?"success":"error",message:f?"Firebase connection successful!":"Firebase connection failed"}}))}catch(f){e(m=>({...m,connection:{status:"error",message:`Connection error: ${f}`}}))}e(f=>({...f,firestore:{status:"running",message:"Testing Firestore access..."}}));try{const f=await ot.getAllPosts();e(m=>({...m,firestore:{status:"success",message:`Firestore access successful! Found ${f.length} posts.`}}))}catch(f){e(m=>({...m,firestore:{status:"error",message:`Firestore error: ${f}`}}))}e(f=>({...f,auth:{status:"running",message:"Testing Authentication..."}}));try{const f=Ld.getCurrentUser();e(m=>({...m,auth:{status:"success",message:f?`Authentication working! User: ${f.email}`:"Authentication ready (no user logged in)"}}))}catch(f){e(m=>({...m,auth:{status:"error",message:`Auth error: ${f}`}}))}e(f=>({...f,blogService:{status:"running",message:"Testing Blog Service..."}}));try{const f=await ot.getCategories();e(m=>({...m,blogService:{status:"success",message:`Blog Service working! Found ${f.length} categories.`}}))}catch(f){e(m=>({...m,blogService:{status:"error",message:`Blog Service error: ${f}`}}))}r(!1)},a=f=>{switch(f){case"success":return c.jsx(F0,{className:"h-5 w-5 text-green-600"});case"error":return c.jsx(U0,{className:"h-5 w-5 text-red-600"});case"running":return c.jsx(z0,{className:"h-5 w-5 text-blue-600 animate-spin"});default:return c.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded-full"})}},u=f=>{switch(f){case"success":return"text-green-600";case"error":return"text-red-600";case"running":return"text-blue-600";default:return"text-gray-600"}};return c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs(Fn,{children:[c.jsxs(bi,{children:[c.jsx(Ei,{children:"Firebase Integration Test"}),c.jsx(Xg,{children:"Test your Firebase credentials and services to ensure everything is working correctly."})]}),c.jsxs(Un,{className:"space-y-4",children:[c.jsx(Oe,{onClick:o,disabled:t,className:"w-full",children:t?c.jsxs(c.Fragment,{children:[c.jsx(z0,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Tests..."]}):"Run Firebase Tests"}),c.jsx("div",{className:"space-y-3",children:Object.entries(n).map(([f,m])=>c.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[a(m.status),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`font-medium ${u(m.status)}`,children:f.charAt(0).toUpperCase()+f.slice(1).replace(/([A-Z])/g," $1")}),c.jsx("p",{className:"text-sm text-gray-600",children:m.message})]})]},f))}),Object.values(n).every(f=>f.status==="success")&&c.jsxs(xi,{children:[c.jsx(F0,{className:"h-4 w-4"}),c.jsx(wi,{children:"🎉 All tests passed! Your Firebase integration is working correctly."})]}),Object.values(n).some(f=>f.status==="error")&&c.jsxs(xi,{children:[c.jsx(U0,{className:"h-4 w-4"}),c.jsx(wi,{children:"❌ Some tests failed. Check the error messages above and verify your Firebase configuration."})]})]})]})})}function uV(){const[n,e]=S.useState(null),[t,r]=S.useState(!1),o=async()=>{r(!0);try{console.log("🔍 Starting blog data debug...");const f=localStorage.getItem("maclabs-blog-posts"),m=!!f,g=f?JSON.parse(f):[],x=await ot.getAllPosts(),_=await ot.getPublishedPosts(),E=await ot.getFeaturedPosts(),k=await ot.getCategories(),O={localStorage:{hasData:m,postCount:g.length,posts:g.map(I=>({id:I.id,title:I.title,published:I.published}))},firestore:{allPosts:x.length,publishedPosts:_.length,featuredPosts:E.length,categories:k.length,posts:x.map(I=>({id:I.id,title:I.title,published:I.published}))}};console.log("📊 Debug Results:",O),e(O)}catch(f){console.error("❌ Debug failed:",f),e({error:f.message})}finally{r(!1)}},a=async()=>{try{console.log("🔄 Starting data migration..."),await ot.migrateFromLocalStorage(),console.log("✅ Migration completed!"),o()}catch(f){console.error("❌ Migration failed:",f)}},u=async()=>{try{console.log("🔄 Initializing default posts..."),await ot.initializeDefaultPosts(),console.log("✅ Default posts initialized!"),o()}catch(f){console.error("❌ Initialization failed:",f)}};return S.useEffect(()=>{o()},[]),c.jsx("div",{className:"max-w-6xl mx-auto p-6",children:c.jsxs(Fn,{children:[c.jsxs(bi,{children:[c.jsxs(Ei,{className:"flex items-center",children:[c.jsx(UN,{className:"h-5 w-5 mr-2"}),"Blog Data Debug"]}),c.jsx(Xg,{children:"Debug your blog data to see what's stored in localStorage vs Firestore"})]}),c.jsxs(Un,{className:"space-y-6",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsxs(Oe,{onClick:o,disabled:t,children:[c.jsx(SC,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),"Refresh Debug"]}),c.jsx(Oe,{onClick:a,variant:"outline",children:"Migrate from localStorage"}),c.jsx(Oe,{onClick:u,variant:"outline",children:"Initialize Default Posts"})]}),n&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(Fn,{children:[c.jsx(bi,{children:c.jsx(Ei,{className:"text-lg",children:"localStorage Data"})}),c.jsx(Un,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Has Data:"})," ",n.localStorage?.hasData?"Yes":"No"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Post Count:"})," ",n.localStorage?.postCount||0]}),n.localStorage?.posts&&n.localStorage.posts.length>0&&c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("strong",{children:"Posts:"})}),c.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:n.localStorage.posts.map((f,m)=>c.jsxs("li",{children:[f.title," ",f.published?"(Published)":"(Draft)"]},m))})]})]})})]}),c.jsxs(Fn,{children:[c.jsx(bi,{children:c.jsx(Ei,{className:"text-lg",children:"Firestore Data"})}),c.jsx(Un,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"All Posts:"})," ",n.firestore?.allPosts||0]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Published Posts:"})," ",n.firestore?.publishedPosts||0]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Featured Posts:"})," ",n.firestore?.featuredPosts||0]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Categories:"})," ",n.firestore?.categories||0]}),n.firestore?.posts&&n.firestore.posts.length>0&&c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("strong",{children:"Posts:"})}),c.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:n.firestore.posts.map((f,m)=>c.jsxs("li",{children:[f.title," ",f.published?"(Published)":"(Draft)"]},m))})]})]})})]})]}),n?.error&&c.jsx(xi,{children:c.jsxs(wi,{children:[c.jsx("strong",{children:"Error:"})," ",n.error]})}),n&&!n.error&&c.jsxs(Fn,{children:[c.jsx(bi,{children:c.jsx(Ei,{className:"text-lg",children:"Recommendations"})}),c.jsxs(Un,{children:[n.localStorage?.hasData&&n.firestore?.allPosts===0&&c.jsx(xi,{children:c.jsxs(wi,{children:[c.jsx("strong",{children:"Action Needed:"}),' You have data in localStorage but none in Firestore. Click "Migrate from localStorage" to move your data to Firestore.']})}),!n.localStorage?.hasData&&n.firestore?.allPosts===0&&c.jsx(xi,{children:c.jsxs(wi,{children:[c.jsx("strong",{children:"Action Needed:"}),' No data found in localStorage or Firestore. Click "Initialize Default Posts" to create sample content.']})}),n.firestore?.allPosts>0&&n.firestore?.publishedPosts===0&&c.jsx(xi,{children:c.jsxs(wi,{children:[c.jsx("strong",{children:"Issue Found:"})," You have ",n.firestore.allPosts," posts in Firestore, but none are marked as published. Check your admin dashboard to publish some posts."]})}),n.firestore?.publishedPosts>0&&c.jsx(xi,{children:c.jsxs(wi,{children:[c.jsx("strong",{children:"✅ Good:"})," You have ",n.firestore.publishedPosts," published posts in Firestore. Your blog should be working correctly."]})})]})]})]})]})})}function dV(){const[n,e]=S.useState("home"),[t,r]=S.useState(null);S.useEffect(()=>{const u=()=>{const m=new URLSearchParams(window.location.search).get("post");if(m){e("blog-post"),r(m);return}const g=window.location.pathname.replace(/^\/+/,"")||"home",_={"":"home",home:"home",about:"about",services:"services",blog:"blog",contact:"contact",admin:"admin","admin-dashboard":"admin-dashboard"}[g]||"home";e(_),r(null)};return u(),window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}},[]);const o=(u,f)=>{e(u),r(f||null);const m={home:"/",about:"/about",services:"/services",blog:"/blog",contact:"/contact",admin:"/admin","admin-dashboard":"/admin-dashboard"};if(u==="blog-post"&&f){const g=new URLSearchParams({post:f});window.history.pushState({},"",`/?${g.toString()}`)}else{const g=m[u]||"/";window.history.pushState({},"",g)}},a=()=>{switch(n){case"home":return c.jsx(H0,{onPageChange:o});case"about":return c.jsx(pk,{onPageChange:o});case"services":return c.jsx(gk,{onPageChange:o});case"blog":return c.jsx(n6,{onPageChange:o});case"blog-post":return c.jsx(r6,{onPageChange:o,postId:t||void 0});case"admin":return c.jsx(s6,{onPageChange:o});case"admin-dashboard":return c.jsx(f6,{onPageChange:o});case"contact":return c.jsx(lV,{});case"firebase-test":return c.jsx(cV,{});case"debug-blog":return c.jsx(uV,{});default:return c.jsx(H0,{onPageChange:o})}};return c.jsxs("div",{className:"min-h-screen bg-white",children:[c.jsx(ik,{currentPage:n,onPageChange:o}),c.jsx("main",{children:a()}),c.jsx(ok,{onPageChange:o})]})}yI.createRoot(document.getElementById("root")).render(c.jsx(dV,{}));
